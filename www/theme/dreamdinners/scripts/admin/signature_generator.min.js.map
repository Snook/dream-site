{"version":3,"file":"signature_generator.min.js","names":["generate_signature_init","$","mask","unbind","bind","e","generate_html_signature","download_signature","gen_signature","signature","create_and_submit_form","input","element","each","id","this","split","val","dd_link","PATH","https_server","isNumeric","sig_string","link","img","attr","title","length","first_last","telephone","cellphone","faxnumber","email","addressline2","addressline","addressline1","city","state","zipcode","html"],"sourceRoot":"js/src/dreamdinners/admin","sources":["signature_generator.js"],"sourcesContent":["function generate_signature_init()\n{\n\t$(\".telephone\").mask(\"999-999-9999\");\n\n\t$('[id^=\"sig\"]').unbind(\"keyup change\").bind(\"keyup change\", function(e) {\n\t\tgenerate_html_signature();\n\t});\n\n\tgenerate_html_signature();\n}\n\nfunction download_signature()\n{\n\tvar gen_signature = generate_html_signature();\n\n\t//signature = '<html><head></head><body><div>&nbsp;</div>' + gen_signature + '<div>&nbsp;</div></body></html>';\n\tsignature = '<div>&nbsp;</div>' + gen_signature + '<div>&nbsp;</div>';\n\n\tcreate_and_submit_form({input:{signature: signature}});\n}\n\nfunction generate_html_signature()\n{\n\tvar element = {};\n\t$('[id^=\"sig-\"]').each(function() {\n\t\tvar id = this.id.split(\"-\")[1];\n\n\t\telement[id] = $(this).val();\n\t});\n\n\tvar dd_link = PATH.https_server;\n\tif ($.isNumeric(element.dd_link) && element.dd_link != 0)\n\t{\n\t\tdd_link += '/location/id=' + element.dd_link;\n\t}\n\n\tvar sig_string = '<table width=\"400\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:300.0pt;border:solid #563518 2.25pt;border-bottom:solid #563518 1.0pt;border-color:#563518;border-style:solid;border-width:3px 3px 0px 3px;\"><tr><td width=\"144\" style=\"width:1.5in;border:none;padding:7.5pt 7.5pt 7.5pt 7.5pt;text-align:center;vertical-align:top;\"><div><a href=\"' + PATH.https_server + '\"><img src=\"' + PATH.https_server + '/web_resources/campaigns/sig_files/olive_box_white_logo.gif\" style=\"border:0px;width:122px;height:78px;\" alt=\"Dream Dinners\" /></a></div><div><a href=\"' + dd_link + '\" style=\"color:#563518;text-decoration:none;\">dreamdinners.com</a></div><div>&nbsp;</div><div>';\n\n\t$('[id^=\"sig_link-\"]').each(function() {\n\t\tlink = $(this).val();\n\t\timg = $(this).attr('data-img');\n\t\ttitle = $(this).attr('data-title');\n\n\t\tif (link.length > 0)\n\t\t{\n\t\t\tsig_string += '<a href=\"' + link + '\"><img src=\"' + PATH.https_server + '/web_resources/campaigns/sig_files/' + img + '\" style=\"border:0px;width:16px;height:16px;\" alt=\"' + title + '\" /></a>&nbsp;';\n\t\t}\n\t});\n\n\tsig_string += '</div></td><td width=\"256\" style=\"width:192.0pt;border:none;padding:7.5pt 7.5pt 7.5pt 7.5pt;vertical-align:top;color:#563518;font-size:9pt;font-family:arial;\"><div style=\"font-weight:bold;color:#00583f;font-size:11pt;\">' + element.first_last + '</div><div style=\"font-weight:bold;font-size:10pt;\">' + element.title + '</div><div><div>&nbsp;</div>';\n\n\tif (element.telephone.length > 0)\n\t{\n\t\tsig_string += '<div>P. ' + element.telephone + '</div>';\n\t}\n\n\tif (element.cellphone.length > 0)\n\t{\n\t\tsig_string += '<div>C. ' + element.cellphone + '</div>';\n\t}\n\n\tif (element.faxnumber.length > 0)\n\t{\n\t\tsig_string += '<div>F. ' + element.faxnumber + '</div>';\n\t}\n\n\tif (element.email.length > 0)\n\t{\n\t\tsig_string += '<div><a href=\"mailto:' + element.email + '\">' + element.email + '</a></div>';\n\t}\n\n\tif (element.telephone.length + element.cellphone.length + element.faxnumber.length + element.email.length > 0)\n\t{\n\t\tsig_string += '<div>&nbsp;</div>';\n\t}\n\n\tif (element.addressline2.length > 0)\n\t{\n\t\telement.addressline = element.addressline1 + ', ' + element.addressline2;\n\t}\n\telse\n\t{\n\t\telement.addressline = element.addressline1;\n\t}\n\n\tsig_string += '<div>' + element.addressline + '</div>';\n\n\tsig_string += '<div>' + element.city + ', ' + element.state + ' ' + element.zipcode + '</div>';\n\n\tsig_string += '</div></td></tr><tr><td colspan=\"2\" style=\"background-color:#563518;text-align:right;padding:0px;\"><img src=\"' + PATH.https_server + '/web_resources/campaigns/sig_files/brown_footer_make_time.gif\" style=\"border:0px;width:376;height:21px;\" alt=\"Make Time. Make Dinner. Make Memories.\" /></td></tr></table>';\n\n\t$('#sig_preview').html(sig_string);\n\n\treturn sig_string;\n}"],"mappings":"AAAA,SAASA,0BAERC,EAAE,cAAcC,KAAK,gBAErBD,EAAE,eAAeE,OAAO,gBAAgBC,KAAK,gBAAgB,SAASC,GACrEC,yBACD,IAEAA,yBACD,CAEA,SAASC,qBAER,IAAIC,EAAgBF,0BAGpBG,UAAY,oBAAsBD,EAAgB,oBAElDE,uBAAuB,CAACC,MAAM,CAACF,UAAWA,YAC3C,CAEA,SAASH,0BAER,IAAIM,EAAU,CAAC,EACfX,EAAE,gBAAgBY,MAAK,WACtB,IAAIC,EAAKC,KAAKD,GAAGE,MAAM,KAAK,GAE5BJ,EAAQE,GAAMb,EAAEc,MAAME,KACvB,IAEA,IAAIC,EAAUC,KAAKC,aACfnB,EAAEoB,UAAUT,EAAQM,UAA+B,GAAnBN,EAAQM,UAE3CA,GAAW,gBAAkBN,EAAQM,SAGtC,IAAII,EAAa,mWAAqWH,KAAKC,aAAe,eAAiBD,KAAKC,aAAe,0JAA4JF,EAAU,iGAyDrlB,OAvDAjB,EAAE,qBAAqBY,MAAK,WAC3BU,KAAOtB,EAAEc,MAAME,MACfO,IAAMvB,EAAEc,MAAMU,KAAK,YACnBC,MAAQzB,EAAEc,MAAMU,KAAK,cAEjBF,KAAKI,OAAS,IAEjBL,GAAc,YAAcC,KAAO,eAAiBJ,KAAKC,aAAe,sCAAwCI,IAAM,qDAAuDE,MAAQ,iBAEvL,IAEAJ,GAAc,8NAAgOV,EAAQgB,WAAa,uDAAyDhB,EAAQc,MAAQ,+BAExUd,EAAQiB,UAAUF,OAAS,IAE9BL,GAAc,WAAaV,EAAQiB,UAAY,UAG5CjB,EAAQkB,UAAUH,OAAS,IAE9BL,GAAc,WAAaV,EAAQkB,UAAY,UAG5ClB,EAAQmB,UAAUJ,OAAS,IAE9BL,GAAc,WAAaV,EAAQmB,UAAY,UAG5CnB,EAAQoB,MAAML,OAAS,IAE1BL,GAAc,wBAA0BV,EAAQoB,MAAQ,KAAOpB,EAAQoB,MAAQ,cAG5EpB,EAAQiB,UAAUF,OAASf,EAAQkB,UAAUH,OAASf,EAAQmB,UAAUJ,OAASf,EAAQoB,MAAML,OAAS,IAE3GL,GAAc,qBAGXV,EAAQqB,aAAaN,OAAS,EAEjCf,EAAQsB,YAActB,EAAQuB,aAAe,KAAOvB,EAAQqB,aAI5DrB,EAAQsB,YAActB,EAAQuB,aAG/Bb,GAAc,QAAUV,EAAQsB,YAAc,SAE9CZ,GAAc,QAAUV,EAAQwB,KAAO,KAAOxB,EAAQyB,MAAQ,IAAMzB,EAAQ0B,QAAU,SAEtFhB,GAAc,gHAAkHH,KAAKC,aAAe,6KAEpJnB,EAAE,gBAAgBsC,KAAKjB,GAEhBA,CACR"}