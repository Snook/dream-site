{"version":3,"file":"signature_generator.min.js","names":["generate_signature_init","$","mask","unbind","bind","e","generate_html_signature","download_signature","gen_signature","signature","create_and_submit_form","input","element","each","id","this","split","val","dd_link","isNumeric","sig_string","link","img","attr","title","length","first_last","telephone","cellphone","faxnumber","email","addressline2","addressline","addressline1","city","state","zipcode","html"],"sourceRoot":"js/src/dreamdinners/admin","sources":["signature_generator.js"],"sourcesContent":["function generate_signature_init()\r\n{\r\n\t$(\".telephone\").mask(\"999-999-9999\");\r\n\r\n\t$('[id^=\"sig\"]').unbind(\"keyup change\").bind(\"keyup change\", function(e) {\r\n\t\tgenerate_html_signature();\r\n\t});\r\n\r\n\tgenerate_html_signature();\r\n}\r\n\r\nfunction download_signature()\r\n{\r\n\tvar gen_signature = generate_html_signature();\r\n\r\n\t//signature = '<html><head></head><body><div>&nbsp;</div>' + gen_signature + '<div>&nbsp;</div></body></html>';\r\n\tsignature = '<div>&nbsp;</div>' + gen_signature + '<div>&nbsp;</div>';\r\n\r\n\tcreate_and_submit_form({input:{signature: signature}});\r\n}\r\n\r\nfunction generate_html_signature()\r\n{\r\n\tvar element = {};\r\n\t$('[id^=\"sig-\"]').each(function() {\r\n\t\tvar id = this.id.split(\"-\")[1];\r\n\r\n\t\telement[id] = $(this).val();\r\n\t});\r\n\r\n\tvar dd_link = 'https://dreamdinners.com';\r\n\tif ($.isNumeric(element.dd_link) && element.dd_link != 0)\r\n\t{\r\n\t\tdd_link += '/main.php?page=store&amp;id=' + element.dd_link;\r\n\t}\r\n\r\n\tvar sig_string = '<table width=\"400\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:300.0pt;border:solid #563518 2.25pt;border-bottom:solid #563518 1.0pt;border-color:#563518;border-style:solid;border-width:3px 3px 0px 3px;\"><tr><td width=\"144\" style=\"width:1.5in;border:none;padding:7.5pt 7.5pt 7.5pt 7.5pt;text-align:center;vertical-align:top;\"><div><a href=\"https://dreamdinners.com\"><img src=\"https://dreamdinners.com/web_resources/campaigns/sig_files/olive_box_white_logo.gif\" style=\"border:0px;width:122px;height:78px;\" alt=\"Dream Dinners\" /></a></div><div><a href=\"' + dd_link + '\" style=\"color:#563518;text-decoration:none;\">dreamdinners.com</a></div><div>&nbsp;</div><div>';\r\n\r\n\t$('[id^=\"sig_link-\"]').each(function() {\r\n\t\tlink = $(this).val();\r\n\t\timg = $(this).attr('data-img');\r\n\t\ttitle = $(this).attr('data-title');\r\n\r\n\t\tif (link.length > 0)\r\n\t\t{\r\n\t\t\tsig_string += '<a href=\"' + link + '\"><img src=\"https://dreamdinners.com/web_resources/campaigns/sig_files/' + img + '\" style=\"border:0px;width:16px;height:16px;\" alt=\"' + title + '\" /></a>&nbsp;';\r\n\t\t}\r\n\t});\r\n\r\n\tsig_string += '</div></td><td width=\"256\" style=\"width:192.0pt;border:none;padding:7.5pt 7.5pt 7.5pt 7.5pt;vertical-align:top;color:#563518;font-size:9pt;font-family:arial;\"><div style=\"font-weight:bold;color:#00583f;font-size:11pt;\">' + element.first_last + '</div><div style=\"font-weight:bold;font-size:10pt;\">' + element.title + '</div><div><div>&nbsp;</div>';\r\n\r\n\tif (element.telephone.length > 0)\r\n\t{\r\n\t\tsig_string += '<div>P. ' + element.telephone + '</div>';\r\n\t}\r\n\r\n\tif (element.cellphone.length > 0)\r\n\t{\r\n\t\tsig_string += '<div>C. ' + element.cellphone + '</div>';\r\n\t}\r\n\r\n\tif (element.faxnumber.length > 0)\r\n\t{\r\n\t\tsig_string += '<div>F. ' + element.faxnumber + '</div>';\r\n\t}\r\n\r\n\tif (element.email.length > 0)\r\n\t{\r\n\t\tsig_string += '<div><a href=\"mailto:' + element.email + '\">' + element.email + '</a></div>';\r\n\t}\r\n\r\n\tif (element.telephone.length + element.cellphone.length + element.faxnumber.length + element.email.length > 0)\r\n\t{\r\n\t\tsig_string += '<div>&nbsp;</div>';\r\n\t}\r\n\r\n\tif (element.addressline2.length > 0)\r\n\t{\r\n\t\telement.addressline = element.addressline1 + ', ' + element.addressline2;\r\n\t}\r\n\telse\r\n\t{\r\n\t\telement.addressline = element.addressline1;\r\n\t}\r\n\r\n\tsig_string += '<div>' + element.addressline + '</div>';\r\n\r\n\tsig_string += '<div>' + element.city + ', ' + element.state + ' ' + element.zipcode + '</div>';\r\n\r\n\tsig_string += '</div></td></tr><tr><td colspan=\"2\" style=\"background-color:#563518;text-align:right;padding:0px;\"><img src=\"https://dreamdinners.com/web_resources/campaigns/sig_files/brown_footer_make_time.gif\" style=\"border:0px;width:376;height:21px;\" alt=\"Make Time. Make Dinner. Make Memories.\" /></td></tr></table>';\r\n\r\n\t$('#sig_preview').html(sig_string);\r\n\r\n\treturn sig_string;\r\n}"],"mappings":"AAAA,SAASA,0BAERC,EAAE,cAAcC,KAAK,gBAErBD,EAAE,eAAeE,OAAO,gBAAgBC,KAAK,gBAAgB,SAASC,GACrEC,yBACD,IAEAA,yBACD,CAEA,SAASC,qBAER,IAAIC,EAAgBF,0BAGpBG,UAAY,oBAAsBD,EAAgB,oBAElDE,uBAAuB,CAACC,MAAM,CAACF,UAAWA,YAC3C,CAEA,SAASH,0BAER,IAAIM,EAAU,CAAC,EACfX,EAAE,gBAAgBY,MAAK,WACtB,IAAIC,EAAKC,KAAKD,GAAGE,MAAM,KAAK,GAE5BJ,EAAQE,GAAMb,EAAEc,MAAME,KACvB,IAEA,IAAIC,EAAU,2BACVjB,EAAEkB,UAAUP,EAAQM,UAA+B,GAAnBN,EAAQM,UAE3CA,GAAW,+BAAiCN,EAAQM,SAGrD,IAAIE,EAAa,sjBAAwjBF,EAAU,iGAyDnlB,OAvDAjB,EAAE,qBAAqBY,MAAK,WAC3BQ,KAAOpB,EAAEc,MAAME,MACfK,IAAMrB,EAAEc,MAAMQ,KAAK,YACnBC,MAAQvB,EAAEc,MAAMQ,KAAK,cAEjBF,KAAKI,OAAS,IAEjBL,GAAc,YAAcC,KAAO,0EAA4EC,IAAM,qDAAuDE,MAAQ,iBAEtL,IAEAJ,GAAc,8NAAgOR,EAAQc,WAAa,uDAAyDd,EAAQY,MAAQ,+BAExUZ,EAAQe,UAAUF,OAAS,IAE9BL,GAAc,WAAaR,EAAQe,UAAY,UAG5Cf,EAAQgB,UAAUH,OAAS,IAE9BL,GAAc,WAAaR,EAAQgB,UAAY,UAG5ChB,EAAQiB,UAAUJ,OAAS,IAE9BL,GAAc,WAAaR,EAAQiB,UAAY,UAG5CjB,EAAQkB,MAAML,OAAS,IAE1BL,GAAc,wBAA0BR,EAAQkB,MAAQ,KAAOlB,EAAQkB,MAAQ,cAG5ElB,EAAQe,UAAUF,OAASb,EAAQgB,UAAUH,OAASb,EAAQiB,UAAUJ,OAASb,EAAQkB,MAAML,OAAS,IAE3GL,GAAc,qBAGXR,EAAQmB,aAAaN,OAAS,EAEjCb,EAAQoB,YAAcpB,EAAQqB,aAAe,KAAOrB,EAAQmB,aAI5DnB,EAAQoB,YAAcpB,EAAQqB,aAG/Bb,GAAc,QAAUR,EAAQoB,YAAc,SAE9CZ,GAAc,QAAUR,EAAQsB,KAAO,KAAOtB,EAAQuB,MAAQ,IAAMvB,EAAQwB,QAAU,SAEtFhB,GAAc,kTAEdnB,EAAE,gBAAgBoC,KAAKjB,GAEhBA,CACR"}