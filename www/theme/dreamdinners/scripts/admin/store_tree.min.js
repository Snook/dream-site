function init_store_selector(e){$("#store_selector").bind("loaded.jstree",function(e,t){$("#store_selector").show()}).jstree({types:{default:{li_attr:{style:"color:black;"},icon:false},active_corp:{li_attr:{style:"color:black;"},icon:PATH.image_admin+"/icon/corp_active.png"},inactive_corp:{li_attr:{style:"color:gray;"},icon:PATH.image_admin+"/icon/corp_inactive.png"},active_franchise:{li_attr:{style:"color:black;"},icon:PATH.image_admin+"/icon/franchise_active.png"},inactive_franchise:{li_attr:{style:"color:gray;"},icon:PATH.image_admin+"/icon/franchise_inactive.png"},active_dist_ctr:{li_attr:{style:"color:black;"},icon:PATH.image_admin+"/icon/DC_active.png"},inactive_dist_ctr:{li_attr:{style:"color:gray;"},icon:PATH.image_admin+"/icon/DC_inactive.png"}},plugins:["checkbox","types","state"],core:{themes:{name:"default",dots:true,icons:true,stripes:true}},state:{key:e,state_events:"",filter:stateFilter}});var t=$.jstree.reference("#store_selector");if(t!=null){t.clear_state();$("#hide_inactive").off("change").change(function(){t.save_state();t.open_all();t.show_all();t.deselect_all();showOrHideInactiveStores($("#hide_inactive").is(":checked"));t.close_all();t.restore_state()});t.open_all();showOrHideInactiveStores(true);t.close_all();t.open_node("#topNode")}$("#ddd_menu").menu({select:function(e,t){var i=$("#hide_inactive").is(":checked");var s=t.item[0].id;switch(s){case"#reset_tree":resetTree();break;case"#select_all_tree":select_all(i);break;case"#select_franchise_tree":select_all_franchise(i);break;case"#select_corporate_tree":select_all_corporate(i);break;case"#select_dist_ctr_tree":select_all_dist_ctrs(i);break;case"#select_non_DC_tree":select_all_but_dist_ctrs(i);break;default:}$("#ddd_menu").hide()}});$("#ddd_menu").css("width","200px");$("#ddd_menu").position({my:"left top",at:"left bottom",of:$("#tree_menu_button"),collision:"fit"});$("#tree_menu_button").off("mousedown").mousedown(function(){$("#ddd_menu").show();$("#ddd_menu").hover(function(){$.doTimeout("ddd_menu_timer_hide");$.doTimeout("ddd_menu_timer_show",100,function(){$("#ddd_menu").show()})},function(){$.doTimeout("ddd_menu_timer_show");$.doTimeout("ddd_menu_timer_hide",150,function(){$("#ddd_menu").hide()})})})}function stateFilter(e){var t=$("#hide_inactive").is(":checked");if(t){numNodes=e.core.selected.length;for(i=0;i<numNodes;i++){var s=e.core.selected[i];var r=$("#store_selector").jstree(true).get_node("#"+s);var c=r.data.jstree;if(c&&c.type&&(c.type=="inactive_corp"||c.type=="inactive_franchise"||c.type=="us_state")){e.core.selected[i]=null}}}return e}function showOrHideInactiveStores(e){var t=setInactiveVisible;if(e){t=setInactiveInvisible}var i=$.jstree.reference("#store_selector");var s=i.get_node("#topNode");var r=i.get_children_dom(s);for(var c=0;c<r.length;++c){processRecursive(i,r[c],t,e)}}function setInactiveVisible(e,t,i){var s=$(t).data("jstree");if(s&&s.type&&(s.type=="inactive_corp"||s.type=="inactive_franchise"||s.type=="inactive_dist_ctr")){e.show_node(t)}}function setInactiveInvisible(e,t){var i=$(t).data("jstree");if(i&&i.type&&(i.type=="inactive_corp"||i.type=="inactive_franchise"||i.type=="inactive_dist_ctr")){e.hide_node(t);e.deselect_node(t)}}function selectAndShowCorporateStores(e,t,i){var s=$(t).data("jstree");if(s&&s.type&&(s.type=="active_corp"||s.type=="inactive_corp"&&!i)){e.select_node(t);e.show_node(t)}else if(s&&s.type&&s.type!="us_state"){e.hide_node(t)}}function selectAndShowFranchiseStores(e,t,i){var s=$(t).data("jstree");if(s&&s.type&&(s.type=="active_franchise"||s.type=="inactive_franchise"&&!i)){e.select_node(t);e.show_node(t)}else if(s&&s.type&&s.type!="us_state"){e.hide_node(t)}}function selectAndShowDistCtrs(e,t,i){var s=$(t).data("jstree");if(s&&s.type&&(s.type=="active_dist_ctr"||s.type=="inactive_dist_ctr"&&!i)){e.select_node(t);e.show_node(t)}else if(s&&s.type&&s.type!="us_state"){e.hide_node(t)}}function selectAndShowNonDistCtrs(e,t,i){var s=$(t).data("jstree");if(s&&s.type&&(s.type=="active_franchise"||s.type=="inactive_franchise"&&!i||s.type=="active_corp"||s.type=="inactive_corp"&&!i)){e.select_node(t);e.show_node(t)}else if(s&&s.type&&s.type!="us_state"){e.hide_node(t)}}function selectAndShowAllStores(e,t,i){var s=$(t).data("jstree");if(s&&s.type&&(s.type=="active_franchise"||s.type=="inactive_franchise"&&!i||s.type=="active_corp"||s.type=="inactive_corp"&&!i||s.type=="active_dist_ctr"||s.type=="inactive_dist_ctr"&&!i)){e.select_node(t);e.show_node(t)}}function resetAll(e,t,i){e.deselect_node(t);var s=$(t).data("jstree");var r=s&&s.type&&(s.type=="inactive_franchise"||s.type=="inactive_corp"||s.type=="inactive_dist_ctr");if(!i||!r){e.show_node(t)}}function processRecursive(e,t,i,s){i(e,t,s);var r=e.get_children_dom(t);for(var c=0;c<r.length;++c){processRecursive(e,r[c],i,s)}}function begin_process(e,t){var i=$.jstree.reference("#store_selector");i.open_all();var s=i.get_node("#topNode");var r=i.get_children_dom(s);for(var c=0;c<r.length;++c){processRecursive(i,r[c],e,t)}}function resetTree(e){begin_process(resetAll,e);return false}function select_all(e){resetTree(e);begin_process(selectAndShowAllStores,e);return true}function select_all_active(e){begin_process(selectAndShowAllActiveStores,true);return false}function select_all_franchise(e){resetTree(e);begin_process(selectAndShowFranchiseStores,e);return false}function select_all_active_franchise(){resetTree(true);begin_process(selectAndShowActiveFranchiseStores,true);return false}function select_all_corporate(e){resetTree(e);begin_process(selectAndShowCorporateStores,e);return false}function select_all_active_corporate(){resetTree(true);begin_process(selectAndShowActiveCorporateStores,true);return false}function select_all_dist_ctrs(e){resetTree(e);begin_process(selectAndShowDistCtrs,e);return false}function select_all_active_dist_ctrs(){resetTree(true);begin_process(selectAndShowActiveDistCtrs,true);return false}function select_all_but_dist_ctrs(e){resetTree(e);begin_process(selectAndShowNonDistCtrs,e);return false}
//# sourceMappingURL=store_tree.min.js.map