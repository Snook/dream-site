function init_store_selector(e){$("#store_selector").bind("loaded.jstree",(function(e,t){$("#store_selector").show()})).jstree({types:{default:{li_attr:{style:"color:black;"},icon:!1},active_corp:{li_attr:{style:"color:black;"},icon:PATH.image_admin+"/icon/corp_active.png"},inactive_corp:{li_attr:{style:"color:gray;"},icon:PATH.image_admin+"/icon/corp_inactive.png"},active_franchise:{li_attr:{style:"color:black;"},icon:PATH.image_admin+"/icon/franchise_active.png"},inactive_franchise:{li_attr:{style:"color:gray;"},icon:PATH.image_admin+"/icon/franchise_inactive.png"},active_dist_ctr:{li_attr:{style:"color:black;"},icon:PATH.image_admin+"/icon/DC_active.png"},inactive_dist_ctr:{li_attr:{style:"color:gray;"},icon:PATH.image_admin+"/icon/DC_inactive.png"}},plugins:["checkbox","types","state"],core:{themes:{name:"default",dots:!0,icons:!0,stripes:!0}},state:{key:e,state_events:"",filter:stateFilter}});var t=$.jstree.reference("#store_selector");null!=t&&(t.clear_state(),$("#hide_inactive").off("change").change((function(){t.save_state(),t.open_all(),t.show_all(),t.deselect_all(),showOrHideInactiveStores($("#hide_inactive").is(":checked")),t.close_all(),t.restore_state()})),t.open_all(),showOrHideInactiveStores(!0),t.close_all(),t.open_node("#topNode")),$("#ddd_menu").menu({select:function(e,t){var c=$("#hide_inactive").is(":checked");switch(t.item[0].id){case"#reset_tree":resetTree();break;case"#select_all_tree":select_all(c);break;case"#select_franchise_tree":select_all_franchise(c);break;case"#select_corporate_tree":select_all_corporate(c);break;case"#select_dist_ctr_tree":select_all_dist_ctrs(c);break;case"#select_non_DC_tree":select_all_but_dist_ctrs(c)}$("#ddd_menu").hide()}}),$("#ddd_menu").css("width","200px"),$("#ddd_menu").position({my:"left top",at:"left bottom",of:$("#tree_menu_button"),collision:"fit"}),$("#tree_menu_button").off("mousedown").mousedown((function(){$("#ddd_menu").show(),$("#ddd_menu").hover((function(){$.doTimeout("ddd_menu_timer_hide"),$.doTimeout("ddd_menu_timer_show",100,(function(){$("#ddd_menu").show()}))}),(function(){$.doTimeout("ddd_menu_timer_show"),$.doTimeout("ddd_menu_timer_hide",150,(function(){$("#ddd_menu").hide()}))}))}))}function stateFilter(e){if($("#hide_inactive").is(":checked"))for(numNodes=e.core.selected.length,i=0;i<numNodes;i++){var t=e.core.selected[i],c=$("#store_selector").jstree(!0).get_node("#"+t).data.jstree;c&&c.type&&("inactive_corp"==c.type||"inactive_franchise"==c.type||"us_state"==c.type)&&(e.core.selected[i]=null)}return e}function showOrHideInactiveStores(e){var t=setInactiveVisible;e&&(t=setInactiveInvisible);for(var c=$.jstree.reference("#store_selector"),i=c.get_node("#topNode"),s=c.get_children_dom(i),n=0;n<s.length;++n)processRecursive(c,s[n],t,e)}function setInactiveVisible(e,t,c){var i=$(t).data("jstree");i&&i.type&&("inactive_corp"==i.type||"inactive_franchise"==i.type||"inactive_dist_ctr"==i.type)&&e.show_node(t)}function setInactiveInvisible(e,t){var c=$(t).data("jstree");c&&c.type&&("inactive_corp"==c.type||"inactive_franchise"==c.type||"inactive_dist_ctr"==c.type)&&(e.hide_node(t),e.deselect_node(t))}function selectAndShowCorporateStores(e,t,c){var i=$(t).data("jstree");i&&i.type&&("active_corp"==i.type||"inactive_corp"==i.type&&!c)?(e.select_node(t),e.show_node(t)):i&&i.type&&"us_state"!=i.type&&e.hide_node(t)}function selectAndShowFranchiseStores(e,t,c){var i=$(t).data("jstree");i&&i.type&&("active_franchise"==i.type||"inactive_franchise"==i.type&&!c)?(e.select_node(t),e.show_node(t)):i&&i.type&&"us_state"!=i.type&&e.hide_node(t)}function selectAndShowDistCtrs(e,t,c){var i=$(t).data("jstree");i&&i.type&&("active_dist_ctr"==i.type||"inactive_dist_ctr"==i.type&&!c)?(e.select_node(t),e.show_node(t)):i&&i.type&&"us_state"!=i.type&&e.hide_node(t)}function selectAndShowNonDistCtrs(e,t,c){var i=$(t).data("jstree");i&&i.type&&("active_franchise"==i.type||"inactive_franchise"==i.type&&!c||"active_corp"==i.type||"inactive_corp"==i.type&&!c)?(e.select_node(t),e.show_node(t)):i&&i.type&&"us_state"!=i.type&&e.hide_node(t)}function selectAndShowAllStores(e,t,c){var i=$(t).data("jstree");i&&i.type&&("active_franchise"==i.type||"inactive_franchise"==i.type&&!c||"active_corp"==i.type||"inactive_corp"==i.type&&!c||"active_dist_ctr"==i.type||"inactive_dist_ctr"==i.type&&!c)&&(e.select_node(t),e.show_node(t))}function resetAll(e,t,c){e.deselect_node(t);var i=$(t).data("jstree"),s=i&&i.type&&("inactive_franchise"==i.type||"inactive_corp"==i.type||"inactive_dist_ctr"==i.type);c&&s||e.show_node(t)}function processRecursive(e,t,c,i){c(e,t,i);for(var s=e.get_children_dom(t),n=0;n<s.length;++n)processRecursive(e,s[n],c,i)}function begin_process(e,t){var c=$.jstree.reference("#store_selector");c.open_all();for(var i=c.get_node("#topNode"),s=c.get_children_dom(i),n=0;n<s.length;++n)processRecursive(c,s[n],e,t)}function resetTree(e){return begin_process(resetAll,e),!1}function select_all(e){return resetTree(e),begin_process(selectAndShowAllStores,e),!0}function select_all_active(e){return begin_process(selectAndShowAllActiveStores,!0),!1}function select_all_franchise(e){return resetTree(e),begin_process(selectAndShowFranchiseStores,e),!1}function select_all_active_franchise(){return resetTree(!0),begin_process(selectAndShowActiveFranchiseStores,!0),!1}function select_all_corporate(e){return resetTree(e),begin_process(selectAndShowCorporateStores,e),!1}function select_all_active_corporate(){return resetTree(!0),begin_process(selectAndShowActiveCorporateStores,!0),!1}function select_all_dist_ctrs(e){return resetTree(e),begin_process(selectAndShowDistCtrs,e),!1}function select_all_active_dist_ctrs(){return resetTree(!0),begin_process(selectAndShowActiveDistCtrs,!0),!1}function select_all_but_dist_ctrs(e){return resetTree(e),begin_process(selectAndShowNonDistCtrs,e),!1}
//# sourceMappingURL=store_tree.min.js.map