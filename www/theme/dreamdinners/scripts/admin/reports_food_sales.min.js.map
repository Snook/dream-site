{"version":3,"sourceRoot":"js/src/dreamdinners","sources":["reports_food_sales.js"],"sourcesContent":["var open_state_cookie_name = \"\";\r\nvar select_state_cookie_name = \"\";\r\nvar current_date_range_start = null;\r\nvar current_date_range_duration = null;\r\nvar current_selected_item = null;\r\n\r\nfunction reports_food_sales_init()\r\n{\r\n\r\n\topen_state_cookie_name = false; //'dd_pr_tree_open_state';\r\n\tselect_state_cookie_name = false; //'dd_pr_tree_selected_state';\r\n\r\n\tif (show_store_selectors)\r\n\t{\r\n\t\tinit_store_selector();\r\n\t\tinit_store_selection();\r\n\t}\r\n\r\n\tinit_date_selection();\r\n}\r\n\r\nfunction init_store_selection()\r\n{\r\n\t$(\"#set_selected_stores\").off('click').on('click', function (e) {\r\n\r\n\t\tvar postVal = [];\r\n\r\n\t\tvar displayValue = {};\r\n\r\n\t\tvar selectedStoreNodes = $('#store_selector').jstree(true).get_selected();\r\n\r\n\t\tfor (var i = 0; i < selectedStoreNodes.length; ++i)\r\n\t\t{\r\n\r\n\t\t\tvar testNode = $('#store_selector').jstree(true).get_node(\"#\" + selectedStoreNodes[i]);\r\n\t\t\tif (testNode.state.hidden)\r\n\t\t\t{\r\n\t\t\t\t$('#store_selector').jstree(true).deselect_node(\"#\" + selectedStoreNodes[i]);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (selectedStoreNodes[i].indexOf(\"tree_store\") == 0)\r\n\t\t\t{\r\n\t\t\t\tvar thisID = selectedStoreNodes[i].split(\"-\");\r\n\t\t\t\tpostVal[i] = thisID[1];\r\n\r\n\t\t\t}\r\n\t\t\telse if (selectedStoreNodes[i].indexOf(\"tree_state\") == 0)\r\n\t\t\t{\r\n\t\t\t\tvar thisNode = $('#store_selector').jstree(true).get_node(\"#\" + selectedStoreNodes[i]);\r\n\t\t\t\tdisplayValue[thisNode.text] = {\r\n\t\t\t\t\tname: thisNode.text,\r\n\t\t\t\t\tchildren: {}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < selectedStoreNodes.length; ++i)\r\n\t\t{\r\n\r\n\t\t\tvar testNode = $('#store_selector').jstree(true).get_node(\"#\" + selectedStoreNodes[i]);\r\n\t\t\tif (testNode.state.hidden)\r\n\t\t\t{\r\n\t\t\t\t$('#store_selector').jstree(true).deselect_node(\"#\" + selectedStoreNodes[i]);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (selectedStoreNodes[i].indexOf(\"tree_store\") == 0)\r\n\t\t\t{\r\n\t\t\t\t// note that parents (states ) are not selected if not all children are selected\r\n\t\t\t\tvar thisNode = $('#store_selector').jstree(true).get_node(\"#\" + selectedStoreNodes[i]);\r\n\t\t\t\tvar parentNode = $('#store_selector').jstree(true).get_node(\"#\" + thisNode.parent);\r\n\r\n\t\t\t\tif (!displayValue[parentNode.text])\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplayValue[parentNode.text] = {\r\n\t\t\t\t\t\tname: parentNode.text,\r\n\t\t\t\t\t\tchildren: {}\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdisplayValue[parentNode.text]['children'][thisNode.text] = thisNode.text;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar listHTML = \"<div><ul>\";\r\n\t\tfor (var thisState in displayValue)\r\n\t\t{\r\n\t\t\tlistHTML += \"<li>\" + thisState;\r\n\r\n\t\t\t//children\r\n\t\t\tlistHTML += \"<ul>\";\r\n\r\n\t\t\tvar chillens = displayValue[thisState].children;\r\n\t\t\tfor (thisTown in chillens)\r\n\t\t\t{\r\n\t\t\t\tlistHTML += \"<li>\" + chillens[thisTown] + \"</li>\";\r\n\t\t\t}\r\n\r\n\t\t\tlistHTML += \"</ul>\";\r\n\t\t}\r\n\t\tlistHTML += \"</ul>\";\r\n\r\n\t\t$(\"#chosen_stores_inner\").html(listHTML);\r\n\t\t$(\"#chosen_stores\").show();\r\n\r\n\t\tstore_id = postVal;\r\n\r\n\t\t$(\"#store_selector_open\").hide();\r\n\t\t$(\"#store_selector_closed\").show();\r\n\r\n\t\t//\t$(\"#menu_info_outer\").hide();\r\n\t\t//\t$(\"#guest_list_outer\").hide();\r\n\t\t//\t$(\"#item_selector_inner\").hide();\r\n\r\n\t});\r\n\r\n\t$(\"#unset_selected_stores\").off('click').on('click', function (e) {\r\n\t\t$(\"#store_selector_open\").show();\r\n\t\t$(\"#store_selector_closed\").hide();\r\n\t});\r\n\r\n}\r\n\r\nfunction select_session(id)\r\n{\r\n\tbounce(\"main.php?page=admin_main&session=\" + id, \"_blank\");\r\n\t$(\"#dd_session_selector\").remove();\r\n}\r\n\r\nfunction select_order(o_id, s_id)\r\n{\r\n\tbounce(\"main.php?page=admin_main&session=\" + s_id + \"&order=\" + o_id, \"_blank\");\r\n\t$(\"#dd_session_selector\").remove();\r\n}\r\n\r\nfunction init_session_popups()\r\n{\r\n\t$(\"[data-session_starts]\").off('click').on('click', function (e) {\r\n\r\n\t\tvar session_starts = $(this).data('session_starts');\r\n\t\tvar session_ids = $(this).data('session_ids');\r\n\t\tvar order_ids = $(this).data('order_ids');\r\n\r\n\t\tsession_starts = session_starts.split(\",\");\r\n\t\tsession_ids = session_ids.toString().split(\",\");\r\n\t\torder_ids = order_ids.toString().split(\",\");\r\n\r\n\t\tvar html = \"<div>\";\r\n\r\n\t\tfor (i = 0; i < session_starts.length; i++)\r\n\t\t{\r\n\t\t\thtml += \"<div><button class='button' onclick='select_session(\" + session_ids[i] + \");'>Go to \" + session_starts[i] + \"</button>\";\r\n\t\t\thtml += \"<button class='button' onclick='select_order(\" + order_ids[i] + \", \" + session_ids[i] + \");'>Order \" + order_ids[i] + \"</button></div>\";\r\n\t\t}\r\n\r\n\t\thtml += \"</div>\";\r\n\r\n\t\tdd_message({\r\n\t\t\ttitle: 'Go to Session or Orders',\r\n\t\t\twidth: 300,\r\n\t\t\tmessage: html,\r\n\t\t\tdiv_id: \"dd_session_selector\"\r\n\t\t});\r\n\r\n\t});\r\n}\r\n\r\nfunction init_export_purchasers()\r\n{\r\n\t$(\"#export_purchasers\").off('click').on('click', function () {\r\n\r\n\t\tvar omit_menu_id = $('#order_since_menu_id').val();\r\n\r\n\t\tcreate_and_submit_form({\r\n\t\t\taction: \"main.php?page=admin_reports_food_sales\",\r\n\t\t\tinput: ({\r\n\t\t\t\texport: 'xlsx',\r\n\t\t\t\trange_start: current_date_range_start,\r\n\t\t\t\tduration: current_date_range_duration,\r\n\t\t\t\tstore_id: store_id,\r\n\t\t\t\tomit_menu_id: omit_menu_id,\r\n\t\t\t\titems: current_selected_item\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t});\r\n\r\n}\r\n\r\nfunction init_show_purchasers()\r\n{\r\n\r\n\t$(\"#guest_list_outer\").html('');\r\n\r\n\t$(\"[id^='rid_']\").off('click').on('click', function () {\r\n\t\tvar itemList = [];\r\n\t\tvar omit_menu_id = $('#order_since_menu_id').val();\r\n\r\n\t\titemList.push(this.id.split(\"_\")[1]);\r\n\t\tcurrent_selected_item = this.id.split(\"_\")[1];\r\n\r\n\t\t$(\"#menu_info_outer\").hide();\r\n\r\n\t\t$('#guest_list_outer').html('<img style=\"margin-left:auto; margin-right:auto;\" src=\"' + PATH.image + '/style/throbber_circle.gif\" alt=\"\" /> Processing...');\r\n\t\t$(\"#guest_list_outer\").show();\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: 'ddproc.php?processor=admin_food_sales',\r\n\t\t\ttype: 'POST',\r\n\t\t\tdataType: 'json',\r\n\t\t\tdata: {\r\n\t\t\t\top: \"show_purchasers\",\r\n\t\t\t\trange_start: current_date_range_start,\r\n\t\t\t\tduration: current_date_range_duration,\r\n\t\t\t\tstore_id: store_id,\r\n\t\t\t\tomit_menu_id: omit_menu_id,\r\n\t\t\t\titems: itemList\r\n\t\t\t},\r\n\t\t\tsuccess: function (json) {\r\n\t\t\t\t$(\"#guest_list_outer\").html(json.guest_data);\r\n\t\t\t\t$(\"#menu_info_outer\").hide();\r\n\r\n\t\t\t\tinit_session_popups();\r\n\t\t\t\tinit_export_purchasers();\r\n\r\n\t\t\t},\r\n\t\t\terror: function (objAJAXRequest, strError) {\r\n\r\n\t\t\t\t$(\"#guest_list_outer\").hide();\r\n\r\n\t\t\t\tdd_message({\r\n\t\t\t\t\ttitle: 'Error',\r\n\t\t\t\t\tmessage: strError\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn true;\r\n\t});\r\n}\r\n\r\nfunction init_date_selection()\r\n{\r\n\t$(\"#set_date_range\").off('click').on('click', function () {\r\n\t\tvar rangeType = $(\"input[name='pickDate']:checked\").val();\r\n\t\tvar month = false;\r\n\t\tvar year = false;\r\n\t\tvar dateStart = false;\r\n\t\tvar dateEnd = false;\r\n\t\tvar useMenuMonth = true;\r\n\r\n\t\tswitch (rangeType)\r\n\t\t{\r\n\t\t\tcase \"1\":\r\n\t\t\t\t// single date\r\n\t\t\t\tdateStart = $(\"input[name='single_date']\").val();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"2\":\r\n\t\t\t\tdateStart = $(\"input[name='range_day_start']\").val();\r\n\t\t\t\tdateEnd = $(\"input[name='range_day_end']\").val();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"3\":\r\n\t\t\t\tmonth = $(\"#month_popup\").val();\r\n\t\t\t\tyear = $(\"#year_field_001\").val();\r\n\r\n\t\t\t\tif ($(\"input[name='menu_or_calendar']:checked\").val() == \"cal\")\r\n\t\t\t\t{\r\n\t\t\t\t\tuseMenuMonth = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t// error\r\n\t\t}\r\n\r\n\t\t$('#item_selector_inner').html('<img style=\"margin-left:auto; margin-right:auto;\" src=\"' + PATH.image + '/style/throbber_circle.gif\" alt=\"\" /> Processing...');\r\n\t\t$(\"#menu_info_outer\").html(\"\");\r\n\t\t$(\"#guest_list_outer\").html(\"\");\r\n\r\n\t\tvar searchStr = $(\"#search_string\").val();\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: 'ddproc.php?processor=admin_food_sales',\r\n\t\t\ttype: 'POST',\r\n\t\t\tdataType: 'json',\r\n\t\t\tdata: {\r\n\t\t\t\top: \"set_date_range\",\r\n\t\t\t\trangeType: rangeType,\r\n\t\t\t\tmonth: month,\r\n\t\t\t\tyear: year,\r\n\t\t\t\tdateStart: dateStart,\r\n\t\t\t\tdateEnd: dateEnd,\r\n\t\t\t\tstore_id: store_id,\r\n\t\t\t\tuseMenuMonth: useMenuMonth,\r\n\t\t\t\tsearch_string: searchStr\r\n\t\t\t},\r\n\t\t\tsuccess: function (json) {\r\n\r\n\t\t\t\tcurrent_date_range_start = json.range_start_date;\r\n\t\t\t\tcurrent_date_range_duration = json.range_duration;\r\n\r\n\t\t\t\t$(\"#item_list_title\").html(json.title);\r\n\t\t\t\t$(\"#item_list_title\").show();\r\n\r\n\t\t\t\t$(\"#item_selector_inner\").html(json.item_data);\r\n\r\n\t\t\t\tinit_show_purchasers();\r\n\t\t\t\thandle_menu_item_info_button();\r\n\t\t\t\t$('#item_selector_inner').removeClass('processing');\r\n\r\n\t\t\t},\r\n\t\t\terror: function (objAJAXRequest, strError) {\r\n\t\t\t\tdd_message({\r\n\t\t\t\t\ttitle: 'Error',\r\n\t\t\t\t\tmessage: strError\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\nfunction handle_menu_item_info_button()\r\n{\r\n\t$(\"[id^='rmid_']\").off('click').on('click', function () {\r\n\r\n\t\tvar entree_id = $(this).data('entree_id');\r\n\t\tvar recipe_id = this.id.split(\"_\")[1];\r\n\t\tvar menu_id = $(this).data('menu_id');\r\n\r\n\t\t$(\"#menu_info_outer\").show();\r\n\t\t$(\"#guest_list_outer\").hide();\r\n\r\n\t\tcurrent_selected_item = recipe_id;\r\n\t\t$('#menu_info_outer').html('<img style=\"margin-left:auto; margin-right:auto;\" src=\"' + PATH.image + '/style/throbber_circle.gif\" alt=\"\" /> Processing...');\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: 'ddproc.php?processor=admin_food_sales',\r\n\t\t\ttype: 'POST',\r\n\t\t\tdataType: 'json',\r\n\t\t\tdata: {\r\n\t\t\t\tprocessor: 'admin_food_sales',\r\n\t\t\t\tstore_id: store_id,\r\n\t\t\t\top: 'menu_item_info',\r\n\t\t\t\tmenu_id: menu_id,\r\n\t\t\t\tentree_id: entree_id,\r\n\t\t\t\trecipe_id: recipe_id\r\n\t\t\t},\r\n\t\t\tsuccess: function (json) {\r\n\t\t\t\t$(\"#menu_info_outer\").html(json.data);\r\n\r\n\t\t\t\thandle_tabbed_content();\r\n\t\t\t},\r\n\t\t\terror: function (objAJAXRequest, strError) {\r\n\t\t\t\t$(\"#menu_info_outer\").hide();\r\n\t\t\t\t$(\"#guest_list_outer\").show();\r\n\r\n\t\t\t\tresponse = 'Unexpected error: ' + strError;\r\n\t\t\t\tdd_message({\r\n\t\t\t\t\ttitle: 'Error',\r\n\t\t\t\t\tmessage: response\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t});\r\n}"],"names":["open_state_cookie_name","select_state_cookie_name","current_date_range_start","current_date_range_duration","current_selected_item","reports_food_sales_init","show_store_selectors","init_store_selector","init_store_selection","init_date_selection","$","off","on","e","postVal","displayValue","selectedStoreNodes","jstree","get_selected","i","length","testNode","get_node","state","hidden","deselect_node","indexOf","thisID","split","thisNode","text","name","children","parentNode","parent","listHTML","thisState","chillens","thisTown","html","show","store_id","hide","select_session","id","bounce","remove","select_order","o_id","s_id","init_session_popups","session_starts","this","data","session_ids","order_ids","toString","dd_message","title","width","message","div_id","init_export_purchasers","omit_menu_id","val","create_and_submit_form","action","input","export","range_start","duration","items","init_show_purchasers","itemList","push","PATH","image","ajax","url","type","dataType","op","success","json","guest_data","error","objAJAXRequest","strError","rangeType","month","year","dateStart","dateEnd","useMenuMonth","searchStr","search_string","range_start_date","range_duration","item_data","handle_menu_item_info_button","removeClass","entree_id","recipe_id","menu_id","processor","handle_tabbed_content","response"],"mappings":"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"}