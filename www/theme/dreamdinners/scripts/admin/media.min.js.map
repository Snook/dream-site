{"version":3,"sourceRoot":"js/src/dreamdinners","sources":["media.js"],"sourcesContent":["function media_init()\r\n{\r\n\t// How to load content\r\n\ttitle_click_handler();\r\n\r\n\t// Handle direct linking to content\r\n\thandle_preselection();\r\n\r\n\t// Init link tooltips\r\n\tdata_tooltips_init();\r\n}\r\n\r\nfunction title_click_handler()\r\n{\r\n\t// Handle YouTube Videos\r\n\t$(\"[data-youtube_id]\").each(function(e) {\r\n\r\n\t\tcreate_title_link(this);\r\n\r\n\t\t$(this).on('click', function () {\r\n\r\n\t\t\thandle_selection(this);\r\n\r\n\t\t\tvar src = 'https://www.youtube.com/embed/' + $(this).data('youtube_id') + '?rel=0&amp;vq=hd1080&amp;autohide=1&amp;showinfo=0&amp;modestbranding=0';\r\n\r\n\t\t\tif ($(this).data('autoplay') == true)\r\n\t\t\t{\r\n\t\t\t\tsrc += '&amp;autoplay=1';\r\n\t\t\t}\r\n\r\n\t\t\thistoryPush({ url: 'main.php?page=' + getQueryVariable('page') + '&youtube=' + $(this).data('youtube_id') });\r\n\r\n\t\t\t$('#media_container-div').html('<iframe id=\"youtube-player\" name=\"youtube-player\" class=\"youtube-player\" src=\"' + src + '\" type=\"text/html\" width=\"640\" height=\"390\" frameborder=\"0\" allowFullScreen></iframe>');\r\n\r\n\t\t});\r\n\r\n\t});\r\n\r\n\t// Handle SoundCloud Audio\r\n\t$(\"[data-soundcloud_id]\").each(function(e) {\r\n\r\n\t\tcreate_title_link(this);\r\n\r\n\t\t$(this).on('click', function () {\r\n\r\n\t\t\thandle_selection(this);\r\n\r\n\t\t\tvar src = 'https://w.soundcloud.com/player/?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F' + $(this).data('soundcloud_id') + '&amp;show_artwork=false&amp;sharing=false&amp;color=AFB757&amp;theme_color=E5E0D8&amp;show_comments=false&amp;show_user=false';\r\n\r\n\t\t\tif ($(this).data('autoplay') == true)\r\n\t\t\t{\r\n\t\t\t\tsrc += '&amp;auto_play=true';\r\n\t\t\t}\r\n\r\n\t\t\thistoryPush({ url: 'main.php?page=' + getQueryVariable('page') + '&soundcloud=' + $(this).data('soundcloud_id') });\r\n\r\n\t\t\t$('#media_container-div').html('<iframe width=\"640\" height=\"166\" scrolling=\"no\" frameborder=\"no\" src=\"' + src + '\"></iframe>');\r\n\r\n\t\t});\r\n\r\n\t});\r\n\r\n}\r\n\r\nfunction create_title_link(obj)\r\n{\r\n\ttitle = 'Untitled';\r\n\r\n\tif ($(obj).data('title'))\r\n\t{\r\n\t\ttitle = $(obj).data('title');\r\n\t}\r\n\r\n\tdescription = '';\r\n\r\n\tif ($(obj).data('description'))\r\n\t{\r\n\t\tdescription =  '<hr />' + $(obj).data('description');\r\n\t}\r\n\r\n\t$(obj).append('<div class=\"title\">' + title + '</div>').attr('data-tooltip', title);\r\n\r\n\tif ($(obj).data('date'))\r\n\t{\r\n\t\t$(obj).append('<div class=\"date\">' + $(obj).data('date') + '</div>');\r\n\t}\r\n\r\n\t$(obj).append('<div class=\"clear\"></div>');\r\n}\r\n\r\nfunction handle_selection(element)\r\n{\r\n\t// clear current highlight\r\n\t$(\".selected_media\").removeClass('selected_media');\r\n\t$('#description').html('');\r\n\r\n\t// highlight this selection\r\n\t$(element).addClass('selected_media');\r\n\r\n\t// show description\r\n\tif ($(element).data('description'))\r\n\t{\r\n\t\t$('#description').html($(element).data('description'));\r\n\r\n\t\tif ($('#video_list').height() != '290')\r\n\t\t{\r\n\t\t\t// cancel hide timer\r\n\t\t\t$.doTimeout( 'hide_description_timer');\r\n\r\n\t\t\t$.doTimeout( 'show_description_timer', 1000, function() {\r\n\t\t\t\t$('#video_list').animate({height:'290px'}, 800);\r\n\t\t\t\t$('#video_description').slideDown(800);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\tif ($('#video_list').height() != '410')\r\n\t\t{\r\n\t\t\t// cancel show timer\r\n\t\t\t$.doTimeout( 'show_description_timer');\r\n\r\n\t\t\t$('#description').html('No description.');\r\n\r\n\t\t\t$.doTimeout( 'hide_description_timer', 2000, function() {\r\n\t\t\t\t$('#video_list').animate({height:'410px'}, 800);\r\n\t\t\t\t$('#video_description').slideUp(800);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction handle_preselection()\r\n{\r\n\tif (getQueryVariable('youtube'))\r\n\t{\r\n\t\t$((\"[data-youtube_id=\" + getQueryVariable('youtube') + \"]\")).trigger('click');\r\n\t}\r\n\telse if (getQueryVariable('soundcloud'))\r\n\t{\r\n\t\t$((\"[data-soundcloud_id=\" + getQueryVariable('soundcloud') + \"]\")).trigger('click');\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$('.selected_media').trigger('click');\r\n\t}\r\n}"],"names":["media_init","title_click_handler","handle_preselection","data_tooltips_init","$","each","e","create_title_link","this","on","handle_selection","src","data","historyPush","url","getQueryVariable","html","obj","title","description","append","attr","element","removeClass","addClass","height","doTimeout","animate","slideDown","slideUp","trigger"],"mappings":"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"}