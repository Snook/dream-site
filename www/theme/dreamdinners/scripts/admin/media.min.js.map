{"version":3,"file":"media.min.js","names":["media_init","title_click_handler","handle_preselection","data_tooltips_init","$","each","e","create_title_link","this","on","handle_selection","src","data","historyPush","url","getQueryVariable","html","obj","title","description","append","attr","element","removeClass","addClass","height","doTimeout","animate","slideDown","slideUp","trigger"],"sourceRoot":"js/src/dreamdinners/admin","sources":["media.js"],"sourcesContent":["function media_init()\n{\n\t// How to load content\n\ttitle_click_handler();\n\n\t// Handle direct linking to content\n\thandle_preselection();\n\n\t// Init link tooltips\n\tdata_tooltips_init();\n}\n\nfunction title_click_handler()\n{\n\t// Handle YouTube Videos\n\t$(\"[data-youtube_id]\").each(function(e) {\n\n\t\tcreate_title_link(this);\n\n\t\t$(this).on('click', function () {\n\n\t\t\thandle_selection(this);\n\n\t\t\tvar src = 'https://www.youtube.com/embed/' + $(this).data('youtube_id') + '?rel=0&amp;vq=hd1080&amp;autohide=1&amp;showinfo=0&amp;modestbranding=0';\n\n\t\t\tif ($(this).data('autoplay') == true)\n\t\t\t{\n\t\t\t\tsrc += '&amp;autoplay=1';\n\t\t\t}\n\n\t\t\thistoryPush({ url: '?' + (getQueryVariable('page') ? 'page=' + getQueryVariable('page') + '&' : '') + 'youtube=' + $(this).data('youtube_id') });\n\n\t\t\t$('#media_container-div').html('<iframe id=\"youtube-player\" name=\"youtube-player\" class=\"youtube-player\" src=\"' + src + '\" type=\"text/html\" width=\"640\" height=\"390\" frameborder=\"0\" allowFullScreen></iframe>');\n\n\t\t});\n\n\t});\n\n\t// Handle SoundCloud Audio\n\t$(\"[data-soundcloud_id]\").each(function(e) {\n\n\t\tcreate_title_link(this);\n\n\t\t$(this).on('click', function () {\n\n\t\t\thandle_selection(this);\n\n\t\t\tvar src = 'https://w.soundcloud.com/player/?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F' + $(this).data('soundcloud_id') + '&amp;show_artwork=false&amp;sharing=false&amp;color=AFB757&amp;theme_color=E5E0D8&amp;show_comments=false&amp;show_user=false';\n\n\t\t\tif ($(this).data('autoplay') == true)\n\t\t\t{\n\t\t\t\tsrc += '&amp;auto_play=true';\n\t\t\t}\n\n\t\t\thistoryPush({ url: '?' + (getQueryVariable('page') ? 'page=' + getQueryVariable('page') + '&' : '') + 'soundcloud=' + $(this).data('soundcloud_id') });\n\n\t\t\t$('#media_container-div').html('<iframe width=\"640\" height=\"166\" scrolling=\"no\" frameborder=\"no\" src=\"' + src + '\"></iframe>');\n\n\t\t});\n\n\t});\n\n}\n\nfunction create_title_link(obj)\n{\n\ttitle = 'Untitled';\n\n\tif ($(obj).data('title'))\n\t{\n\t\ttitle = $(obj).data('title');\n\t}\n\n\tdescription = '';\n\n\tif ($(obj).data('description'))\n\t{\n\t\tdescription =  '<hr />' + $(obj).data('description');\n\t}\n\n\t$(obj).append('<div class=\"title\">' + title + '</div>').attr('data-tooltip', title);\n\n\tif ($(obj).data('date'))\n\t{\n\t\t$(obj).append('<div class=\"date\">' + $(obj).data('date') + '</div>');\n\t}\n\n\t$(obj).append('<div class=\"clear\"></div>');\n}\n\nfunction handle_selection(element)\n{\n\t// clear current highlight\n\t$(\".selected_media\").removeClass('selected_media');\n\t$('#description').html('');\n\n\t// highlight this selection\n\t$(element).addClass('selected_media');\n\n\t// show description\n\tif ($(element).data('description'))\n\t{\n\t\t$('#description').html($(element).data('description'));\n\n\t\tif ($('#video_list').height() != '290')\n\t\t{\n\t\t\t// cancel hide timer\n\t\t\t$.doTimeout( 'hide_description_timer');\n\n\t\t\t$.doTimeout( 'show_description_timer', 1000, function() {\n\t\t\t\t$('#video_list').animate({height:'290px'}, 800);\n\t\t\t\t$('#video_description').slideDown(800);\n\t\t\t});\n\t\t}\n\t}\n\telse\n\t{\n\t\tif ($('#video_list').height() != '410')\n\t\t{\n\t\t\t// cancel show timer\n\t\t\t$.doTimeout( 'show_description_timer');\n\n\t\t\t$('#description').html('No description.');\n\n\t\t\t$.doTimeout( 'hide_description_timer', 2000, function() {\n\t\t\t\t$('#video_list').animate({height:'410px'}, 800);\n\t\t\t\t$('#video_description').slideUp(800);\n\t\t\t});\n\t\t}\n\t}\n}\n\nfunction handle_preselection()\n{\n\tif (getQueryVariable('youtube'))\n\t{\n\t\t$((\"[data-youtube_id=\" + getQueryVariable('youtube') + \"]\")).trigger('click');\n\t}\n\telse if (getQueryVariable('soundcloud'))\n\t{\n\t\t$((\"[data-soundcloud_id=\" + getQueryVariable('soundcloud') + \"]\")).trigger('click');\n\t}\n\telse\n\t{\n\t\t$('.selected_media').trigger('click');\n\t}\n}"],"mappings":"AAAA,SAASA,aAGRC,sBAGAC,sBAGAC,oBACD,CAEA,SAASF,sBAGRG,EAAE,qBAAqBC,MAAK,SAASC,GAEpCC,kBAAkBC,MAElBJ,EAAEI,MAAMC,GAAG,SAAS,WAEnBC,iBAAiBF,MAEjB,IAAIG,EAAM,iCAAmCP,EAAEI,MAAMI,KAAK,cAAgB,0EAE1C,GAA5BR,EAAEI,MAAMI,KAAK,cAEhBD,GAAO,mBAGRE,YAAY,CAAEC,IAAK,KAAOC,iBAAiB,QAAU,QAAUA,iBAAiB,QAAU,IAAM,IAAM,WAAaX,EAAEI,MAAMI,KAAK,gBAEhIR,EAAE,wBAAwBY,KAAK,iFAAmFL,EAAM,wFAEzH,GAED,IAGAP,EAAE,wBAAwBC,MAAK,SAASC,GAEvCC,kBAAkBC,MAElBJ,EAAEI,MAAMC,GAAG,SAAS,WAEnBC,iBAAiBF,MAEjB,IAAIG,EAAM,mFAAqFP,EAAEI,MAAMI,KAAK,iBAAmB,gIAE/F,GAA5BR,EAAEI,MAAMI,KAAK,cAEhBD,GAAO,uBAGRE,YAAY,CAAEC,IAAK,KAAOC,iBAAiB,QAAU,QAAUA,iBAAiB,QAAU,IAAM,IAAM,cAAgBX,EAAEI,MAAMI,KAAK,mBAEnIR,EAAE,wBAAwBY,KAAK,yEAA2EL,EAAM,cAEjH,GAED,GAED,CAEA,SAASJ,kBAAkBU,GAE1BC,MAAQ,WAEJd,EAAEa,GAAKL,KAAK,WAEfM,MAAQd,EAAEa,GAAKL,KAAK,UAGrBO,YAAc,GAEVf,EAAEa,GAAKL,KAAK,iBAEfO,YAAe,SAAWf,EAAEa,GAAKL,KAAK,gBAGvCR,EAAEa,GAAKG,OAAO,sBAAwBF,MAAQ,UAAUG,KAAK,eAAgBH,OAEzEd,EAAEa,GAAKL,KAAK,SAEfR,EAAEa,GAAKG,OAAO,qBAAuBhB,EAAEa,GAAKL,KAAK,QAAU,UAG5DR,EAAEa,GAAKG,OAAO,4BACf,CAEA,SAASV,iBAAiBY,GAGzBlB,EAAE,mBAAmBmB,YAAY,kBACjCnB,EAAE,gBAAgBY,KAAK,IAGvBZ,EAAEkB,GAASE,SAAS,kBAGhBpB,EAAEkB,GAASV,KAAK,gBAEnBR,EAAE,gBAAgBY,KAAKZ,EAAEkB,GAASV,KAAK,gBAEN,OAA7BR,EAAE,eAAeqB,WAGpBrB,EAAEsB,UAAW,0BAEbtB,EAAEsB,UAAW,yBAA0B,KAAM,WAC5CtB,EAAE,eAAeuB,QAAQ,CAACF,OAAO,SAAU,KAC3CrB,EAAE,sBAAsBwB,UAAU,IACnC,MAKgC,OAA7BxB,EAAE,eAAeqB,WAGpBrB,EAAEsB,UAAW,0BAEbtB,EAAE,gBAAgBY,KAAK,mBAEvBZ,EAAEsB,UAAW,yBAA0B,KAAM,WAC5CtB,EAAE,eAAeuB,QAAQ,CAACF,OAAO,SAAU,KAC3CrB,EAAE,sBAAsByB,QAAQ,IACjC,IAGH,CAEA,SAAS3B,sBAEJa,iBAAiB,WAEpBX,EAAG,oBAAsBW,iBAAiB,WAAa,KAAMe,QAAQ,SAE7Df,iBAAiB,cAEzBX,EAAG,uBAAyBW,iBAAiB,cAAgB,KAAMe,QAAQ,SAI3E1B,EAAE,mBAAmB0B,QAAQ,QAE/B"}