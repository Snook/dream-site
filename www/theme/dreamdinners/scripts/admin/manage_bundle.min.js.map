{"version":3,"names":["manage_bundle_init","handle_view_items","editable","handle_edit_bundle","$","on","bundle_id","this","data","hide","not","removeClass","hasClass","addClass","show","e","val","menu_item_id","state","is","ajax","url","type","timeout","dataType","processor","op","success","json","processor_success","error","objAJAXRequest","strError","response","menu_id","bounce"],"sourceRoot":"js/src/admin","sources":["manage_bundle.js"],"sourcesContent":["function manage_bundle_init()\r\n{\r\n\thandle_view_items();\r\n\r\n\tif (editable)\r\n\t{\r\n\t\thandle_edit_bundle();\r\n\t}\r\n}\r\n\r\nfunction handle_view_items()\r\n{\r\n\t$('.view_items').on('click', function () {\r\n\r\n\t\tvar bundle_id = $(this).data('bundle_id');\r\n\r\n\t\t$('[data-bundle_menu_items]').hide();\r\n\t\t$('.selected').not(this).removeClass('selected');\r\n\r\n\t\tif ($(this).hasClass('selected'))\r\n\t\t{\r\n\t\t\t$(this).removeClass('selected');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$(this).addClass('selected');\r\n\r\n\t\t\t$('[data-bundle_menu_items=\"' + bundle_id + '\"]').show();\r\n\t\t}\r\n\r\n\r\n\t});\r\n}\r\n\r\nfunction handle_edit_bundle()\r\n{\r\n\t$('#bundle_type').on('change', function (e) {\r\n\r\n\t\tswitch($(this).val()) {\r\n\t\t\tcase 'MASTER_ITEM':\r\n\t\t\t\t$('.master_menu_item_option').show();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\t$('.master_menu_item_option').hide();\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t$('[data-bundle_menu_item_id]').on('click', function (e) {\r\n\r\n\t\tvar bundle_id = $(this).data('bundle_id');\r\n\t\tvar menu_item_id = $(this).data('bundle_menu_item_id');\r\n\t\tvar state = 0;\r\n\r\n\t\tif ($(this).is(':checked'))\r\n\t\t{\r\n\t\t\tvar state = 1;\r\n\t\t}\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: 'ddproc.php',\r\n\t\t\ttype: 'POST',\r\n\t\t\ttimeout: 20000,\r\n\t\t\tdataType: 'json',\r\n\t\t\tdata : {\r\n\t\t\t\tprocessor: 'admin_manage_bundle',\r\n\t\t\t\top: 'update_bundle_menu_item',\r\n\t\t\t\tbundle_id: bundle_id,\r\n\t\t\t\tmenu_item_id: menu_item_id,\r\n\t\t\t\tstate: state\r\n\t\t\t},\r\n\t\t\tsuccess: function(json)\r\n\t\t\t{\r\n\t\t\t\tif (json.processor_success)\r\n\t\t\t\t{\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror: function(objAJAXRequest, strError)\r\n\t\t\t{\r\n\t\t\t\tresponse = 'Unexpected error';\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t});\r\n\r\n\t$('#menu_id').on('change', function (e) {\r\n\r\n\t\tlet menu_id = $(this).val();\r\n\r\n\t\tif (menu_id)\r\n\t\t{\r\n\t\t\tbounce('main.php?page=admin_manage_bundle&create&menu=' + menu_id);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n}"],"mappings":"AAAA,SAASA,qBAERC,oBAEIC,UAEHC,oBAEF,CAEA,SAASF,oBAERG,EAAE,eAAeC,GAAG,SAAS,WAE5B,IAAIC,EAAYF,EAAEG,MAAMC,KAAK,aAE7BJ,EAAE,4BAA4BK,OAC9BL,EAAE,aAAaM,IAAIH,MAAMI,YAAY,YAEjCP,EAAEG,MAAMK,SAAS,YAEpBR,EAAEG,MAAMI,YAAY,aAIpBP,EAAEG,MAAMM,SAAS,YAEjBT,EAAE,4BAA8BE,EAAY,MAAMQ,OAIpD,GACD,CAEA,SAASX,qBAERC,EAAE,gBAAgBC,GAAG,UAAU,SAAUU,GAExC,GACM,gBADCX,EAAEG,MAAMS,MAEbZ,EAAE,4BAA4BU,YAG9BV,EAAE,4BAA4BK,MAGjC,IAEAL,EAAE,8BAA8BC,GAAG,SAAS,SAAUU,GAErD,IAAIT,EAAYF,EAAEG,MAAMC,KAAK,aACzBS,EAAeb,EAAEG,MAAMC,KAAK,uBAC5BU,EAAQ,EAEZ,GAAId,EAAEG,MAAMY,GAAG,YAEVD,EAAQ,EAGbd,EAAEgB,KAAK,CACNC,IAAK,aACLC,KAAM,OACNC,QAAS,IACTC,SAAU,OACVhB,KAAO,CACNiB,UAAW,sBACXC,GAAI,0BACJpB,UAAWA,EACXW,aAAcA,EACdC,MAAOA,GAERS,QAAS,SAASC,GAEbA,EAAKC,iBAIV,EACAC,MAAO,SAASC,EAAgBC,GAE/BC,SAAW,kBACZ,GAGF,IAEA7B,EAAE,YAAYC,GAAG,UAAU,SAAUU,GAEpC,IAAImB,EAAU9B,EAAEG,MAAMS,MAElBkB,GAEHC,OAAO,iDAAmDD,EAG5D,GAGD"}