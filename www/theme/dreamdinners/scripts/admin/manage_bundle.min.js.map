{"version":3,"file":"manage_bundle.min.js","names":["manage_bundle_init","handle_view_items","editable","handle_edit_bundle","$","on","bundle_id","this","data","hide","not","removeClass","hasClass","addClass","show","e","val","menu_item_id","state","is","ajax","url","type","timeout","dataType","processor","op","success","json","processor_success","error","objAJAXRequest","strError","response","menu_id","bounce"],"sourceRoot":"js/src/dreamdinners/admin","sources":["manage_bundle.js"],"sourcesContent":["function manage_bundle_init()\n{\n\thandle_view_items();\n\n\tif (editable)\n\t{\n\t\thandle_edit_bundle();\n\t}\n}\n\nfunction handle_view_items()\n{\n\t$('.view_items').on('click', function () {\n\n\t\tvar bundle_id = $(this).data('bundle_id');\n\n\t\t$('[data-bundle_menu_items]').hide();\n\t\t$('.selected').not(this).removeClass('selected');\n\n\t\tif ($(this).hasClass('selected'))\n\t\t{\n\t\t\t$(this).removeClass('selected');\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(this).addClass('selected');\n\n\t\t\t$('[data-bundle_menu_items=\"' + bundle_id + '\"]').show();\n\t\t}\n\n\n\t});\n}\n\nfunction handle_edit_bundle()\n{\n\t$('#bundle_type').on('change', function (e) {\n\n\t\tswitch($(this).val()) {\n\t\t\tcase 'MASTER_ITEM':\n\t\t\t\t$('.master_menu_item_option').show();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t$('.master_menu_item_option').hide();\n\t\t}\n\n\t});\n\n\t$('[data-bundle_menu_item_id]').on('click', function (e) {\n\n\t\tvar bundle_id = $(this).data('bundle_id');\n\t\tvar menu_item_id = $(this).data('bundle_menu_item_id');\n\t\tvar state = 0;\n\n\t\tif ($(this).is(':checked'))\n\t\t{\n\t\t\tvar state = 1;\n\t\t}\n\n\t\t$.ajax({\n\t\t\turl: '/processor',\n\t\t\ttype: 'POST',\n\t\t\ttimeout: 20000,\n\t\t\tdataType: 'json',\n\t\t\tdata : {\n\t\t\t\tprocessor: 'admin_manage_bundle',\n\t\t\t\top: 'update_bundle_menu_item',\n\t\t\t\tbundle_id: bundle_id,\n\t\t\t\tmenu_item_id: menu_item_id,\n\t\t\t\tstate: state\n\t\t\t},\n\t\t\tsuccess: function(json)\n\t\t\t{\n\t\t\t\tif (json.processor_success)\n\t\t\t\t{\n\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function(objAJAXRequest, strError)\n\t\t\t{\n\t\t\t\tresponse = 'Unexpected error';\n\t\t\t}\n\t\t});\n\n\t});\n\n\t$('#menu_id').on('change', function (e) {\n\n\t\tlet menu_id = $(this).val();\n\n\t\tif (menu_id)\n\t\t{\n\t\t\tbounce('/backoffice/manage_bundle?create&menu=' + menu_id);\n\t\t}\n\n\t});\n\n\n}"],"mappings":"AAAA,SAASA,qBAERC,oBAEIC,UAEHC,oBAEF,CAEA,SAASF,oBAERG,EAAE,eAAeC,GAAG,SAAS,WAE5B,IAAIC,EAAYF,EAAEG,MAAMC,KAAK,aAE7BJ,EAAE,4BAA4BK,OAC9BL,EAAE,aAAaM,IAAIH,MAAMI,YAAY,YAEjCP,EAAEG,MAAMK,SAAS,YAEpBR,EAAEG,MAAMI,YAAY,aAIpBP,EAAEG,MAAMM,SAAS,YAEjBT,EAAE,4BAA8BE,EAAY,MAAMQ,OAIpD,GACD,CAEA,SAASX,qBAERC,EAAE,gBAAgBC,GAAG,UAAU,SAAUU,GAExC,GACM,gBADCX,EAAEG,MAAMS,MAEbZ,EAAE,4BAA4BU,YAG9BV,EAAE,4BAA4BK,MAGjC,IAEAL,EAAE,8BAA8BC,GAAG,SAAS,SAAUU,GAErD,IAAIT,EAAYF,EAAEG,MAAMC,KAAK,aACzBS,EAAeb,EAAEG,MAAMC,KAAK,uBAC5BU,EAAQ,EAEZ,GAAId,EAAEG,MAAMY,GAAG,YAEVD,EAAQ,EAGbd,EAAEgB,KAAK,CACNC,IAAK,aACLC,KAAM,OACNC,QAAS,IACTC,SAAU,OACVhB,KAAO,CACNiB,UAAW,sBACXC,GAAI,0BACJpB,UAAWA,EACXW,aAAcA,EACdC,MAAOA,GAERS,QAAS,SAASC,GAEbA,EAAKC,iBAIV,EACAC,MAAO,SAASC,EAAgBC,GAE/BC,SAAW,kBACZ,GAGF,IAEA7B,EAAE,YAAYC,GAAG,UAAU,SAAUU,GAEpC,IAAImB,EAAU9B,EAAEG,MAAMS,MAElBkB,GAEHC,OAAO,yCAA2CD,EAGpD,GAGD","ignoreList":[]}