{"version":3,"sourceRoot":"js/src/dreamdinners","sources":["manage_bundle.js"],"sourcesContent":["function manage_bundle_init()\r\n{\r\n\thandle_view_items();\r\n\r\n\tif (editable)\r\n\t{\r\n\t\thandle_edit_bundle();\r\n\t}\r\n}\r\n\r\nfunction handle_view_items()\r\n{\r\n\t$('.view_items').on('click', function () {\r\n\r\n\t\tvar bundle_id = $(this).data('bundle_id');\r\n\r\n\t\t$('[data-bundle_menu_items]').hide();\r\n\t\t$('.selected').not(this).removeClass('selected');\r\n\r\n\t\tif ($(this).hasClass('selected'))\r\n\t\t{\r\n\t\t\t$(this).removeClass('selected');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$(this).addClass('selected');\r\n\r\n\t\t\t$('[data-bundle_menu_items=\"' + bundle_id + '\"]').show();\r\n\t\t}\r\n\r\n\r\n\t});\r\n}\r\n\r\nfunction handle_edit_bundle()\r\n{\r\n\t$('#bundle_type').on('change', function (e) {\r\n\r\n\t\tswitch($(this).val()) {\r\n\t\t\tcase 'MASTER_ITEM':\r\n\t\t\t\t$('.master_menu_item_option').show();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\t$('.master_menu_item_option').hide();\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t$('[data-bundle_menu_item_id]').on('click', function (e) {\r\n\r\n\t\tvar bundle_id = $(this).data('bundle_id');\r\n\t\tvar menu_item_id = $(this).data('bundle_menu_item_id');\r\n\t\tvar state = 0;\r\n\r\n\t\tif ($(this).is(':checked'))\r\n\t\t{\r\n\t\t\tvar state = 1;\r\n\t\t}\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: 'ddproc.php',\r\n\t\t\ttype: 'POST',\r\n\t\t\ttimeout: 20000,\r\n\t\t\tdataType: 'json',\r\n\t\t\tdata : {\r\n\t\t\t\tprocessor: 'admin_manage_bundle',\r\n\t\t\t\top: 'update_bundle_menu_item',\r\n\t\t\t\tbundle_id: bundle_id,\r\n\t\t\t\tmenu_item_id: menu_item_id,\r\n\t\t\t\tstate: state\r\n\t\t\t},\r\n\t\t\tsuccess: function(json)\r\n\t\t\t{\r\n\t\t\t\tif (json.processor_success)\r\n\t\t\t\t{\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror: function(objAJAXRequest, strError)\r\n\t\t\t{\r\n\t\t\t\tresponse = 'Unexpected error';\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t});\r\n\r\n\t$('#menu_id').on('change', function (e) {\r\n\r\n\t\tlet menu_id = $(this).val();\r\n\r\n\t\tif (menu_id)\r\n\t\t{\r\n\t\t\tbounce('main.php?page=admin_manage_bundle&create&menu=' + menu_id);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n}"],"names":["manage_bundle_init","handle_view_items","editable","handle_edit_bundle","$","on","bundle_id","this","data","hide","not","removeClass","hasClass","addClass","show","e","val","menu_item_id","state","is","ajax","url","type","timeout","dataType","processor","op","success","json","processor_success","error","objAJAXRequest","strError","response","let","menu_id","bounce"],"mappings":"AAAA,SAASA,qBAERC,kBAAkB,EAElB,GAAIC,SACJ,CACCC,mBAAmB,CACpB,CACD,CAEA,SAASF,oBAERG,EAAE,aAAa,EAAEC,GAAG,QAAS,WAE5B,IAAIC,EAAYF,EAAEG,IAAI,EAAEC,KAAK,WAAW,EAExCJ,EAAE,0BAA0B,EAAEK,KAAK,EACnCL,EAAE,WAAW,EAAEM,IAAIH,IAAI,EAAEI,YAAY,UAAU,EAE/C,GAAIP,EAAEG,IAAI,EAAEK,SAAS,UAAU,EAC/B,CACCR,EAAEG,IAAI,EAAEI,YAAY,UAAU,CAC/B,KAEA,CACCP,EAAEG,IAAI,EAAEM,SAAS,UAAU,EAE3BT,EAAE,4BAA8BE,EAAY,IAAI,EAAEQ,KAAK,CACxD,CAGD,CAAC,CACF,CAEA,SAASX,qBAERC,EAAE,cAAc,EAAEC,GAAG,SAAU,SAAUU,GAExC,OAAOX,EAAEG,IAAI,EAAES,IAAI,GAClB,IAAK,cACJZ,EAAE,0BAA0B,EAAEU,KAAK,EACnC,MACD,QACCV,EAAE,0BAA0B,EAAEK,KAAK,CACrC,CAED,CAAC,EAEDL,EAAE,4BAA4B,EAAEC,GAAG,QAAS,SAAUU,GAErD,IAAIT,EAAYF,EAAEG,IAAI,EAAEC,KAAK,WAAW,EACxC,IAAIS,EAAeb,EAAEG,IAAI,EAAEC,KAAK,qBAAqB,EACrD,IAAIU,EAAQ,EAEZ,GAAId,EAAEG,IAAI,EAAEY,GAAG,UAAU,EACzB,CACC,IAAID,EAAQ,CACb,CAEAd,EAAEgB,KAAK,CACNC,IAAK,aACLC,KAAM,OACNC,QAAS,IACTC,SAAU,OACVhB,KAAO,CACNiB,UAAW,sBACXC,GAAI,0BACJpB,UAAWA,EACXW,aAAcA,EACdC,MAAOA,CACR,EACAS,QAAS,SAASC,GAEjB,GAAIA,EAAKC,kBACT,EAGD,EACAC,MAAO,SAASC,EAAgBC,GAE/BC,SAAW,kBACZ,CACD,CAAC,CAEF,CAAC,EAED7B,EAAE,UAAU,EAAEC,GAAG,SAAU,SAAUU,GAEpCmB,IAAIC,EAAU/B,EAAEG,IAAI,EAAES,IAAI,EAE1B,GAAImB,EACJ,CACCC,OAAO,iDAAmDD,CAAO,CAClE,CAED,CAAC,CAGF"}