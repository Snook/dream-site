function admin_coupons_init(){calculatePage(document.getElementById("mid"))}function calculatePage(e){var t=document.getElementById("coupon_optout_form");if(e&&"mid"==e.id.substr(0,3)){var n=document.getElementById("itemsTbl").getElementsByTagName("tr");if(e.checked)for(var l=0;l<n.length;l++){n[l].getElementsByTagName("td")[0].style.display="block"}else for(l=0;l<n.length;l++){n[l].getElementsByTagName("td")[0].style.display="none"}}if(e&&"pid"==e.id.substr(0,3)){var o=e.id.substr(4);for(i=0;i<t.elements.length;i++)"checkbox"==t.elements[i].type&&t.elements[i].getAttribute("data-program_id")==o&&(theCID=t.elements[i].id.substr(4),e.checked?(t.elements[i].disabled=!1,document.getElementById("row_"+o+"_"+theCID).style.color="#000000"):(document.getElementById("row_"+o+"_"+theCID).style.color="#808080",t.elements[i].disabled=!0))}var d="",s="";for(i=0;i<t.elements.length;i++)"checkbox"==t.elements[i].type&&(currentState=t.elements[i].getAttribute("data-orgval"),"CHECKED"==currentState&&0==t.elements[i].checked?d+=t.elements[i].id+"|":"UNCHECKED"==currentState&&1==t.elements[i].checked&&(s+=t.elements[i].id+"|"));document.getElementById("optouts").value=d,document.getElementById("optins").value=s,""!=d||""!=s?(document.getElementById("saved_message").style.display="block",document.getElementById("saved_message_2").style.display="block"):(document.getElementById("saved_message").style.display="none",document.getElementById("saved_message_2").style.display="none")}function confirm_and_check_form(e){return optouts=document.getElementById("optouts").value,optins=document.getElementById("optins").value,document.getElementById("action").value="finalize",""!=optouts||""!=optins}function storeChange(e){document.getElementById("action").value="filterChange",document.getElementById("coupon_optout_form").submit()}function resetPage(e){window.location=e}