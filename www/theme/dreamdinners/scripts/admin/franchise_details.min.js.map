{"version":3,"file":"franchise_details.min.js","names":["franchise_details_init","handle_owner_links","handle_store_links","deleteFranchiseConfirm","dd_message","title","message","confirm","bounce","franchise_id","cancel","addOwner","guest","dd_toast","$","data","create_and_submit_form","action","window","location","search","input","user_id","on","this","manage_action","back_path","owner_id","store_id","store_name","id","back"],"sourceRoot":"js/src/dreamdinners/admin","sources":["franchise_details.js"],"sourcesContent":["function franchise_details_init()\n{\n\thandle_owner_links();\n\n\thandle_store_links();\n}\n\nfunction deleteFranchiseConfirm()\n{\n\tdd_message({\n\t\ttitle: 'Delete Franchise',\n\t\tmessage: 'Are you sure you want to delete this franchise?',\n\t\tconfirm: function() {\n\n\t\t\tbounce('page=admin_franchise_details&id=' + franchise_id + '&action=deleteFranchise');\n\n\t\t},\n\t\tcancel: function() {\n\t\t}\n\t});\n}\n\nfunction addOwner(guest)\n{\n\tdd_toast({message: 'Adding ' + $(guest).data('firstname') + ' ' + $(guest).data('lastname')});\n\n\tcreate_and_submit_form({\n\t\taction: 'main.php' + window.location.search,\n\t\tinput: ({\n\t\t\taddOwner: true,\n\t\t\tuser_id: $(guest).data('user_id')\n\t\t})\n\t});\n}\n\nfunction handle_owner_links()\n{\n\t$('[data-manage_user_id]').on('click', function () {\n\n\t\tvar user_id = $(this).data('manage_user_id');\n\t\tvar manage_action = $(this).data('manage_action');\n\n\t\tif (manage_action == 'view')\n\t\t{\n\t\t\tbounce('?page=admin_user_details&id=' + user_id + '&back=' + back_path());\n\t\t}\n\n\t\tif (manage_action == 'edit')\n\t\t{\n\t\t\tbounce('?page=admin_account&id=' + user_id + '&back=' + back_path());\n\t\t}\n\n\t\tif (manage_action == 'delete')\n\t\t{\n\t\t\tdd_message({\n\t\t\t\ttitle: 'Remove Owner',\n\t\t\t\tmessage: 'Are you sure you want to remove this owner? The owners access privileges will be set to customer if they are not an owner of any other entities.',\n\t\t\t\tconfirm: function() {\n\n\t\t\t\t\tdd_toast({message: 'Removing Owner'});\n\n\t\t\t\t\tcreate_and_submit_form({\n\t\t\t\t\t\taction: 'main.php' + window.location.search,\n\t\t\t\t\t\tinput: ({\n\t\t\t\t\t\t\taction: 'deleteOwner',\n\t\t\t\t\t\t\towner_id: user_id\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\n\t\t\t\t},\n\t\t\t\tcancel: function() {\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t});\n}\n\nfunction handle_store_links()\n{\n\t$('[data-manage_store_id]').on('click', function () {\n\n\t\tvar store_id = $(this).data('manage_store_id');\n\t\tvar manage_action = $(this).data('manage_action');\n\t\tvar store_name = $(this).data('store_name');\n\n\t\tif (manage_action == 'view')\n\t\t{\n\t\t\tbounce('?page=admin_store_details&id=' + store_id + '&back=' + back_path());\n\t\t}\n\n\t\tif (manage_action == 'archive')\n\t\t{\n\t\t\tdd_message({\n\t\t\t\ttitle: 'Archive Store',\n\t\t\t\tmessage: 'Are you sure you want to archive and re-open <span style=\"color: red; font-weight: bold;\">' + store_name + '</span>?',\n\t\t\t\tconfirm: function() {\n\n\t\t\t\t\tbounce('?page=admin_archive_store&store=' + store_id);\n\n\t\t\t\t},\n\t\t\t\tcancel: function() {\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\n\t\tif (manage_action == 'delete')\n\t\t{\n\t\t\tdd_message({\n\t\t\t\ttitle: 'Delete Store',\n\t\t\t\tmessage: 'Are you sure you want to <span style=\"color: red; font-weight: bold;\">permanently</span> delete <span style=\"color: red; font-weight: bold;\">' + store_name + '</span> store from all of Dream Dinners?',\n\t\t\t\tconfirm: function() {\n\n\t\t\t\t\tdd_toast({message: 'Deleting Store'});\n\n\t\t\t\t\tcreate_and_submit_form({\n\t\t\t\t\t\taction: '?page=admin_store_details&id=' + store_id,\n\t\t\t\t\t\tinput: ({\n\t\t\t\t\t\t\taction: 'deleteStore',\n\t\t\t\t\t\t\tid: store_id,\n\t\t\t\t\t\t\tback: back_path()\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\n\t\t\t\t},\n\t\t\t\tcancel: function() {\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t});\n}"],"mappings":"AAAA,SAASA,yBAERC,qBAEAC,oBACD,CAEA,SAASC,yBAERC,WAAW,CACVC,MAAO,mBACPC,QAAS,kDACTC,QAAS,WAERC,OAAO,mCAAqCC,aAAe,0BAE5D,EACAC,OAAQ,WACR,GAEF,CAEA,SAASC,SAASC,GAEjBC,SAAS,CAACP,QAAS,UAAYQ,EAAEF,GAAOG,KAAK,aAAe,IAAMD,EAAEF,GAAOG,KAAK,cAEhFC,uBAAuB,CACtBC,OAAQ,WAAaC,OAAOC,SAASC,OACrCC,MAAO,CACNV,UAAU,EACVW,QAASR,EAAEF,GAAOG,KAAK,aAG1B,CAEA,SAASd,qBAERa,EAAE,yBAAyBS,GAAG,SAAS,WAEtC,IAAID,EAAUR,EAAEU,MAAMT,KAAK,kBACvBU,EAAgBX,EAAEU,MAAMT,KAAK,iBAEZ,QAAjBU,GAEHjB,OAAO,+BAAiCc,EAAU,SAAWI,aAGzC,QAAjBD,GAEHjB,OAAO,0BAA4Bc,EAAU,SAAWI,aAGpC,UAAjBD,GAEHrB,WAAW,CACVC,MAAO,eACPC,QAAS,mJACTC,QAAS,WAERM,SAAS,CAACP,QAAS,mBAEnBU,uBAAuB,CACtBC,OAAQ,WAAaC,OAAOC,SAASC,OACrCC,MAAO,CACNJ,OAAQ,cACRU,SAAUL,IAIb,EACAZ,OAAQ,WACR,GAIH,GACD,CAEA,SAASR,qBAERY,EAAE,0BAA0BS,GAAG,SAAS,WAEvC,IAAIK,EAAWd,EAAEU,MAAMT,KAAK,mBACxBU,EAAgBX,EAAEU,MAAMT,KAAK,iBAC7Bc,EAAaf,EAAEU,MAAMT,KAAK,cAET,QAAjBU,GAEHjB,OAAO,gCAAkCoB,EAAW,SAAWF,aAG3C,WAAjBD,GAEHrB,WAAW,CACVC,MAAO,gBACPC,QAAS,6FAA+FuB,EAAa,WACrHtB,QAAS,WAERC,OAAO,mCAAqCoB,EAE7C,EACAlB,OAAQ,WACR,IAKmB,UAAjBe,GAEHrB,WAAW,CACVC,MAAO,eACPC,QAAS,gJAAkJuB,EAAa,2CACxKtB,QAAS,WAERM,SAAS,CAACP,QAAS,mBAEnBU,uBAAuB,CACtBC,OAAQ,gCAAkCW,EAC1CP,MAAO,CACNJ,OAAQ,cACRa,GAAIF,EACJG,KAAML,cAIT,EACAhB,OAAQ,WACR,GAIH,GACD"}