{"version":3,"file":"franchise_details.min.js","names":["franchise_details_init","handle_owner_links","handle_store_links","deleteFranchiseConfirm","dd_message","title","message","confirm","bounce","franchise_id","cancel","addOwner","guest","dd_toast","$","data","create_and_submit_form","action","window","location","search","input","user_id","on","this","manage_action","back_path","owner_id","store_id","store_name","id","back"],"sourceRoot":"js/src/dreamdinners/admin","sources":["franchise_details.js"],"sourcesContent":["function franchise_details_init()\r\n{\r\n\thandle_owner_links();\r\n\r\n\thandle_store_links();\r\n}\r\n\r\nfunction deleteFranchiseConfirm()\r\n{\r\n\tdd_message({\r\n\t\ttitle: 'Delete Franchise',\r\n\t\tmessage: 'Are you sure you want to delete this franchise?',\r\n\t\tconfirm: function() {\r\n\r\n\t\t\tbounce('page=admin_franchise_details&id=' + franchise_id + '&action=deleteFranchise');\r\n\r\n\t\t},\r\n\t\tcancel: function() {\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction addOwner(guest)\r\n{\r\n\tdd_toast({message: 'Adding ' + $(guest).data('firstname') + ' ' + $(guest).data('lastname')});\r\n\r\n\tcreate_and_submit_form({\r\n\t\taction: 'main.php' + window.location.search,\r\n\t\tinput: ({\r\n\t\t\taddOwner: true,\r\n\t\t\tuser_id: $(guest).data('user_id')\r\n\t\t})\r\n\t});\r\n}\r\n\r\nfunction handle_owner_links()\r\n{\r\n\t$('[data-manage_user_id]').on('click', function () {\r\n\r\n\t\tvar user_id = $(this).data('manage_user_id');\r\n\t\tvar manage_action = $(this).data('manage_action');\r\n\r\n\t\tif (manage_action == 'view')\r\n\t\t{\r\n\t\t\tbounce('main.php?page=admin_user_details&id=' + user_id + '&back=' + back_path());\r\n\t\t}\r\n\r\n\t\tif (manage_action == 'edit')\r\n\t\t{\r\n\t\t\tbounce('main.php?page=admin_account&id=' + user_id + '&back=' + back_path());\r\n\t\t}\r\n\r\n\t\tif (manage_action == 'delete')\r\n\t\t{\r\n\t\t\tdd_message({\r\n\t\t\t\ttitle: 'Remove Owner',\r\n\t\t\t\tmessage: 'Are you sure you want to remove this owner? The owners access privileges will be set to customer if they are not an owner of any other entities.',\r\n\t\t\t\tconfirm: function() {\r\n\r\n\t\t\t\t\tdd_toast({message: 'Removing Owner'});\r\n\r\n\t\t\t\t\tcreate_and_submit_form({\r\n\t\t\t\t\t\taction: 'main.php' + window.location.search,\r\n\t\t\t\t\t\tinput: ({\r\n\t\t\t\t\t\t\taction: 'deleteOwner',\r\n\t\t\t\t\t\t\towner_id: user_id\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function() {\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction handle_store_links()\r\n{\r\n\t$('[data-manage_store_id]').on('click', function () {\r\n\r\n\t\tvar store_id = $(this).data('manage_store_id');\r\n\t\tvar manage_action = $(this).data('manage_action');\r\n\t\tvar store_name = $(this).data('store_name');\r\n\r\n\t\tif (manage_action == 'view')\r\n\t\t{\r\n\t\t\tbounce('main.php?page=admin_store_details&id=' + store_id + '&back=' + back_path());\r\n\t\t}\r\n\r\n\t\tif (manage_action == 'archive')\r\n\t\t{\r\n\t\t\tdd_message({\r\n\t\t\t\ttitle: 'Archive Store',\r\n\t\t\t\tmessage: 'Are you sure you want to archive and re-open <span style=\"color: red; font-weight: bold;\">' + store_name + '</span>?',\r\n\t\t\t\tconfirm: function() {\r\n\r\n\t\t\t\t\tbounce('main.php?page=admin_archive_store&store=' + store_id);\r\n\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function() {\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tif (manage_action == 'delete')\r\n\t\t{\r\n\t\t\tdd_message({\r\n\t\t\t\ttitle: 'Delete Store',\r\n\t\t\t\tmessage: 'Are you sure you want to <span style=\"color: red; font-weight: bold;\">permanently</span> delete <span style=\"color: red; font-weight: bold;\">' + store_name + '</span> store from all of Dream Dinners?',\r\n\t\t\t\tconfirm: function() {\r\n\r\n\t\t\t\t\tdd_toast({message: 'Deleting Store'});\r\n\r\n\t\t\t\t\tcreate_and_submit_form({\r\n\t\t\t\t\t\taction: 'main.php?page=admin_store_details&id=' + store_id,\r\n\t\t\t\t\t\tinput: ({\r\n\t\t\t\t\t\t\taction: 'deleteStore',\r\n\t\t\t\t\t\t\tid: store_id,\r\n\t\t\t\t\t\t\tback: back_path()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function() {\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t});\r\n}"],"mappings":"AAAA,SAASA,yBAERC,qBAEAC,oBACD,CAEA,SAASC,yBAERC,WAAW,CACVC,MAAO,mBACPC,QAAS,kDACTC,QAAS,WAERC,OAAO,mCAAqCC,aAAe,0BAE5D,EACAC,OAAQ,WACR,GAEF,CAEA,SAASC,SAASC,GAEjBC,SAAS,CAACP,QAAS,UAAYQ,EAAEF,GAAOG,KAAK,aAAe,IAAMD,EAAEF,GAAOG,KAAK,cAEhFC,uBAAuB,CACtBC,OAAQ,WAAaC,OAAOC,SAASC,OACrCC,MAAO,CACNV,UAAU,EACVW,QAASR,EAAEF,GAAOG,KAAK,aAG1B,CAEA,SAASd,qBAERa,EAAE,yBAAyBS,GAAG,SAAS,WAEtC,IAAID,EAAUR,EAAEU,MAAMT,KAAK,kBACvBU,EAAgBX,EAAEU,MAAMT,KAAK,iBAEZ,QAAjBU,GAEHjB,OAAO,uCAAyCc,EAAU,SAAWI,aAGjD,QAAjBD,GAEHjB,OAAO,kCAAoCc,EAAU,SAAWI,aAG5C,UAAjBD,GAEHrB,WAAW,CACVC,MAAO,eACPC,QAAS,mJACTC,QAAS,WAERM,SAAS,CAACP,QAAS,mBAEnBU,uBAAuB,CACtBC,OAAQ,WAAaC,OAAOC,SAASC,OACrCC,MAAO,CACNJ,OAAQ,cACRU,SAAUL,IAIb,EACAZ,OAAQ,WACR,GAIH,GACD,CAEA,SAASR,qBAERY,EAAE,0BAA0BS,GAAG,SAAS,WAEvC,IAAIK,EAAWd,EAAEU,MAAMT,KAAK,mBACxBU,EAAgBX,EAAEU,MAAMT,KAAK,iBAC7Bc,EAAaf,EAAEU,MAAMT,KAAK,cAET,QAAjBU,GAEHjB,OAAO,wCAA0CoB,EAAW,SAAWF,aAGnD,WAAjBD,GAEHrB,WAAW,CACVC,MAAO,gBACPC,QAAS,6FAA+FuB,EAAa,WACrHtB,QAAS,WAERC,OAAO,2CAA6CoB,EAErD,EACAlB,OAAQ,WACR,IAKmB,UAAjBe,GAEHrB,WAAW,CACVC,MAAO,eACPC,QAAS,gJAAkJuB,EAAa,2CACxKtB,QAAS,WAERM,SAAS,CAACP,QAAS,mBAEnBU,uBAAuB,CACtBC,OAAQ,wCAA0CW,EAClDP,MAAO,CACNJ,OAAQ,cACRa,GAAIF,EACJG,KAAML,cAIT,EACAhB,OAAQ,WACR,GAIH,GACD"}