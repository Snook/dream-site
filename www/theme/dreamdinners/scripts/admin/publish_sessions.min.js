function admin_publish_sessions_init(){}function getNewItemsInSelection(){items_string="";form=document.getElementById("fillWindowForm");startElem=document.getElementById("start");var e=startElem.value;if(e!=null&&e!=""){var t=document.getElementById(e)}endElem=document.getElementById("end");var n=endElem.value;if(n!=null&&n!=""){var l=document.getElementById(n)}if(l==null&&t==null){alert("Please set a Date Range");return items_string}if(l==null){l=t}if(t==null){t=l}if(isSafari){var i=-1;for(var s=0;s<t.parentNode.cells.length;s++){if(t===t.parentNode.cells[s]){i=s}}if(i==-1){alert("Problem: acessing cells. Please notify Dream dinners staff")}a=i}else{var a=t.cellIndex}var d=t.parentNode.rowIndex;if(isSafari){i=-1;for(var s=0;s<l.parentNode.cells.length;s++){if(l===l.parentNode.cells[s]){i=s}}if(i==-1){alert("Problem: acessing cells. Please notify Dream dinners staff")}m=i}else{var m=l.cellIndex}var o=l.parentNode.rowIndex;items_string="";for(y=d;y<=o;y++){if(y==d){tempStartCol=a}else{tempStartCol=0}if(y==o){tempEndCol=m}else{tempEndCol=6}for(x=tempStartCol;x<=tempEndCol;x++){thisCell=document.getElementById(calendarName).rows[y].cells[x];if(thisCell){images=thisCell.getElementsByTagName("img");for(s=0;s<images.length;s++){if(images.item(s).id<0){items_string+=images.item(s).id+"^"+thisCell.id+"^"+images.item(s).name+"|"}}}}}return items_string.substr(0,items_string.length-1)}function serializeNewSessions(){items_string="";for(y=2;y<=8;y++){for(x=0;x<=6;x++){thisCell=document.getElementById(calendarName).rows[y].cells[x];if(thisCell){images=thisCell.getElementsByTagName("img");for(i=0;i<images.length;i++){if(images.item(i).id<0){items_string+=images.item(i).id+"^"+thisCell.id+"^"+images.item(i).name+"|"}}}}}if(items_string!=""){form=document.getElementById("fillWindowForm");item_ids=document.getElementById("item_ids");item_ids.value=items_string.substr(0,items_string.length-1)}}function hiliteIcon(e,t){img=document.getElementById(e);switch(t){case 1:img.src=PATH.image_admin+"/calendar/session_pub_hl.png";return;case 2:img.src=PATH.image_admin+"/calendar/session_saved_hl.png";return;case 3:img.src=PATH.image_admin+"/calendar/session_new_hl.png";return;case 4:img.src=PATH.image_admin+"/calendar/session_closed_hl.png";return}}function unHiliteIcon(e,t){img=document.getElementById(e);switch(t){case 1:img.src=PATH.image_admin+"/calendar/session_pub.png";return;case 2:img.src=PATH.image_admin+"/calendar/session_saved.png";return;case 3:img.src=PATH.image_admin+"/calendar/session_new.png";return;case 4:img.src=PATH.image_admin+"/calendar/session_closed.png";return}}function onSetFillWindowStart(){if(selectedCell){if(!selectedCell.getAttribute("validForMenu")){serializeNewSessions();form=document.getElementById("fillWindowForm");endID=document.getElementById("end").value;if(endID!=null&&endID!=""){endTD=document.getElementById(endID);endCol=endTD.cellIndex;endRow=endTD.parentNode.rowIndex;var e=selectedCell.cellIndex;var t=selectedCell.parentNode.rowIndex;if(endRow<t||endRow==t&&endCol<e){document.getElementById("end").value=selectedCell.id}}startElem=document.getElementById("start");startElem.value=selectedCell.id;operation=document.getElementById("operation");operation.value=null;form.submit()}else{alert("Sorry, you selected a date outside of the valid menu range.\nPlease select a date between the two arrows.")}}else{alert("Please select a start day by clicking on a day in calendar")}}function onSetFillWindowEnd(){if(selectedCell){if(!selectedCell.getAttribute("validForMenu")){serializeNewSessions();form=document.getElementById("fillWindowForm");startID=document.getElementById("start").value;if(startID!=null&&startID!=""){startTD=document.getElementById(startID);startCol=startTD.cellIndex;startRow=startTD.parentNode.rowIndex;var e=selectedCell.cellIndex;var t=selectedCell.parentNode.rowIndex;if(t<startRow||t==startRow&&e<startCol){document.getElementById("start").value=selectedCell.id}}endElem=document.getElementById("end");endElem.value=selectedCell.id;operation=document.getElementById("operation");operation.value=null;form.submit()}else{alert("Sorry, you selected a date outside of the valid menu range.\nPlease select a date between the two arrows.")}}else{alert("Please select an end day by clicking on a day in calendar")}}function onClearFillWindow(){serializeNewSessions();form=document.getElementById("fillWindowForm");endElem=document.getElementById("end");endElem.value=null;startElem=document.getElementById("start");startElem.value=null;operation=document.getElementById("operation");operation.value=null;form.submit()}function onEditClick(e){window.location="./main.php?page=admin_edit_session&session="+e+"&back=main.php?page=admin_publish_sessions"}function onSessionClick(e){window.location="./main.php?page=admin_main&session="+e}function saveItems(){items_string=getNewItemsInSelection();if(items_string!=""){form=document.getElementById("fillWindowForm");document.getElementById("item_ids").value=items_string;document.getElementById("operation").value="save";form.submit();var e=document.getElementById("saveButton");e.style.display="none"}}function publishItems(){items_string=getNewItemsInSelection();form=document.getElementById("fillWindowForm");if(items_string!=""){document.getElementById("item_ids").value=items_string}document.getElementById("operation").value="publish";form.submit();var e=document.getElementById("publishButton");e.style.display="none"}function onDeleteClick(e){theSpan=e.parentNode;theCell=theSpan.parentNode;theCell.removeChild(theSpan)}
//# sourceMappingURL=publish_sessions.min.js.map