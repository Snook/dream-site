function addContact(e){$("#contact").val($(e).data("primary_email"))}$(function(){$(document).on("click","#show_detailed_reporting",function(e){$("#detailed_reporting").slideToggle()});$(document).on("click","#add_offsitelocation, #add_offsite_cancel",function(e){$("#add_offsitelocation_content").toggleFlex();$("#offiste_location_form").trigger("reset")});$(document).on("reset","#offiste_location_form, #add_offsite_cancel",function(e){$("#edit_location").val("false");$("#default_session_override").prop({disabled:true}).val("");$("#offiste_location_form").removeClass("was-validated");$("[data-offsite_id]").removeClass("bg-green-light")});$(document).on("change","#default_session_override_enable",function(e){if($(this).is(":checked")){$("#default_session_override").prop({disabled:false})}else{$("#default_session_override").prop({disabled:true}).val("")}});$(document).on("submit","#offiste_location_form",function(e){e.preventDefault();let o="Are you sure you wish to add a new location?";if($("#edit_location").val()!=="false"){o="Are you sure you wish to edit this existing location?"}if($(this)[0].checkValidity()===false){e.stopPropagation();$(".btn-spinning").removeClass("btn-spinning");$(".ld-spin").remove()}else{bootbox.confirm(o,function(e){if(e){let e={edit_location:$("#edit_location").val(),location:$("#location_name").val(),address_line1:$("#address_line1").val(),address_line2:$("#address_line2").val(),city:$("#city").val(),state:$("#state").val(),postal_code:$("#postal_code").val(),contact:$("#contact").val(),do_override:$("#default_session_override_enable").is(":checked"),default_override:$("#default_session_override").val()};$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"admin_offsitelocation",store_id:STORE_DETAILS.id,op:"add_offsite_info",data:e},success:function(e,o){if(e.processor_success){location.reload()}else{}},error:function(e,o){response="Unexpected error"}})}})}});$(document).on("click","[data-offsite_id_edit]",function(e){$("#offiste_location_form").trigger("reset");let t=$(this).data("offsite_id_edit");$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"admin_offsitelocation",offsite_id:t,store_id:STORE_DETAILS.id,op:"get_offsite_info"},success:function(o,e){if(o.processor_success){let e=$.parseJSON(o.data);$("#add_offsitelocation_content").showFlex();$('[data-offsite_id="'+t+'"]').addClass("bg-green-light");$("#edit_location").val(t);$("#location_name").val(e.location_title);$("#address_line1").val(e.address_line1);$("#address_line2").val(e.address_line2);$("#city").val(e.city);$("#state").val(e.state_id);$("#postal_code").val(e.postal_code);$("#contact").val(e.contact);if(e.default_session_override!=null){$("#default_session_override_enable").prop({checked:true}).trigger("change");$("#default_session_override").val(e.default_session_override)}}else{}},error:function(e,o){response="Unexpected error"}})});$(document).on("click","[data-enable_location]",function(e){let o=$(this).data("enable_location");$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"admin_offsitelocation",store_id:STORE_DETAILS.id,op:"toggle_offsitelocation",location_id:o},error:function(e,o){response="Unexpected error"}})})});
//# sourceMappingURL=offsitelocations.min.js.map