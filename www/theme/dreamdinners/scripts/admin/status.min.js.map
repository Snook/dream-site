{"version":3,"sourceRoot":"js/src/dreamdinners","sources":["status.js"],"sourcesContent":["function status_init()\r\n{\r\n\tcheck_status();\r\n}\r\n\r\nfunction check_status()\r\n{\r\n\t$('[data-check_status]').each(function () {\r\n\r\n\t\tvar check_status = $(this).data('check_status');\r\n\t\tvar menu_id = $(this).data('menu_id');\r\n\t\tvar this_element = $(this);\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: 'ddproc.php',\r\n\t\t\ttype: 'POST',\r\n\t\t\ttimeout: 20000,\r\n\t\t\tdataType: 'json',\r\n\t\t\tdata : {\r\n\t\t\t\tprocessor: 'admin_status',\r\n\t\t\t\tmenu_id: menu_id,\r\n\t\t\t\top: check_status\r\n\t\t\t},\r\n\t\t\tsuccess: function(json, status)\r\n\t\t\t{\r\n\t\t\t\tif(json.processor_success)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (json.status)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$(this_element).attr({'src': PATH.image_admin + '/icon/accept.png'});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$(this_element).attr({'src': PATH.image_admin + '/icon/delete.png'});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror: function(objAJAXRequest, strError)\r\n\t\t\t{\r\n\t\t\t\tresponse = 'Unexpected error';\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t});\r\n\r\n\r\n\t$.ajax({\r\n\t\turl: 'ddproc.php',\r\n\t\ttype: 'POST',\r\n\t\ttimeout: 20000,\r\n\t\tdataType: 'json',\r\n\t\tdata : {\r\n\t\t\tprocessor: 'admin_status',\r\n\t\t\top: 'cron_status'\r\n\t\t},\r\n\t\tsuccess: function(json, status)\r\n\t\t{\r\n\t\t\tif(json.processor_success)\r\n\t\t\t{\r\n\t\t\t\t$(\"#cron_status_div\").html(json.view);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$(\"#cron_status_div\").html(\"An unexpected error occurred.\");\r\n\t\t\t}\r\n\t\t},\r\n\t\terror: function(objAJAXRequest, strError)\r\n\t\t{\r\n\t\t\tresponse = 'Unexpected error';\r\n\t\t}\r\n\t});\r\n\r\n\r\n}"],"names":["status_init","check_status","$","each","this","data","menu_id","this_element","ajax","url","type","timeout","dataType","processor","op","success","json","status","processor_success","attr","src","PATH","image_admin","error","objAJAXRequest","strError","response","html","view"],"mappings":"AAAA,SAASA,cAERC,aAAa,CACd,CAEA,SAASA,eAERC,EAAE,qBAAqB,EAAEC,KAAK,WAE7B,IAAIF,EAAeC,EAAEE,IAAI,EAAEC,KAAK,cAAc,EAC9C,IAAIC,EAAUJ,EAAEE,IAAI,EAAEC,KAAK,SAAS,EACpC,IAAIE,EAAeL,EAAEE,IAAI,EAEzBF,EAAEM,KAAK,CACNC,IAAK,aACLC,KAAM,OACNC,QAAS,IACTC,SAAU,OACVP,KAAO,CACNQ,UAAW,eACXP,QAASA,EACTQ,GAAIb,CACL,EACAc,QAAS,SAASC,EAAMC,GAEvB,GAAGD,EAAKE,kBACR,CACC,GAAIF,EAAKC,OACT,CACCf,EAAEK,CAAY,EAAEY,KAAK,CAACC,IAAOC,KAAKC,YAAc,kBAAkB,CAAC,CACpE,KAEA,CACCpB,EAAEK,CAAY,EAAEY,KAAK,CAACC,IAAOC,KAAKC,YAAc,kBAAkB,CAAC,CACpE,CACD,CACD,EACAC,MAAO,SAASC,EAAgBC,GAE/BC,SAAW,kBACZ,CACD,CAAC,CAEF,CAAC,EAGDxB,EAAEM,KAAK,CACNC,IAAK,aACLC,KAAM,OACNC,QAAS,IACTC,SAAU,OACVP,KAAO,CACNQ,UAAW,eACXC,GAAI,aACL,EACAC,QAAS,SAASC,EAAMC,GAEvB,GAAGD,EAAKE,kBACR,CACChB,EAAE,kBAAkB,EAAEyB,KAAKX,EAAKY,IAAI,CACrC,KAEA,CACC1B,EAAE,kBAAkB,EAAEyB,KAAK,+BAA+B,CAC3D,CACD,EACAJ,MAAO,SAASC,EAAgBC,GAE/BC,SAAW,kBACZ,CACD,CAAC,CAGF"}