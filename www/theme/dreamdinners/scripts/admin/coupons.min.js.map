{"version":3,"file":"coupons.min.js","names":["admin_coupons_init","calculatePage","document","getElementById","obj","theForm","id","substr","rows","getElementsByTagName","checked","row","length","style","display","prog_id","i","elements","type","getAttribute","theCID","disabled","color","str_optouts","str_optins","currentState","value","confirm_and_check_form","form","optouts","optins","storeChange","submit","resetPage","url","window","location"],"sourceRoot":"js/src/dreamdinners/admin","sources":["coupons.js"],"sourcesContent":["function admin_coupons_init()\r\n{\r\n\tcalculatePage(document.getElementById('mid'));\r\n}\r\n\r\nfunction calculatePage(obj)\r\n{\r\n\tvar theForm = document.getElementById('coupon_optout_form');\r\n\r\n\t// first show hide controls if master control is clicked\r\n\tif (obj && obj.id.substr(0, 3) == \"mid\")\r\n\t{\r\n\t\tvar tbl = document.getElementById('itemsTbl');\r\n\t\tvar rows = tbl.getElementsByTagName('tr');\r\n\t\tif (obj.checked)\r\n\t\t{\r\n\t\t\tfor (var row=0; row<rows.length;row++)\r\n\t\t\t{\r\n\t\t\t\tvar cels = rows[row].getElementsByTagName('td');\r\n\t\t\t\tcels[0].style.display=\"block\";\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var row=0; row<rows.length;row++)\r\n\t\t\t{\r\n\t\t\t\tvar cels = rows[row].getElementsByTagName('td');\r\n\t\t\t\tcels[0].style.display=\"none\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// first disabled/enable codes if a program is clicked\r\n\tif (obj && obj.id.substr(0, 3) == \"pid\")\r\n\t{\r\n\t\tvar prog_id = obj.id.substr(4);\r\n\r\n\t\tfor ( i = 0; i < theForm.elements.length; i++ )\r\n\t\t{\r\n\t\t\tif (theForm.elements[i].type == 'checkbox')\r\n\t\t\t{\r\n\t\t\t\tif (theForm.elements[i].getAttribute('data-program_id') == prog_id)\r\n\t\t\t\t{\r\n\t\t\t\t\ttheCID = theForm.elements[i].id.substr(4);\r\n\r\n\t\t\t\t\tif (obj.checked)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttheForm.elements[i].disabled = false;\r\n\t\t\t\t\t\tdocument.getElementById('row_' + prog_id + '_' + theCID ).style.color = \"#000000\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdocument.getElementById('row_' + prog_id + '_' + theCID ).style.color = \"#808080\";\r\n\t\t\t\t\t\ttheForm.elements[i].disabled = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar str_optouts = \"\";\r\n\tvar str_optins = \"\";\r\n\r\n\tfor ( i = 0; i < theForm.elements.length; i++ )\r\n\t{\r\n\t\tif (theForm.elements[i].type == 'checkbox')\r\n\t\t{\r\n\t\t\tcurrentState = theForm.elements[i].getAttribute('data-orgval');\r\n\t\t\tif (currentState == 'CHECKED' && theForm.elements[i].checked == false)\r\n\t\t\t{\r\n\t\t\t\tstr_optouts += theForm.elements[i].id + \"|\";\r\n\t\t\t}\r\n\t\t\telse if (currentState == 'UNCHECKED' && theForm.elements[i].checked == true)\r\n\t\t\t{\r\n\t\t\t\tstr_optins += theForm.elements[i].id + \"|\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdocument.getElementById('optouts').value = str_optouts;\r\n\tdocument.getElementById('optins').value = str_optins;\r\n\r\n\tif (str_optouts != \"\" || str_optins != \"\")\r\n\t{\r\n\t\tdocument.getElementById('saved_message').style.display = \"block\";\r\n\t\tdocument.getElementById('saved_message_2').style.display = \"block\";\r\n\t}\r\n\telse\r\n\t{\r\n\t\tdocument.getElementById('saved_message').style.display = \"none\";\r\n\t\tdocument.getElementById('saved_message_2').style.display = \"none\";\r\n\t}\r\n}\r\n\r\nfunction confirm_and_check_form(form)\r\n{\r\n\toptouts = document.getElementById('optouts').value;\r\n\toptins = document.getElementById('optins').value;\r\n\tdocument.getElementById('action').value = \"finalize\";\r\n\r\n\tif (optouts == \"\" && optins == \"\") {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nfunction storeChange(obj)\r\n{\r\n\tdocument.getElementById('action').value = \"filterChange\";\r\n\tdocument.getElementById('coupon_optout_form').submit();\r\n}\r\n\r\nfunction resetPage(url)\r\n{\r\n\twindow.location = url;\r\n}"],"mappings":"AAAA,SAASA,qBAERC,cAAcC,SAASC,eAAe,OACvC,CAEA,SAASF,cAAcG,GAEtB,IAAIC,EAAUH,SAASC,eAAe,sBAGtC,GAAIC,GAA8B,OAAvBA,EAAIE,GAAGC,OAAO,EAAG,GAC5B,CACC,IACIC,EADMN,SAASC,eAAe,YACnBM,qBAAqB,MACpC,GAAIL,EAAIM,QAEP,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAKI,OAAOD,IAChC,CACYH,EAAKG,GAAKF,qBAAqB,MACrC,GAAGI,MAAMC,QAAQ,OACvB,MAIA,IAASH,EAAI,EAAGA,EAAIH,EAAKI,OAAOD,IAChC,CACYH,EAAKG,GAAKF,qBAAqB,MACrC,GAAGI,MAAMC,QAAQ,MACvB,CAEF,CAGA,GAAIV,GAA8B,OAAvBA,EAAIE,GAAGC,OAAO,EAAG,GAC5B,CACC,IAAIQ,EAAUX,EAAIE,GAAGC,OAAO,GAE5B,IAAMS,EAAI,EAAGA,EAAIX,EAAQY,SAASL,OAAQI,IAET,YAA5BX,EAAQY,SAASD,GAAGE,MAEnBb,EAAQY,SAASD,GAAGG,aAAa,oBAAsBJ,IAE1DK,OAASf,EAAQY,SAASD,GAAGV,GAAGC,OAAO,GAEnCH,EAAIM,SAEPL,EAAQY,SAASD,GAAGK,UAAW,EAC/BnB,SAASC,eAAe,OAASY,EAAU,IAAMK,QAASP,MAAMS,MAAQ,YAIxEpB,SAASC,eAAe,OAASY,EAAU,IAAMK,QAASP,MAAMS,MAAQ,UACxEjB,EAAQY,SAASD,GAAGK,UAAW,GAKpC,CAEA,IAAIE,EAAc,GACdC,EAAa,GAEjB,IAAMR,EAAI,EAAGA,EAAIX,EAAQY,SAASL,OAAQI,IAET,YAA5BX,EAAQY,SAASD,GAAGE,OAEvBO,aAAepB,EAAQY,SAASD,GAAGG,aAAa,eAC5B,WAAhBM,cAA4D,GAA/BpB,EAAQY,SAASD,GAAGN,QAEpDa,GAAelB,EAAQY,SAASD,GAAGV,GAAK,IAEhB,aAAhBmB,cAA8D,GAA/BpB,EAAQY,SAASD,GAAGN,UAE3Dc,GAAcnB,EAAQY,SAASD,GAAGV,GAAK,MAK1CJ,SAASC,eAAe,WAAWuB,MAAQH,EAC3CrB,SAASC,eAAe,UAAUuB,MAAQF,EAEvB,IAAfD,GAAmC,IAAdC,GAExBtB,SAASC,eAAe,iBAAiBU,MAAMC,QAAU,QACzDZ,SAASC,eAAe,mBAAmBU,MAAMC,QAAU,UAI3DZ,SAASC,eAAe,iBAAiBU,MAAMC,QAAU,OACzDZ,SAASC,eAAe,mBAAmBU,MAAMC,QAAU,OAE7D,CAEA,SAASa,uBAAuBC,GAM/B,OAJAC,QAAU3B,SAASC,eAAe,WAAWuB,MAC7CI,OAAS5B,SAASC,eAAe,UAAUuB,MAC3CxB,SAASC,eAAe,UAAUuB,MAAQ,WAE3B,IAAXG,SAA2B,IAAVC,MAKtB,CAEA,SAASC,YAAY3B,GAEpBF,SAASC,eAAe,UAAUuB,MAAQ,eAC1CxB,SAASC,eAAe,sBAAsB6B,QAC/C,CAEA,SAASC,UAAUC,GAElBC,OAAOC,SAAWF,CACnB"}