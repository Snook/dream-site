{"version":3,"sourceRoot":"js/src/dreamdinners","sources":["coupons.js"],"sourcesContent":["function admin_coupons_init()\r\n{\r\n\tcalculatePage(document.getElementById('mid'));\r\n}\r\n\r\nfunction calculatePage(obj)\r\n{\r\n\tvar theForm = document.getElementById('coupon_optout_form');\r\n\r\n\t// first show hide controls if master control is clicked\r\n\tif (obj && obj.id.substr(0, 3) == \"mid\")\r\n\t{\r\n\t\tvar tbl = document.getElementById('itemsTbl');\r\n\t\tvar rows = tbl.getElementsByTagName('tr');\r\n\t\tif (obj.checked)\r\n\t\t{\r\n\t\t\tfor (var row=0; row<rows.length;row++)\r\n\t\t\t{\r\n\t\t\t\tvar cels = rows[row].getElementsByTagName('td');\r\n\t\t\t\tcels[0].style.display=\"block\";\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var row=0; row<rows.length;row++)\r\n\t\t\t{\r\n\t\t\t\tvar cels = rows[row].getElementsByTagName('td');\r\n\t\t\t\tcels[0].style.display=\"none\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// first disabled/enable codes if a program is clicked\r\n\tif (obj && obj.id.substr(0, 3) == \"pid\")\r\n\t{\r\n\t\tvar prog_id = obj.id.substr(4);\r\n\r\n\t\tfor ( i = 0; i < theForm.elements.length; i++ )\r\n\t\t{\r\n\t\t\tif (theForm.elements[i].type == 'checkbox')\r\n\t\t\t{\r\n\t\t\t\tif (theForm.elements[i].getAttribute('data-program_id') == prog_id)\r\n\t\t\t\t{\r\n\t\t\t\t\ttheCID = theForm.elements[i].id.substr(4);\r\n\r\n\t\t\t\t\tif (obj.checked)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttheForm.elements[i].disabled = false;\r\n\t\t\t\t\t\tdocument.getElementById('row_' + prog_id + '_' + theCID ).style.color = \"#000000\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdocument.getElementById('row_' + prog_id + '_' + theCID ).style.color = \"#808080\";\r\n\t\t\t\t\t\ttheForm.elements[i].disabled = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar str_optouts = \"\";\r\n\tvar str_optins = \"\";\r\n\r\n\tfor ( i = 0; i < theForm.elements.length; i++ )\r\n\t{\r\n\t\tif (theForm.elements[i].type == 'checkbox')\r\n\t\t{\r\n\t\t\tcurrentState = theForm.elements[i].getAttribute('data-orgval');\r\n\t\t\tif (currentState == 'CHECKED' && theForm.elements[i].checked == false)\r\n\t\t\t{\r\n\t\t\t\tstr_optouts += theForm.elements[i].id + \"|\";\r\n\t\t\t}\r\n\t\t\telse if (currentState == 'UNCHECKED' && theForm.elements[i].checked == true)\r\n\t\t\t{\r\n\t\t\t\tstr_optins += theForm.elements[i].id + \"|\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdocument.getElementById('optouts').value = str_optouts;\r\n\tdocument.getElementById('optins').value = str_optins;\r\n\r\n\tif (str_optouts != \"\" || str_optins != \"\")\r\n\t{\r\n\t\tdocument.getElementById('saved_message').style.display = \"block\";\r\n\t\tdocument.getElementById('saved_message_2').style.display = \"block\";\r\n\t}\r\n\telse\r\n\t{\r\n\t\tdocument.getElementById('saved_message').style.display = \"none\";\r\n\t\tdocument.getElementById('saved_message_2').style.display = \"none\";\r\n\t}\r\n}\r\n\r\nfunction confirm_and_check_form(form)\r\n{\r\n\toptouts = document.getElementById('optouts').value;\r\n\toptins = document.getElementById('optins').value;\r\n\tdocument.getElementById('action').value = \"finalize\";\r\n\r\n\tif (optouts == \"\" && optins == \"\") {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nfunction storeChange(obj)\r\n{\r\n\tdocument.getElementById('action').value = \"filterChange\";\r\n\tdocument.getElementById('coupon_optout_form').submit();\r\n}\r\n\r\nfunction resetPage(url)\r\n{\r\n\twindow.location = url;\r\n}"],"names":["admin_coupons_init","calculatePage","document","getElementById","obj","theForm","id","substr","tbl","rows","getElementsByTagName","checked","row","length","cels","style","display","prog_id","i","elements","type","getAttribute","theCID","disabled","color","str_optouts","str_optins","currentState","value","confirm_and_check_form","form","optouts","optins","storeChange","submit","resetPage","url","window","location"],"mappings":"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"}