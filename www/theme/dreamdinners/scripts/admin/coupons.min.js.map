{"version":3,"sourceRoot":"js/src/dreamdinners","sources":["coupons.js"],"sourcesContent":["function admin_coupons_init()\r\n{\r\n\tcalculatePage(document.getElementById('mid'));\r\n}\r\n\r\nfunction calculatePage(obj)\r\n{\r\n\tvar theForm = document.getElementById('coupon_optout_form');\r\n\r\n\t// first show hide controls if master control is clicked\r\n\tif (obj && obj.id.substr(0, 3) == \"mid\")\r\n\t{\r\n\t\tvar tbl = document.getElementById('itemsTbl');\r\n\t\tvar rows = tbl.getElementsByTagName('tr');\r\n\t\tif (obj.checked)\r\n\t\t{\r\n\t\t\tfor (var row=0; row<rows.length;row++)\r\n\t\t\t{\r\n\t\t\t\tvar cels = rows[row].getElementsByTagName('td');\r\n\t\t\t\tcels[0].style.display=\"block\";\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var row=0; row<rows.length;row++)\r\n\t\t\t{\r\n\t\t\t\tvar cels = rows[row].getElementsByTagName('td');\r\n\t\t\t\tcels[0].style.display=\"none\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// first disabled/enable codes if a program is clicked\r\n\tif (obj && obj.id.substr(0, 3) == \"pid\")\r\n\t{\r\n\t\tvar prog_id = obj.id.substr(4);\r\n\r\n\t\tfor ( i = 0; i < theForm.elements.length; i++ )\r\n\t\t{\r\n\t\t\tif (theForm.elements[i].type == 'checkbox')\r\n\t\t\t{\r\n\t\t\t\tif (theForm.elements[i].getAttribute('data-program_id') == prog_id)\r\n\t\t\t\t{\r\n\t\t\t\t\ttheCID = theForm.elements[i].id.substr(4);\r\n\r\n\t\t\t\t\tif (obj.checked)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttheForm.elements[i].disabled = false;\r\n\t\t\t\t\t\tdocument.getElementById('row_' + prog_id + '_' + theCID ).style.color = \"#000000\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdocument.getElementById('row_' + prog_id + '_' + theCID ).style.color = \"#808080\";\r\n\t\t\t\t\t\ttheForm.elements[i].disabled = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar str_optouts = \"\";\r\n\tvar str_optins = \"\";\r\n\r\n\tfor ( i = 0; i < theForm.elements.length; i++ )\r\n\t{\r\n\t\tif (theForm.elements[i].type == 'checkbox')\r\n\t\t{\r\n\t\t\tcurrentState = theForm.elements[i].getAttribute('data-orgval');\r\n\t\t\tif (currentState == 'CHECKED' && theForm.elements[i].checked == false)\r\n\t\t\t{\r\n\t\t\t\tstr_optouts += theForm.elements[i].id + \"|\";\r\n\t\t\t}\r\n\t\t\telse if (currentState == 'UNCHECKED' && theForm.elements[i].checked == true)\r\n\t\t\t{\r\n\t\t\t\tstr_optins += theForm.elements[i].id + \"|\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdocument.getElementById('optouts').value = str_optouts;\r\n\tdocument.getElementById('optins').value = str_optins;\r\n\r\n\tif (str_optouts != \"\" || str_optins != \"\")\r\n\t{\r\n\t\tdocument.getElementById('saved_message').style.display = \"block\";\r\n\t\tdocument.getElementById('saved_message_2').style.display = \"block\";\r\n\t}\r\n\telse\r\n\t{\r\n\t\tdocument.getElementById('saved_message').style.display = \"none\";\r\n\t\tdocument.getElementById('saved_message_2').style.display = \"none\";\r\n\t}\r\n}\r\n\r\nfunction confirm_and_check_form(form)\r\n{\r\n\toptouts = document.getElementById('optouts').value;\r\n\toptins = document.getElementById('optins').value;\r\n\tdocument.getElementById('action').value = \"finalize\";\r\n\r\n\tif (optouts == \"\" && optins == \"\") {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nfunction storeChange(obj)\r\n{\r\n\tdocument.getElementById('action').value = \"filterChange\";\r\n\tdocument.getElementById('coupon_optout_form').submit();\r\n}\r\n\r\nfunction resetPage(url)\r\n{\r\n\twindow.location = url;\r\n}"],"names":["admin_coupons_init","calculatePage","document","getElementById","obj","theForm","id","substr","tbl","rows","getElementsByTagName","checked","row","length","cels","style","display","prog_id","i","elements","type","getAttribute","theCID","disabled","color","str_optouts","str_optins","currentState","value","confirm_and_check_form","form","optouts","optins","storeChange","submit","resetPage","url","window","location"],"mappings":"AAAA,SAASA,qBAERC,cAAcC,SAASC,eAAe,QAGvC,SAASF,cAAcG,GAEtB,IAAIC,EAAUH,SAASC,eAAe,sBAGtC,GAAIC,GAAOA,EAAIE,GAAGC,OAAO,EAAG,IAAM,MAClC,CACC,IAAIC,EAAMN,SAASC,eAAe,YAClC,IAAIM,EAAOD,EAAIE,qBAAqB,MACpC,GAAIN,EAAIO,QACR,CACC,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAKI,OAAOD,IAChC,CACC,IAAIE,EAAOL,EAAKG,GAAKF,qBAAqB,MAC1CI,EAAK,GAAGC,MAAMC,QAAQ,aAIxB,CACC,IAAK,IAAIJ,EAAI,EAAGA,EAAIH,EAAKI,OAAOD,IAChC,CACC,IAAIE,EAAOL,EAAKG,GAAKF,qBAAqB,MAC1CI,EAAK,GAAGC,MAAMC,QAAQ,SAMzB,GAAIZ,GAAOA,EAAIE,GAAGC,OAAO,EAAG,IAAM,MAClC,CACC,IAAIU,EAAUb,EAAIE,GAAGC,OAAO,GAE5B,IAAMW,EAAI,EAAGA,EAAIb,EAAQc,SAASN,OAAQK,IAC1C,CACC,GAAIb,EAAQc,SAASD,GAAGE,MAAQ,WAChC,CACC,GAAIf,EAAQc,SAASD,GAAGG,aAAa,oBAAsBJ,EAC3D,CACCK,OAASjB,EAAQc,SAASD,GAAGZ,GAAGC,OAAO,GAEvC,GAAIH,EAAIO,QACR,CACCN,EAAQc,SAASD,GAAGK,SAAW,MAC/BrB,SAASC,eAAe,OAASc,EAAU,IAAMK,QAASP,MAAMS,MAAQ,cAGzE,CACCtB,SAASC,eAAe,OAASc,EAAU,IAAMK,QAASP,MAAMS,MAAQ,UACxEnB,EAAQc,SAASD,GAAGK,SAAW,SAOpC,IAAIE,EAAc,GAClB,IAAIC,EAAa,GAEjB,IAAMR,EAAI,EAAGA,EAAIb,EAAQc,SAASN,OAAQK,IAC1C,CACC,GAAIb,EAAQc,SAASD,GAAGE,MAAQ,WAChC,CACCO,aAAetB,EAAQc,SAASD,GAAGG,aAAa,eAChD,GAAIM,cAAgB,WAAatB,EAAQc,SAASD,GAAGP,SAAW,MAChE,CACCc,GAAepB,EAAQc,SAASD,GAAGZ,GAAK,SAEpC,GAAIqB,cAAgB,aAAetB,EAAQc,SAASD,GAAGP,SAAW,KACvE,CACCe,GAAcrB,EAAQc,SAASD,GAAGZ,GAAK,MAK1CJ,SAASC,eAAe,WAAWyB,MAAQH,EAC3CvB,SAASC,eAAe,UAAUyB,MAAQF,EAE1C,GAAID,GAAe,IAAMC,GAAc,GACvC,CACCxB,SAASC,eAAe,iBAAiBY,MAAMC,QAAU,QACzDd,SAASC,eAAe,mBAAmBY,MAAMC,QAAU,YAG5D,CACCd,SAASC,eAAe,iBAAiBY,MAAMC,QAAU,OACzDd,SAASC,eAAe,mBAAmBY,MAAMC,QAAU,QAI7D,SAASa,uBAAuBC,GAE/BC,QAAU7B,SAASC,eAAe,WAAWyB,MAC7CI,OAAS9B,SAASC,eAAe,UAAUyB,MAC3C1B,SAASC,eAAe,UAAUyB,MAAQ,WAE1C,GAAIG,SAAW,IAAMC,QAAU,GAAI,CAClC,OAAO,MAGR,OAAO,KAGR,SAASC,YAAY7B,GAEpBF,SAASC,eAAe,UAAUyB,MAAQ,eAC1C1B,SAASC,eAAe,sBAAsB+B,SAG/C,SAASC,UAAUC,GAElBC,OAAOC,SAAWF"}