var cur_timer,isProcessing=!1,org_no_show_state=!1,cur_booking_id=null,xmlHttp=null;function handleNoShowResult(){4!=xmlHttp.readyState&&"complete"!=xmlHttp.readyState||!isProcessing||(clearTimeout(cur_timer),isProcessing=!1,"0"==xmlHttp.responseText.substr(0,1)?(document.getElementById("bns_"+cur_booking_id).checked=org_no_show_state,printString="The server was unable to save the 'no show' flag.",alert(printString)):"Not logged in"==xmlHttp.responseText&&(document.getElementById("bns_"+cur_booking_id).checked=org_no_show_state,confirm("Session timed out, please login again.")&&window.location.reload()),document.getElementById("bnsp_"+cur_booking_id).style.display="none")}function handleTimeout(){isProcessing&&(isProcessing=!1,document.getElementById("bns_"+cur_booking_id).checked=org_no_show_state,document.getElementById("bnsp_"+cur_booking_id).style.display="none",printString="The server has not responded.",alert(printString))}function setNoShowState(e,t){if(isProcessing)t.checked=!t.checked;else if(org_no_show_state=!t.checked,cur_booking_id=e,null!=(xmlHttp=getXmlHttpObject())){var o="ddproc.php?processor=admin_no_show_state"+("&bid="+e)+("&state="+(t.checked?"yes":"no"));isProcessing=!0,xmlHttp.onreadystatechange=handleNoShowResult,xmlHttp.open("GET",o,!0),xmlHttp.send(null),document.getElementById("bnsp_"+e).style.display="inline",cur_timer=setTimeout("handleTimeout();",2e4)}else alert("The No Show function is not compatible with your browser. Please contact your store for assistance.")}
//# sourceMappingURL=no_show.min.js.map