var isProcessing=false;var org_no_show_state=false;var cur_timer;var cur_booking_id=null;var xmlHttp=null;function handleNoShowResult(){if((xmlHttp.readyState==4||xmlHttp.readyState=="complete")&&isProcessing){clearTimeout(cur_timer);isProcessing=false;if(xmlHttp.responseText.substr(0,1)=="0"){document.getElementById("bns_"+cur_booking_id).checked=org_no_show_state;printString="The server was unable to save the 'no show' flag.";alert(printString)}else if(xmlHttp.responseText=="Not logged in"){document.getElementById("bns_"+cur_booking_id).checked=org_no_show_state;if(confirm("Session timed out, please login again.")){window.location.reload()}}document.getElementById("bnsp_"+cur_booking_id).style.display="none"}}function handleTimeout(){if(isProcessing){isProcessing=false;document.getElementById("bns_"+cur_booking_id).checked=org_no_show_state;document.getElementById("bnsp_"+cur_booking_id).style.display="none";printString="The server has not responded.";alert(printString)}}function setNoShowState(e,t){if(isProcessing){t.checked=!t.checked;return}org_no_show_state=!t.checked;cur_booking_id=e;xmlHttp=getXmlHttpObject();if(xmlHttp==null){alert("The No Show function is not compatible with your browser. Please contact your store for assistance.");return}var o="&bid="+e;var n="&state="+(t.checked?"yes":"no");var s="ddproc.php?processor=admin_no_show_state"+o+n;isProcessing=true;xmlHttp.onreadystatechange=handleNoShowResult;xmlHttp.open("GET",s,true);xmlHttp.send(null);document.getElementById("bnsp_"+e).style.display="inline";cur_timer=setTimeout("handleTimeout();",2e4)}
//# sourceMappingURL=no_show.min.js.map