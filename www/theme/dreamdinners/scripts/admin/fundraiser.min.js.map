{"version":3,"file":"fundraiser.min.js","names":["fundraiser_init","create_fundraiser_button","handle_fundraiser_edit","handle_detailed_reporting","$","on","slideToggle","dd_message","div_id","title","message","html","noOk","height","open","event","ui","this_form","find","context","val","description","value","parseFloat","toFixed","ajax","url","type","timeout","dataType","data","processor","store_id","STORE_DETAILS","id","op","success","json","status","processor_success","bounce","remove","error","objAJAXRequest","strError","response","each","this","off","fund_id","parseJSON","fundraiser_name","fundraiser_description","donation_value","location","reload"],"sourceRoot":"js/src/dreamdinners/admin","sources":["fundraiser.js"],"sourcesContent":["function fundraiser_init()\n{\n\tcreate_fundraiser_button();\n\thandle_fundraiser_edit();\n\thandle_detailed_reporting();\n}\n\nfunction handle_detailed_reporting()\n{\n\t$('#show_detailed_reporting').on('click', function () {\n\n\t\t$('#detailed_reporting').slideToggle();\n\n\t});\n}\n\nfunction create_fundraiser_button()\n{\n\t$('#add_fundraiser').on('click', function ()\n\t{\n\t\tdd_message({\n\t\t\tdiv_id: 'fundraiser_add',\n\t\t\ttitle: 'Add Fundraiser',\n\t\t\tmessage: $('#add_fundraiser_content').html(),\n\t\t\tnoOk: true,\n\t\t\theight: '300',\n\t\t\topen: function (event, ui)\n\t\t\t{\n\t\t\t\tvar this_form = $('#fundraiser_add');\n\n\t\t\t\t$(this_form).find('[name=\"fund_submit\"]').on('click', function ()\n\t\t\t\t{\n\t\t\t\t\tvar context = {\n\t\t\t\t\t\ttitle: $(this_form).find('[name=\"new_fundraiser\"]').val(),\n\t\t\t\t\t\tdescription: $(this_form).find('[name=\"new_fundraiser_desc\"]').val(),\n\t\t\t\t\t\tvalue: parseFloat($(this_form).find('[name=\"new_fundraiser_value\"]').val()).toFixed(2)\n\t\t\t\t\t};\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\turl: 'ddproc.php',\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\ttimeout: 20000,\n\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tprocessor: 'admin_fundraiser',\n\t\t\t\t\t\t\tstore_id: STORE_DETAILS.id,\n\t\t\t\t\t\t\top: 'add_fund_info',\n\t\t\t\t\t\t\tdata: context\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function (json, status)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (json.processor_success)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbounce('main.php?page=admin_fundraiser');\n\n\t\t\t\t\t\t\t\t$(this_form).remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function (objAJAXRequest, strError)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresponse = 'Unexpected error';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t});\n}\n\nfunction handle_fundraiser_edit()\n{\n\t$('[data-fund_id_edit]').each(function ()\n\t{\n\n\t\t$(this).off('click').on('click', function ()\n\t\t{\n\t\t\tvar fund_id = $(this).data('fund_id_edit');\n\n\t\t\t$.ajax({\n\t\t\t\turl: 'ddproc.php',\n\t\t\t\ttype: 'POST',\n\t\t\t\ttimeout: 20000,\n\t\t\t\tdataType: 'json',\n\t\t\t\tdata: {\n\t\t\t\t\tprocessor: 'admin_fundraiser',\n\t\t\t\t\tfund_id: fund_id,\n\t\t\t\t\tstore_id: STORE_DETAILS.id,\n\t\t\t\t\top: 'get_fund_info'\n\t\t\t\t},\n\t\t\t\tsuccess: function (json, status)\n\t\t\t\t{\n\t\t\t\t\tif (json.processor_success)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar data = $.parseJSON(json.data);\n\n\t\t\t\t\t\tdd_message({\n\t\t\t\t\t\t\tdiv_id: 'fundraiser_add',\n\t\t\t\t\t\t\ttitle: 'Add Fundraiser',\n\t\t\t\t\t\t\tmessage: $('#add_fundraiser_content').html(),\n\t\t\t\t\t\t\tnoOk: true,\n\t\t\t\t\t\t\theight: '300',\n\t\t\t\t\t\t\topen: function (event, ui)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvar this_form = $('#fundraiser_add');\n\n\t\t\t\t\t\t\t\t$(this_form).find('[name=\"new_fundraiser\"]').val(data.fundraiser_name);\n\t\t\t\t\t\t\t\t$(this_form).find('[name=\"new_fundraiser_desc\"]').val(data.fundraiser_description);\n\t\t\t\t\t\t\t\t$(this_form).find('[name=\"new_fundraiser_value\"]').val(parseFloat(data.donation_value).toFixed(2));\n\n\t\t\t\t\t\t\t\t$(this_form).find('[name=\"fund_submit\"]').on('click', function ()\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvar context = {\n\t\t\t\t\t\t\t\t\t\tfund_id: data.id,\n\t\t\t\t\t\t\t\t\t\ttitle: $(this_form).find('[name=\"new_fundraiser\"]').val(),\n\t\t\t\t\t\t\t\t\t\tdescription: $(this_form).find('[name=\"new_fundraiser_desc\"]').val(),\n\t\t\t\t\t\t\t\t\t\tvalue: parseFloat($(this_form).find('[name=\"new_fundraiser_value\"]').val()).toFixed(2)\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\turl: 'ddproc.php',\n\t\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\t\ttimeout: 20000,\n\t\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\tprocessor: 'admin_fundraiser',\n\t\t\t\t\t\t\t\t\t\t\tstore_id: STORE_DETAILS.id,\n\t\t\t\t\t\t\t\t\t\t\top: 'edit_fund_info',\n\t\t\t\t\t\t\t\t\t\t\tdata: context\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tsuccess: function (json, status)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tif (json.processor_success)\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tlocation.reload();\n\n\t\t\t\t\t\t\t\t\t\t\t\t$(this_form).remove();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\terror: function (objAJAXRequest, strError)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tresponse = 'Unexpected error';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: function (objAJAXRequest, strError)\n\t\t\t\t{\n\t\t\t\t\tresponse = 'Unexpected error';\n\t\t\t\t}\n\t\t\t});\n\n\t\t});\n\n\t});\n\n\t$('[data-enable_fund]').each(function ()\n\t{\n\t\t$(this).off('click').on('click', function ()\n\t\t{\n\t\t\tvar fund_id = $(this).data('enable_fund');\n\n\t\t\t$.ajax({\n\t\t\t\turl: 'ddproc.php',\n\t\t\t\ttype: 'POST',\n\t\t\t\ttimeout: 20000,\n\t\t\t\tdataType: 'json',\n\t\t\t\tdata: {\n\t\t\t\t\tprocessor: 'admin_fundraiser',\n\t\t\t\t\tstore_id: STORE_DETAILS.id,\n\t\t\t\t\top: 'toggle_fundraiser',\n\t\t\t\t\tfund_id: fund_id\n\t\t\t\t},\n\t\t\t\tsuccess: function (json, status)\n\t\t\t\t{\n\t\t\t\t\tif (json.processor_success)\n\t\t\t\t\t{\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: function (objAJAXRequest, strError)\n\t\t\t\t{\n\t\t\t\t\tresponse = 'Unexpected error';\n\t\t\t\t}\n\t\t\t});\n\n\t\t});\n\n\t});\n}"],"mappings":"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"}