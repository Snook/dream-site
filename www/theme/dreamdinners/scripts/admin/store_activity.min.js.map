{"version":3,"sourceRoot":"js/src/dreamdinners","sources":["store_activity.js"],"sourcesContent":["function store_activity_init()\r\n{\r\n\tinit_action_handlers();\r\n}\r\n\r\n\r\nfunction init_action_handlers(){\r\n\t$(\".show_edit_notes\").click(function (e) {\r\n\t\te.preventDefault();\r\n\t\tlet index = $(this).data('index');\r\n\t\tlet header = $(this);\r\n\r\n\t\tconst content = $(document).find(`.edit_note_content[data-index='${index}']`)\r\n\t\theader.html(function () {\r\n\t\t\treturn (content.is(\":visible\") ? \"&bigtriangledown;\" : \"&bigtriangleup;\"  );\r\n\t\t});\r\n\t\tcontent.slideToggle(500, function () {});\r\n\r\n\t});\r\n\r\n\r\n\t// dream taste buttons\r\n\t$('.sd_invitation_pdf').on('click', function (e) {\r\n\t\te.preventDefault();\r\n\t\tlet selected_session_id = $(this).data('session');\r\n\t\tbounce('main.php?page=print&dream_taste_event_pdf=' + selected_session_id, '_blank');\r\n\r\n\t});\r\n\r\n\t// fundraiser buttons\r\n\t$('.sd_fundraiser_invitation_pdf').on('click', function (e) {\r\n\t\te.preventDefault();\r\n\t\tlet selected_session_id = $(this).data('session');\r\n\t\tbounce('main.php?page=print&fundraiser_event_pdf=' + selected_session_id, '_blank');\r\n\r\n\t});\r\n\r\n\t// community pickup buttons\r\n\t$('.sd_pick_up_event_invitation_pdf').on('click', function (e) {\r\n\t\te.preventDefault();\r\n\t\tlet selected_session_id = $(this).data('session');\r\n\t\tbounce('main.php?page=print&remote_pickup_private_event_pdf=' + selected_session_id, '_blank');\r\n\r\n\t});\r\n\r\n\t$('.sd_resend_hostess_email').on('click', function (e) {\r\n\t\te.preventDefault();\r\n\t\tlet store_id = $(this).data('store_id');\r\n\t\tlet session_id = $(this).data('session');\r\n\t\tresend_dream_taste_notification(store_id, session_id);\r\n\r\n\t});\r\n}\r\n\r\nfunction resend_dream_taste_notification(store_id, session_id)\r\n{\r\n\tdd_message({\r\n\t\ttitle: 'Send notice confirmation',\r\n\t\tmessage: 'Are you sure you wish to resend the host email notification?',\r\n\t\tmodal: true,\r\n\t\tconfirm: function () {\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: 'ddproc.php',\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t\tdataType: 'json',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tprocessor: 'admin_fadmin_home',\r\n\t\t\t\t\top: 'resend_dream_taste_email',\r\n\t\t\t\t\tstore_id: store_id,\r\n\t\t\t\t\tsession_id: session_id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function (json) {\r\n\t\t\t\t\tif (json.processor_success)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdd_message({\r\n\t\t\t\t\t\t\ttitle: 'Send notice confirmation',\r\n\t\t\t\t\t\t\tmessage: 'Email notification has been resent to the session host.'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function (objAJAXRequest, strError) {\r\n\t\t\t\t\tresponse = 'Unexpected error';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}"],"names":["store_activity_init","init_action_handlers","$","click","e","preventDefault","let","index","this","data","header","content","document","find","html","is","slideToggle","on","selected_session_id","bounce","store_id","session_id","resend_dream_taste_notification","dd_message","title","message","modal","confirm","ajax","url","type","timeout","dataType","processor","op","success","json","processor_success","error","objAJAXRequest","strError","response"],"mappings":"AAAA,SAASA,sBAERC,qBAAqB,CACtB,CAGA,SAASA,uBACRC,EAAE,kBAAkB,EAAEC,MAAM,SAAUC,GACrCA,EAAEC,eAAe,EACjBC,IAAIC,EAAQL,EAAEM,IAAI,EAAEC,KAAK,OAAO,EAChCH,IAAII,EAASR,EAAEM,IAAI,EAEnB,MAAMG,EAAUT,EAAEU,QAAQ,EAAEC,uCAAuCN,KAAS,EAC5EG,EAAOI,KAAK,WACX,OAAQH,EAAQI,GAAG,UAAU,EAAI,oBAAsB,iBACxD,CAAC,EACDJ,EAAQK,YAAY,IAAK,YAAc,CAExC,CAAC,EAIDd,EAAE,oBAAoB,EAAEe,GAAG,QAAS,SAAUb,GAC7CA,EAAEC,eAAe,EACjBC,IAAIY,EAAsBhB,EAAEM,IAAI,EAAEC,KAAK,SAAS,EAChDU,OAAO,6CAA+CD,EAAqB,QAAQ,CAEpF,CAAC,EAGDhB,EAAE,+BAA+B,EAAEe,GAAG,QAAS,SAAUb,GACxDA,EAAEC,eAAe,EACjBC,IAAIY,EAAsBhB,EAAEM,IAAI,EAAEC,KAAK,SAAS,EAChDU,OAAO,4CAA8CD,EAAqB,QAAQ,CAEnF,CAAC,EAGDhB,EAAE,kCAAkC,EAAEe,GAAG,QAAS,SAAUb,GAC3DA,EAAEC,eAAe,EACjBC,IAAIY,EAAsBhB,EAAEM,IAAI,EAAEC,KAAK,SAAS,EAChDU,OAAO,uDAAyDD,EAAqB,QAAQ,CAE9F,CAAC,EAEDhB,EAAE,0BAA0B,EAAEe,GAAG,QAAS,SAAUb,GACnDA,EAAEC,eAAe,EACjBC,IAAIc,EAAWlB,EAAEM,IAAI,EAAEC,KAAK,UAAU,EACtCH,IAAIe,EAAanB,EAAEM,IAAI,EAAEC,KAAK,SAAS,EACvCa,gCAAgCF,EAAUC,CAAU,CAErD,CAAC,CACF,CAEA,SAASC,gCAAgCF,EAAUC,GAElDE,WAAW,CACVC,MAAO,2BACPC,QAAS,+DACTC,MAAO,KACPC,QAAS,WACRzB,EAAE0B,KAAK,CACNC,IAAK,aACLC,KAAM,OACNC,QAAS,IACTC,SAAU,OACVvB,KAAM,CACLwB,UAAW,oBACXC,GAAI,2BACJd,SAAUA,EACVC,WAAYA,CACb,EACAc,QAAS,SAAUC,GAClB,GAAIA,EAAKC,kBACT,CACCd,WAAW,CACVC,MAAO,2BACPC,QAAS,yDACV,CAAC,CACF,CACD,EACAa,MAAO,SAAUC,EAAgBC,GAChCC,SAAW,kBACZ,CACD,CAAC,CACF,CACD,CAAC,CACF"}