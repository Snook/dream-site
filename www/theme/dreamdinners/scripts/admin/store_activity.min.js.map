{"version":3,"file":"store_activity.min.js","names":["store_activity_init","init_action_handlers","$","click","e","preventDefault","index","this","data","header","content","document","find","html","is","slideToggle","on","selected_session_id","bounce","resend_dream_taste_notification","store_id","session_id","dd_message","title","message","modal","confirm","ajax","url","type","timeout","dataType","processor","op","success","json","processor_success","error","objAJAXRequest","strError","response"],"sourceRoot":"js/src/dreamdinners/admin","sources":["store_activity.js"],"sourcesContent":["function store_activity_init()\n{\n\tinit_action_handlers();\n}\n\n\nfunction init_action_handlers(){\n\t$(\".show_edit_notes\").click(function (e) {\n\t\te.preventDefault();\n\t\tlet index = $(this).data('index');\n\t\tlet header = $(this);\n\n\t\tconst content = $(document).find(`.edit_note_content[data-index='${index}']`)\n\t\theader.html(function () {\n\t\t\treturn (content.is(\":visible\") ? \"&bigtriangledown;\" : \"&bigtriangleup;\"  );\n\t\t});\n\t\tcontent.slideToggle(500, function () {});\n\n\t});\n\n\n\t// dream taste buttons\n\t$('.sd_invitation_pdf').on('click', function (e) {\n\t\te.preventDefault();\n\t\tlet selected_session_id = $(this).data('session');\n\t\tbounce('?page=print&dream_taste_event_pdf=' + selected_session_id, '_blank');\n\n\t});\n\n\t// fundraiser buttons\n\t$('.sd_fundraiser_invitation_pdf').on('click', function (e) {\n\t\te.preventDefault();\n\t\tlet selected_session_id = $(this).data('session');\n\t\tbounce('?page=print&fundraiser_event_pdf=' + selected_session_id, '_blank');\n\n\t});\n\n\t// community pickup buttons\n\t$('.sd_pick_up_event_invitation_pdf').on('click', function (e) {\n\t\te.preventDefault();\n\t\tlet selected_session_id = $(this).data('session');\n\t\tbounce('?page=print&remote_pickup_private_event_pdf=' + selected_session_id, '_blank');\n\n\t});\n\n\t$('.sd_resend_hostess_email').on('click', function (e) {\n\t\te.preventDefault();\n\t\tlet store_id = $(this).data('store_id');\n\t\tlet session_id = $(this).data('session');\n\t\tresend_dream_taste_notification(store_id, session_id);\n\n\t});\n}\n\nfunction resend_dream_taste_notification(store_id, session_id)\n{\n\tdd_message({\n\t\ttitle: 'Send notice confirmation',\n\t\tmessage: 'Are you sure you wish to resend the host email notification?',\n\t\tmodal: true,\n\t\tconfirm: function () {\n\t\t\t$.ajax({\n\t\t\t\turl: 'ddproc.php',\n\t\t\t\ttype: 'POST',\n\t\t\t\ttimeout: 20000,\n\t\t\t\tdataType: 'json',\n\t\t\t\tdata: {\n\t\t\t\t\tprocessor: 'admin_fadmin_home',\n\t\t\t\t\top: 'resend_dream_taste_email',\n\t\t\t\t\tstore_id: store_id,\n\t\t\t\t\tsession_id: session_id\n\t\t\t\t},\n\t\t\t\tsuccess: function (json) {\n\t\t\t\t\tif (json.processor_success)\n\t\t\t\t\t{\n\t\t\t\t\t\tdd_message({\n\t\t\t\t\t\t\ttitle: 'Send notice confirmation',\n\t\t\t\t\t\t\tmessage: 'Email notification has been resent to the session host.'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: function (objAJAXRequest, strError) {\n\t\t\t\t\tresponse = 'Unexpected error';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}"],"mappings":"AAAA,SAASA,sBAERC,sBACD,CAGA,SAASA,uBACRC,EAAE,oBAAoBC,OAAM,SAAUC,GACrCA,EAAEC,iBACF,IAAIC,EAAQJ,EAAEK,MAAMC,KAAK,SACrBC,EAASP,EAAEK,MAEf,MAAMG,EAAUR,EAAES,UAAUC,KAAK,kCAAkCN,OACnEG,EAAOI,MAAK,WACX,OAAQH,EAAQI,GAAG,YAAc,oBAAsB,iBACxD,IACAJ,EAAQK,YAAY,KAAK,WAAa,GAEvC,IAIAb,EAAE,sBAAsBc,GAAG,SAAS,SAAUZ,GAC7CA,EAAEC,iBACF,IAAIY,EAAsBf,EAAEK,MAAMC,KAAK,WACvCU,OAAO,qCAAuCD,EAAqB,SAEpE,IAGAf,EAAE,iCAAiCc,GAAG,SAAS,SAAUZ,GACxDA,EAAEC,iBACF,IAAIY,EAAsBf,EAAEK,MAAMC,KAAK,WACvCU,OAAO,oCAAsCD,EAAqB,SAEnE,IAGAf,EAAE,oCAAoCc,GAAG,SAAS,SAAUZ,GAC3DA,EAAEC,iBACF,IAAIY,EAAsBf,EAAEK,MAAMC,KAAK,WACvCU,OAAO,+CAAiDD,EAAqB,SAE9E,IAEAf,EAAE,4BAA4Bc,GAAG,SAAS,SAAUZ,GACnDA,EAAEC,iBAGFc,gCAFejB,EAAEK,MAAMC,KAAK,YACXN,EAAEK,MAAMC,KAAK,WAG/B,GACD,CAEA,SAASW,gCAAgCC,EAAUC,GAElDC,WAAW,CACVC,MAAO,2BACPC,QAAS,+DACTC,OAAO,EACPC,QAAS,WACRxB,EAAEyB,KAAK,CACNC,IAAK,aACLC,KAAM,OACNC,QAAS,IACTC,SAAU,OACVvB,KAAM,CACLwB,UAAW,oBACXC,GAAI,2BACJb,SAAUA,EACVC,WAAYA,GAEba,QAAS,SAAUC,GACdA,EAAKC,mBAERd,WAAW,CACVC,MAAO,2BACPC,QAAS,2DAGZ,EACAa,MAAO,SAAUC,EAAgBC,GAChCC,SAAW,kBACZ,GAEF,GAEF"}