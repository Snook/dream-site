var selectedCell=null;var orgColor=null;function admin_session_template_mgr_init(){adjustForSessionType($("#session_type").val());$(document).on("keyup","#session_notes, #session_title",function(e){if($(this).val()!=strip_tags($(this).val())){$(this).val(strip_tags($(this).val()))}});$("#start_time").on("change",function(){let e=$(this).val();let t=$("#end_time").val();let i=$("#duration_minutes").val();let n=0;let l=0;if(e!=""){n=e.split(":")[0]*60+e.split(":")[1]*1}if(e!=""){if(i==0){$("#end_time").val(e)}else{l=n+i*1;if(l>=1440){i=1439-n;l=1439;$("#duration_minutes").val(i)}$("#end_time").val(minutesToTime(l))}}});$("#end_time").on("change",function(){let e=$("#start_time").val();let t=$(this).val();let i=$("#duration_minutes").val();let n=0;let l=0;if(t!=""){l=t.split(":")[0]*60+t.split(":")[1]*1}if(e!=""&&t!=""){n=e.split(":")[0]*60+e.split(":")[1]*1;if(e>t){if(i==0){$("#end_time").val(e)}else{l=n+i*1;if(l>=1440){$("#duration_minutes").val(1439-n);l=1439;$("#end_time").val(minutesToTime(l))}else{$("#end_time").val(minutesToTime(l))}}}else{$("#duration_minutes").val(l-n)}}});$("#session_type").on("change",function(){adjustForSessionType($(this).val())});$("#duration_minutes").on("change",function(){let i=$(this).val();if(i<0){i=0;$("#duration_minutes").val(0)}let n=$("#start_time").val();if(n.length==8){n=n.substr(0,5)}if(n!=""){let e=n.split(":")[0]*60+n.split(":")[1]*1;let t=e+i*1;if(t>=1440){duration=1439-e;t=1439;$("#duration_minutes").val(duration)}$("#end_time").val(minutesToTime(t))}})}function adjustForSessionType(e){switch(e){case"SPECIAL_EVENT":case"DELIVERY":$("#meal_customization_row").show();break;default:$("#meal_customization_row").hide()}}function minutesToTime(e){let t=Math.floor(e/60);let i=e-t*60;t=t.toString();i=i.toString();if(t.length==1){t="0"+t}if(i.length==1){i="0"+i}return t+":"+i}function onDayClick(e){if(e==selectedCell){return}orgColor=e.style.backgroundColor;if(selectedCell){selectedCell.style.backgroundColor=orgColor}e.style.backgroundColor="#CAA9DE";selectedCell=e;var t=selectedCell.cellIndex;document.getElementById("start_day").selectedIndex=t}function editSession(e,t){document.getElementById("action").value="edit";document.getElementById("item_id").value=e;document.getElementById("itemEditor").submit()}function _item_submitClick(e){document.getElementById("action").value="new"}function _item_updateClick(e){document.getElementById("action").value="update"}function _item_deleteClick(e){document.getElementById("action").value="delete"}function _item_update_cancelClick(e){document.getElementById("action").value="cancel"}function handleItemSubmit(e){var t=document.getElementById("action").value;if(t=="delete"||t=="cancel"||t=="edit"){return true}return _check_form(e)}
//# sourceMappingURL=session_template_mgr.min.js.map