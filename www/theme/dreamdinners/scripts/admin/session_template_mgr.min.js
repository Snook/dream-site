var selectedCell=null,orgColor=null;function admin_session_template_mgr_init(){adjustForSessionType($("#session_type").val()),$(document).on("keyup","#session_notes, #session_title",(function(e){$(this).val()!=strip_tags($(this).val())&&$(this).val(strip_tags($(this).val()))})),$("#start_time").on("change",(function(){let e=$(this).val(),t=($("#end_time").val(),$("#duration_minutes").val()),n=0,i=0;""!=e&&(n=60*e.split(":")[0]+1*e.split(":")[1]),""!=e&&(0==t?$("#end_time").val(e):(i=n+1*t,i>=1440&&(t=1439-n,i=1439,$("#duration_minutes").val(t)),$("#end_time").val(minutesToTime(i))))})),$("#end_time").on("change",(function(){let e=$("#start_time").val(),t=$(this).val(),n=$("#duration_minutes").val(),i=0,l=0;""!=t&&(l=60*t.split(":")[0]+1*t.split(":")[1]),""!=e&&""!=t&&(i=60*e.split(":")[0]+1*e.split(":")[1],e>t?0==n?$("#end_time").val(e):(l=i+1*n,l>=1440?($("#duration_minutes").val(1439-i),l=1439,$("#end_time").val(minutesToTime(l))):$("#end_time").val(minutesToTime(l))):$("#duration_minutes").val(l-i))})),$("#session_type").on("change",(function(){adjustForSessionType($(this).val())})),$("#duration_minutes").on("change",(function(){let e=$(this).val();e<0&&(e=0,$("#duration_minutes").val(0));let t=$("#start_time").val();if(8==t.length&&(t=t.substr(0,5)),""!=t){let n=60*t.split(":")[0]+1*t.split(":")[1],i=n+1*e;i>=1440&&(duration=1439-n,i=1439,$("#duration_minutes").val(duration)),$("#end_time").val(minutesToTime(i))}}))}function adjustForSessionType(e){switch(e){case"SPECIAL_EVENT":case"DELIVERY":$("#meal_customization_row").show();break;default:$("#meal_customization_row").hide()}}function minutesToTime(e){let t=Math.floor(e/60),n=e-60*t;return t=t.toString(),n=n.toString(),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),t+":"+n}function onDayClick(e){if(e!=selectedCell){orgColor=e.style.backgroundColor,selectedCell&&(selectedCell.style.backgroundColor=orgColor),e.style.backgroundColor="#CAA9DE";var t=(selectedCell=e).cellIndex;document.getElementById("start_day").selectedIndex=t}}function editSession(e,t){document.getElementById("action").value="edit",document.getElementById("item_id").value=e,document.getElementById("itemEditor").submit()}function _item_submitClick(e){document.getElementById("action").value="new"}function _item_updateClick(e){document.getElementById("action").value="update"}function _item_deleteClick(e){document.getElementById("action").value="delete"}function _item_update_cancelClick(e){document.getElementById("action").value="cancel"}function handleItemSubmit(e){var t=document.getElementById("action").value;return"delete"==t||"cancel"==t||"edit"==t||_check_form(e)}
//# sourceMappingURL=session_template_mgr.min.js.map