var currentMediaType=!1,currentDesignType=!1;function updateInfo(){1==document.getElementById("sameInfo").checked?(document.getElementById("billing_name").value=document.getElementById("shipping_first_name").value+" "+document.getElementById("shipping_last_name").value,document.getElementById("billing_address").value=document.getElementById("shipping_address_1").value+" "+document.getElementById("shipping_address_2").value,document.getElementById("billing_zip").value=document.getElementById("shipping_zip").value):(document.getElementById("billing_name").value="",document.getElementById("billing_address").value="",document.getElementById("billing_zip").value="")}function modifyDesign(e){"virt"==currentMediaType?document.getElementById("virt_design_type_div_expanded").style.display="block":document.getElementById("phys_design_type_div_expanded").style.display="block",document.getElementById("design_type_div_collapsed").style.display="none"}function mediaClick(e){document.getElementById("media_type_div_expanded").style.display="none",document.getElementById("media_type_div_collapsed").style.display="block",currentDesignType&&"block"!=document.getElementById("phys_design_type_div_expanded").style.display&&"block"!=document.getElementById("virt_design_type_div_expanded").style.display||("physical_card"==e.id||"physical_card_img"==e.id?(document.getElementById("phys_design_type_div_expanded").style.display="block",document.getElementById("virt_design_type_div_expanded").style.display="none"):(document.getElementById("virt_design_type_div_expanded").style.display="block",document.getElementById("phys_design_type_div_expanded").style.display="none")),"physical_card"==e.id||"physical_card_img"==e.id?(document.getElementById("selected_media_desc").innerHTML="Traditional Card (Sent via standard mail)",currentMediaType="phys",document.getElementById("expanded_type_message").innerHTML="&nbsp;&nbsp;Currently Selected > Traditional Card (Sent via standard mail)",document.getElementById("phys_div").style.backgroundColor="#b5cfb5",document.getElementById("virt_div").style.backgroundColor="#f8f6f5",currentDesignType&&(document.getElementById("physical_card_form").style.display="block",document.getElementById("use_shipping").style.display="inline",document.getElementById("s_and_h_note").style.display="block",document.getElementById("virtual_card_form").style.display="none",document.getElementById("procCardOrderBtn").style.display="block",designImageNames[currentDesignType]?(document.getElementById("selectedDesignImg").src="<?= ADMIN_IMAGES_PATH ?>/gift_card/"+designImageNames[currentDesignType],document.getElementById("selected_design_desc").innerHTML=designDescription[currentDesignType]):(currentDesignType=!1,document.getElementById("phys_design_type_div_expanded").style.display="block",document.getElementById("virt_design_type_div_expanded").style.display="none",document.getElementById("design_type_div_collapsed").style.display="none",document.getElementById("physical_card_form").style.display="none",document.getElementById("card_details_form").style.display="none",document.getElementById("payment_form_div").style.display="none",document.getElementById("procCardOrderBtn").style.display="none"))):(document.getElementById("selected_media_desc").innerHTML="Virtual eGift Card (Sent via email)",currentMediaType="virt",document.getElementById("expanded_type_message").innerHTML="&nbsp;&nbsp;Currently Selected > Virtual eGift Card (Sent via email)",document.getElementById("phys_div").style.backgroundColor="#f8f6f5",document.getElementById("virt_div").style.backgroundColor="#b5cfb5",currentDesignType&&(document.getElementById("physical_card_form").style.display="none",document.getElementById("use_shipping").style.display="none",document.getElementById("s_and_h_note").style.display="none",document.getElementById("virtual_card_form").style.display="block",document.getElementById("procCardOrderBtn").style.display="block",document.getElementById("selectedDesignImg").src="<?= ADMIN_IMAGES_PATH ?>/gift_card/"+designImageNamesVirt[currentDesignType],document.getElementById("selected_design_desc").innerHTML=designDescriptionVirt[currentDesignType],designImageNamesVirt[currentDesignType]?(document.getElementById("selectedDesignImg").src="<?= ADMIN_IMAGES_PATH ?>/gift_card/"+designImageNamesVirt[currentDesignType],document.getElementById("selected_design_desc").innerHTML=designDescriptionVirt[currentDesignType]):(currentDesignType=!1,document.getElementById("virt_design_type_div_expanded").style.display="block",document.getElementById("phys_design_type_div_expanded").style.display="none",document.getElementById("design_type_div_collapsed").style.display="none",document.getElementById("virtual_card_form").style.display="none",document.getElementById("card_details_form").style.display="none",document.getElementById("payment_form_div").style.display="none",document.getElementById("procCardOrderBtn").style.display="none")))}function modifyMedia(e){document.getElementById("media_type_div_expanded").style.display="block",document.getElementById("media_type_div_collapsed").style.display="none"}function _override_check_form(e){if("phys"==currentMediaType?(document.getElementById("shipping_address_1").setAttribute("required",!0),document.getElementById("shipping_city").setAttribute("required",!0),document.getElementById("shipping_state").setAttribute("required",!0),document.getElementById("shipping_zip").setAttribute("required",!0),document.getElementById("shipping_first_name").setAttribute("required",!0),document.getElementById("shipping_last_name").setAttribute("required",!0),document.getElementById("physical_card").setAttribute("required",!0),document.getElementById("confirm_recipient_email").setAttribute("optional_email",!1),document.getElementById("recipient_email").setAttribute("optional_email",!1),document.getElementById("confirm_recipient_email").setAttribute("email",!1),document.getElementById("recipient_email").setAttribute("email",!1),document.getElementById("confirm_recipient_email").setAttribute("required",!1),document.getElementById("recipient_email").setAttribute("required",!1)):(document.getElementById("shipping_address_1").setAttribute("required",!1),document.getElementById("shipping_city").setAttribute("required",!1),document.getElementById("shipping_state").setAttribute("required",!1),document.getElementById("shipping_zip").setAttribute("required",!1),document.getElementById("shipping_first_name").setAttribute("required",!1),document.getElementById("shipping_last_name").setAttribute("required",!1),document.getElementById("physical_card").setAttribute("required",!1),document.getElementById("confirm_recipient_email").setAttribute("optional_email",!1),document.getElementById("recipient_email").setAttribute("optional_email",!1),document.getElementById("confirm_recipient_email").setAttribute("email",!0),document.getElementById("recipient_email").setAttribute("email",!0),document.getElementById("confirm_recipient_email").setAttribute("required",!0),document.getElementById("recipient_email").setAttribute("required",!0),document.getElementById("shipping_zip").value&&""!=document.getElementById("shipping_zip").value||(document.getElementById("shipping_zip").value="11111")),!currentMediaType)return!1;if(document.getElementById("media_type").value=currentMediaType,!currentDesignType)return!1;document.getElementById("design_id").value=currentDesignType;var t=_check_form(e);if("phys"==currentMediaType&&5!=document.getElementById("shipping_zip").value.length)return _display_error_message(e.shipping_zip,"message","The ZIP code must be 5 digits long."),!1;return 5!=document.getElementById("billing_zip").value.length?(_display_error_message(e.billing_zip,"message","The ZIP code must be 5 digits long."),!1):t}function _submit_click(e){if(e.style.display="none",_override_check_form($("#gift_card_order")[0])){var t="";t="virt"==currentMediaType?$("#recipient_email").val():$("#shipping_first_name").val()+" "+$("#shipping_last_name").val();var d="Order a "+("virt"==currentMediaType?"VIRTUAL":"PHYSICAL")+" Gift Card for the amount of $"+formatAsMoney($("#amount").val())+" to be sent to <i>"+t+"</i>?";dd_message({title:"Submit Gift Card Order",message:d,modal:!0,confirm:function(){processOrder()},cancel:function(){$("#procCardOrderBtn").show()}})}else document.getElementById("procCardOrderBtn").style.display="block";return!0}function processOrder(){$("#gift_card_order").submit()}$(document).on("change","#credit_card_number",(function(e){$(this).validateCreditCard((function(e){var t=!1;if(null!=e.card_type&&null!=e.card_type.name&&(t=e.card_type.name),(""==$("#credit_card_type").val()||null==$("#credit_card_type").val())&&t)switch(t){case"Visa":$("#credit_card_type").val("Visa");break;case"Mastercard":$("#credit_card_type").val("Mastercard");break;case"American Express":$("#credit_card_type").val("American Express");break;case"Discover":$("#credit_card_type").val("Discover")}if(""!=$("#credit_card_type").val()){var d=!1;switch($("#credit_card_type").val()){case"Visa":d="Visa";break;case"Mastercard":d="Mastercard";break;case"American Express":d="American Express";break;case"Discover":d="Discover"}d&&d!=t&&$(this).val().length>2?$(".credit_card_warning").removeClass("collapse"):$(".credit_card_warning").addClass("collapse")}}),{accept:["visa","mastercard","discover","amex"]})}));
//# sourceMappingURL=gift_card_order.min.js.map