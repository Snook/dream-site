{"version":3,"file":"reports_manufacturer_labels.min.js","names":["reports_manufacturer_labels_init","search_filter","store_qty","clear_qty","$","each","totalStorage","this","id","length","value","bind","e","isNumeric","count_labels","change","on","val","numlabels","Number","prop","html","Math","ceil","toString","getQueryVariable","search","uiTableFilter","new_query_string","setQueryString","historyPush","url"],"sourceRoot":"js/src/dreamdinners/admin","sources":["reports_manufacturer_labels.js"],"sourcesContent":["function reports_manufacturer_labels_init()\r\n{\r\n\tsearch_filter();\r\n\r\n\tstore_qty();\r\n\r\n\tclear_qty();\r\n}\r\n\r\nfunction store_qty()\r\n{\r\n\t// restore values from storage\r\n\t$('[id^=\"large-\"],[id^=\"medium-\"],#print_label_type').each(function(){\r\n\r\n\t\tif ($.totalStorage(this.id) != 'null' && $.totalStorage(this.id) != null && $.totalStorage(this.id).length != 0)\r\n\t\t{\r\n\t\t\tthis.value = $.totalStorage(this.id);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t// on change put value in storage\r\n\t$('[id^=\"large-\"],[id^=\"medium-\"]').bind(\"keyup change\", function(e){\r\n\r\n\t\tif ($.isNumeric(this.value) || this.value.length == 0)\r\n\t\t{\r\n\t\t\t$.totalStorage(this.id, this.value);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.value = '';\r\n\t\t}\r\n\r\n\t\tcount_labels();\r\n\t});\r\n\r\n\t// on change put value in storage\r\n\t$('#print_label_type').change(function(e){\r\n\r\n\t\t$.totalStorage(this.id, this.value);\r\n\r\n\t});\r\n\r\n\tcount_labels();\r\n}\r\n\r\nfunction clear_qty()\r\n{\r\n\t$('#clear_medium').on('click', function (){\r\n\r\n\t\t$('[id^=\"medium-\"]').val('').change();\r\n\r\n\t});\r\n\r\n\t$('#clear_large').on('click', function (){\r\n\r\n\t\t$('[id^=\"large-\"]').val('').change();\r\n\r\n\t});\r\n}\r\n\r\nfunction count_labels()\r\n{\r\n\tnumlabels = 0;\r\n\r\n\t$('[id^=\"large-\"],[id^=\"medium-\"]').each(function(){\r\n\r\n\t\tif ($.isNumeric(this.value))\r\n\t\t{\r\n\t\t\tnumlabels += Number(this.value);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tif (numlabels > 0)\r\n\t{\r\n\t\t$('#generate_nutritional_labels,#generate_cooking_instructions').prop('disabled', false);\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$('#generate_nutritional_labels,#generate_cooking_instructions').prop('disabled', true);\r\n\t}\r\n\r\n\t$('#num_sheets').html(Math.ceil(numlabels / 6).toString());\r\n\t$('#num_labels').html(numlabels.toString());\r\n}\r\n\r\nfunction search_filter()\r\n{\r\n\tif (getQueryVariable('s'))\r\n\t{\r\n\t\tsearch = getQueryVariable('s');\r\n\r\n\t\t$('#filter').val(search).change();\r\n\t\t$.uiTableFilter($('#recipe_list'), search);\r\n\t}\r\n\r\n\t$('#filter').bind('keyup change', function(e){\r\n\t\t$.uiTableFilter($('#recipe_list'), this.value);\r\n\r\n\t\tnew_query_string = setQueryString('s', this.value);\r\n\t\thistoryPush({ url: new_query_string });\r\n\t});\r\n\r\n\t$('#clear_filter').on('click', function ()\r\n\t{\r\n\t\t$('#filter').val('').change();\r\n\r\n\t});\r\n}\r\n"],"mappings":"AAAA,SAASA,mCAERC,gBAEAC,YAEAC,WACD,CAEA,SAASD,YAGRE,EAAE,oDAAoDC,MAAK,WAE3B,QAA3BD,EAAEE,aAAaC,KAAKC,KAA4C,MAA3BJ,EAAEE,aAAaC,KAAKC,KAAiD,GAAlCJ,EAAEE,aAAaC,KAAKC,IAAIC,SAEnGF,KAAKG,MAAQN,EAAEE,aAAaC,KAAKC,IAGnC,IAGAJ,EAAE,kCAAkCO,KAAK,gBAAgB,SAASC,GAE7DR,EAAES,UAAUN,KAAKG,QAA+B,GAArBH,KAAKG,MAAMD,OAEzCL,EAAEE,aAAaC,KAAKC,GAAID,KAAKG,OAI7BH,KAAKG,MAAQ,GAGdI,cACD,IAGAV,EAAE,qBAAqBW,QAAO,SAASH,GAEtCR,EAAEE,aAAaC,KAAKC,GAAID,KAAKG,MAE9B,IAEAI,cACD,CAEA,SAASX,YAERC,EAAE,iBAAiBY,GAAG,SAAS,WAE9BZ,EAAE,mBAAmBa,IAAI,IAAIF,QAE9B,IAEAX,EAAE,gBAAgBY,GAAG,SAAS,WAE7BZ,EAAE,kBAAkBa,IAAI,IAAIF,QAE7B,GACD,CAEA,SAASD,eAERI,UAAY,EAEZd,EAAE,kCAAkCC,MAAK,WAEpCD,EAAES,UAAUN,KAAKG,SAEpBQ,WAAaC,OAAOZ,KAAKG,OAG3B,IAEIQ,UAAY,EAEfd,EAAE,+DAA+DgB,KAAK,YAAY,GAIlFhB,EAAE,+DAA+DgB,KAAK,YAAY,GAGnFhB,EAAE,eAAeiB,KAAKC,KAAKC,KAAKL,UAAY,GAAGM,YAC/CpB,EAAE,eAAeiB,KAAKH,UAAUM,WACjC,CAEA,SAASvB,gBAEJwB,iBAAiB,OAEpBC,OAASD,iBAAiB,KAE1BrB,EAAE,WAAWa,IAAIS,QAAQX,SACzBX,EAAEuB,cAAcvB,EAAE,gBAAiBsB,SAGpCtB,EAAE,WAAWO,KAAK,gBAAgB,SAASC,GAC1CR,EAAEuB,cAAcvB,EAAE,gBAAiBG,KAAKG,OAExCkB,iBAAmBC,eAAe,IAAKtB,KAAKG,OAC5CoB,YAAY,CAAEC,IAAKH,kBACpB,IAEAxB,EAAE,iBAAiBY,GAAG,SAAS,WAE9BZ,EAAE,WAAWa,IAAI,IAAIF,QAEtB,GACD"}