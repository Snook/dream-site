{"version":3,"file":"manage_box.min.js","names":["icoMoon","bootDialog","icoMoonList","$","document","on","e","val","this","options","selectedIndex","dataset","date_start","prop","min","date_end","value","showFlex","hideFlex","preventDefault","validate_1","validateForm","validate_2","validate_3","disabled","submit","getElementById","checked","box_id","bootbox","prompt","title","inputType","inputOptions","storeDeployOptions","callback","result","modal","length","formData","FormData","set","JSON","stringify","fetch","method","body","then","response","ok","Error","status","json","bounce","catch","error","console","confirm","checkValidity","addInput","createElement","setAttribute","name","appendChild","processor","processor_method","data","form_name","removeClass","bundle_id","box_bundle","formId","bundle","is","not","each","attr","bundle_menu_item_id","fetchToasts","PATH","css","Object","keys","icons","forEach","key","icon_name","preferences","imagePref","prefix","properties","split","push","sort","css_icon_default","html","append","trigger","css_icon","tooltip","message","iconDialog","dialog","size","scrollable","onEscape","closeButton","buttons","cancel","label","className","icon_class"],"sourceRoot":"js/src/dreamdinners/admin","sources":["manage_box.js"],"sourcesContent":["let bootDialog = [], icoMoon, icoMoonList = [];\n\n$(function () {\n\n\t$(document).on('change', '#menu_id', function (e) {\n\n\t\t$('#availability_date_start').val(this.options[this.selectedIndex].dataset.date_start);\n\t\t$('#availability_date_start').prop({'min': this.options[this.selectedIndex].dataset.date_start});\n\n\t\t$('#availability_date_end').val(this.options[this.selectedIndex].dataset.date_end);\n\n\t});\n\n\t$(document).on('change', '.store-select-filter', function (e) {\n\n\t\tif (this.options[this.selectedIndex].value == '') {\n\t\t\t$('[data-box_store_id]').showFlex();\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$('[data-box_store_id]').hideFlex();\n\n\t\t\t$('[data-box_store_id=\"' + this.options[this.selectedIndex].value + '\"]').showFlex();\n\t\t}\n\n\t});\n\n\t$(document).on('click', '#BoxFormSubmit', function (e) {\n\n\t\te.preventDefault();\n\n\t\t// if all three validate submit the main box form\n\t\tlet validate_1 = $('#BoxForm').validateForm();\n\t\tlet validate_2 = $('#Bundle1Form').validateForm();\n\t\tlet validate_3 = $('#Bundle2Form').validateForm();\n\n\t\tif (validate_1 && validate_2 && validate_3)\n\t\t{\n\t\t\tif ($('#BoxForm input[name=\"id\"]').val() == 'new')\n\t\t\t{\n\t\t\t\t$(this).prop({'disabled': true});\n\n\t\t\t\t$('#BoxForm').submit();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$('#BoxForm').submit();\n\n\t\t\t\tif (document.getElementById('box_bundle_1_active').checked)\n\t\t\t\t{\n\t\t\t\t\t$('#Bundle1Form').submit();\n\t\t\t\t}\n\n\t\t\t\tif (document.getElementById('box_bundle_2_active').checked)\n\t\t\t\t{\n\t\t\t\t\t$('#Bundle2Form').submit();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n\t$(document).on('click', '.box-deploy', function (e) {\n\n\t\tlet box_id = this.dataset.box_id;\n\n\t\tbootDialog['deployDialog'] = bootbox.prompt({\n\t\t\ttitle: \"Select stores to deploy to\",\n\t\t\tinputType: 'checkbox',\n\t\t\tinputOptions: storeDeployOptions,\n\t\t\tcallback: function (result) {\n\n\t\t\t\tif (result == null)\n\t\t\t\t{\n\t\t\t\t\tbootDialog['deployDialog'].modal('hide');\n\t\t\t\t}\n\t\t\t\telse if (result.length)\n\t\t\t\t{\n\t\t\t\t\tlet formData = new FormData();\n\t\t\t\t\tformData.set('op', 'deploy_box');\n\t\t\t\t\tformData.set('stores', JSON.stringify(result));\n\t\t\t\t\tformData.set('box_id', box_id);\n\n\t\t\t\t\tfetch('ddproc.php?processor=admin_manage_box', {\n\t\t\t\t\t\tmethod: 'post',\n\t\t\t\t\t\tbody: formData\n\t\t\t\t\t}).then(response => {\n\t\t\t\t\t\tif (!response.ok)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthrow new Error(\"HTTP error \" + response.status);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn response.json();\n\t\t\t\t\t}).then(json => {\n\n\t\t\t\t\t\tbounce('main.php?page=admin_manage_box');\n\n\t\t\t\t\t}).catch((error) => {\n\t\t\t\t\t\tconsole.error('Error:', error);\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t});\n\n\t});\n\n\t$(document).on('click', '.box-expire', function (e) {\n\n\t\tlet box_id = this.dataset.box_id;\n\n\t\tbootbox.confirm(\"Do you wish to expire this box now?\", function(result){\n\t\t\tif (result == true)\n\t\t\t{\n\t\t\t\tlet formData = new FormData();\n\t\t\t\tformData.set('op', 'expire_box');\n\t\t\t\tformData.set('box_id', box_id);\n\n\t\t\t\tfetch('ddproc.php?processor=admin_manage_box', {\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\tbody: formData\n\t\t\t\t}).then(response => {\n\t\t\t\t\tif (!response.ok)\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow new Error(\"HTTP error \" + response.status);\n\t\t\t\t\t}\n\t\t\t\t\treturn response.json();\n\t\t\t\t}).then(json => {\n\n\t\t\t\t\tbounce('main.php?page=admin_manage_box');\n\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\tconsole.error('Error:', error);\n\t\t\t\t});\n\n\t\t\t}\n\t\t});\n\n\t});\n\n\t$(document).on('submit', '[data-processor]', function (e) {\n\n\t\te.preventDefault();\n\n\t\tif (this.checkValidity() !== false)\n\t\t{\n\t\t\tlet addInput = document.createElement('input');\n\t\t\taddInput.setAttribute('type', 'hidden');\n\t\t\taddInput.setAttribute('name', '_form_name');\n\t\t\taddInput.setAttribute('value', this.name);\n\t\t\tthis.appendChild(addInput);\n\n\t\t\tfetch('ddproc.php?processor=' + this.dataset.processor, {\n\t\t\t\tmethod: ((this.dataset.processor_method.length > 0) ? this.dataset.processor_method : 'post'),\n\t\t\t\tbody: new FormData(this)\n\t\t\t}).then(response => {\n\t\t\t\tif (!response.ok)\n\t\t\t\t{\n\t\t\t\t\tthrow new Error(\"HTTP error \" + response.status);\n\t\t\t\t}\n\t\t\t\treturn response.json();\n\t\t\t}).then(json => {\n\n\t\t\t\tif (json.data.form_name == 'BoxForm' && json.data.bounce)\n\t\t\t\t{\n\t\t\t\t\tbounce('main.php?page=admin_manage_box&edit=' + json.data.box_id);\n\t\t\t\t}\n\n\t\t\t\t$('#BoxForm, #Bundle1Form, #Bundle2Form').removeClass('was-validated');\n\n\t\t\t}).catch((error) => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t});\n\t\t}\n\n\t});\n\n\t$(document).on('change', '#box_bundle_1_active, #box_bundle_2_active', function (e) {\n\n\t\tlet formData = new FormData();\n\t\tformData.set('op', 'set_bundle_active_state');\n\t\tformData.set('bundle_id', this.dataset.bundle_id);\n\t\tformData.set('box_id', this.dataset.box_id);\n\t\tformData.set('box_bundle', this.dataset.box_bundle);\n\t\tformData.set('checked', this.checked);\n\n\t\tfetch('ddproc.php?processor=admin_manage_box', {\n\t\t\tmethod: 'post',\n\t\t\tbody: formData\n\t\t}).then(response => {\n\t\t\tif (!response.ok)\n\t\t\t{\n\t\t\t\tthrow new Error(\"HTTP error \" + response.status);\n\t\t\t}\n\t\t\treturn response.json();\n\t\t}).then(json => {\n\n\t\t\tlet formId, bundle;\n\n\t\t\tif (this.dataset.box_bundle == 'box_bundle_1')\n\t\t\t{\n\t\t\t\tformId = 'Bundle1Form';\n\t\t\t\tbundle = 'bundle_1';\n\t\t\t}\n\t\t\telse if (this.dataset.box_bundle == 'box_bundle_2')\n\t\t\t{\n\t\t\t\tformId = 'Bundle2Form';\n\t\t\t\tbundle = 'bundle_2';\n\t\t\t}\n\n\t\t\tif (!$(this).is(':checked'))\n\t\t\t{\n\t\t\t\t$('form#' + formId + ' :input').not(this).each(function () {\n\t\t\t\t\t$(this).prop({'disabled': true});\n\t\t\t\t});\n\n\t\t\t\t$('#' + bundle + '_menu_items').hideFlex();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$('form#' + formId + ' :input').not(this).each(function () {\n\n\t\t\t\t\tif($(this).data('has_orders') > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$(this).prop({'disabled': false});\n\n\n\t\t\t\t});\n\n\t\t\t\t$('#' + bundle + '_menu_items').showFlex();\n\n\t\t\t\tlet orgState = this.dataset.bundle_id;\n\n\t\t\t\tif (orgState == 'new')\n\t\t\t\t{\n\t\t\t\t\t$('[id^=\"' + bundle + '_check_\"]').attr('data-bundle_id', json.data.bundle_id);\n\t\t\t\t\t$('#box_' + bundle + '_active').attr('data-bundle_id', json.data.bundle_id);\n\t\t\t\t\t$('#' + formId + ' input[name=\"id\"]').val(json.data.bundle_id);\n\n\t\t\t\t\t$('#' + formId).submit();\n\t\t\t\t}\n\t\t\t}\n\n\t\t}).catch((error) => {\n\t\t\tconsole.error('Error:', error);\n\t\t});\n\n\t});\n\n\t$(document).on('change', '[data-bundle_menu_item_id]', function (e) {\n\n\t\tlet formData = new FormData();\n\t\tformData.set('op', 'update_bundle_menu_item');\n\t\tformData.set('bundle_id', this.dataset.bundle_id);\n\t\tformData.set('bundle_menu_item_id', this.dataset.bundle_menu_item_id);\n\t\tformData.set('checked', this.checked);\n\n\t\tfetch('ddproc.php?processor=admin_manage_box', {\n\t\t\tmethod: 'post',\n\t\t\tbody: formData\n\t\t}).then(response => {\n\t\t\tif (!response.ok)\n\t\t\t{\n\t\t\t\tthrow new Error(\"HTTP error \" + response.status);\n\t\t\t}\n\t\t\treturn response.json();\n\t\t}).then(json => {\n\n\t\t\tfetchToasts(json);\n\n\t\t}).catch((error) => {\n\t\t\tconsole.error('Error:', error);\n\t\t});\n\n\t});\n\n\t// read icoMoon.io json export file\n\tif ($('#css_icon').length)\n\t{\n\t\tfetch(PATH.css + \"/customer/fonts/selection.json\").then(response => {\n\t\t\tif (!response.ok)\n\t\t\t{\n\t\t\t\tthrow new Error(\"HTTP error \" + response.status);\n\t\t\t}\n\t\t\treturn response.json();\n\t\t}).then(json => {\n\n\t\t\t// loop through the json data to define the css classes\n\t\t\tObject.keys(json.icons).forEach(function (key) {\n\n\t\t\t\t// some icons have multiple class names defined for the same icon, we only need one so split on comma and choose first one\n\t\t\t\tlet icon_name = json.preferences.imagePref.prefix + json.icons[key].properties.name.split(',')[0];\n\n\t\t\t\t// put everything in a clean list of class names and sort them\n\t\t\t\ticoMoonList.push(icon_name);\n\n\t\t\t});\n\n\t\t\t// sort list alphabetically\n\t\t\ticoMoonList.sort();\n\n\t\t\t// get the page loaded value\n\t\t\tlet css_icon_default = document.getElementById('css_icon').value;\n\n\t\t\t// clear the selection dropdown\n\t\t\t$('#css_icon').html('');\n\n\t\t\t// populate the select options with json data\n\t\t\ticoMoonList.forEach(function (icon_name) {\n\n\t\t\t\t$('#css_icon').append('<option value=\"' + icon_name + '\">' + icon_name + '</option>');\n\n\t\t\t});\n\n\t\t\t// set the current value to what was loaded with page\n\t\t\t$('#css_icon').val(css_icon_default).trigger('change');\n\n\t\t}).catch((error) => {\n\t\t\tconsole.error('Error:', error);\n\t\t});\n\t}\n\n\t$(document).on('change', '#css_icon', function (e) {\n\n\t\tlet css_icon = $(this).val();\n\n\t\t$('.css_icon_preview').tooltip('dispose').attr({\n\t\t\t'data-toggle': \"tooltip\",\n\t\t\t'data-placement': \"top\",\n\t\t\t'data-html': \"true\",\n\t\t\t'title': \"<i class='dd-icon font-size-extra-extra-large \" + css_icon + \"'></i>\"\n\n\t\t}).html('<i class=\"dd-icon ' + css_icon + '\"></i>');\n\n\t});\n\n\t$(document).on('click', '.css_icon_preview', function (e) {\n\n\t\tif (icoMoonList.length > 0)\n\t\t{\n\t\t\tlet message = '<div class=\"row mx-1\">';\n\n\t\t\t$.each(icoMoonList, function (key, value) {\n\n\t\t\t\tmessage += '<a href=\"#\" class=\"col p-2 m-1 mb-2 text-center text-decoration-hover-none' + (($('#css_icon').val() == value) ? ' text-white bg-orange border border-orange-dark' : ' text-body') + '\" data-pick_icon_class=\"' + value + '\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"' + value + '\"><i class=\"dd-icon ' + value + ' font-size-extra-large\"></i></a>';\n\n\t\t\t});\n\n\t\t\tmessage += '</div>';\n\n\t\t\ticonDialog = bootbox.dialog({\n\t\t\t\ttitle: \"Select Delivered Box Icon\",\n\t\t\t\tmessage: message,\n\t\t\t\tsize: 'large',\n\t\t\t\tscrollable: true,\n\t\t\t\tonEscape: true,\n\t\t\t\tcloseButton: true,\n\t\t\t\tbuttons: {\n\t\t\t\t\tcancel: {\n\t\t\t\t\t\tlabel: \"Close\",\n\t\t\t\t\t\tclassName: 'btn-primary'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t});\n\n\t$(document).on('click', '[data-pick_icon_class]', function (e) {\n\n\t\te.preventDefault();\n\n\t\tlet icon_class = $(this).data('pick_icon_class');\n\n\t\t$('#css_icon').val(icon_class).trigger('change');\n\n\t\ticonDialog.modal('hide');\n\n\t});\n\n});"],"mappings":"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"}