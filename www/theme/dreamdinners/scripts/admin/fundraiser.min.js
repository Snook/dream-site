function fundraiser_init(){create_fundraiser_button(),handle_fundraiser_edit(),handle_detailed_reporting()}function handle_detailed_reporting(){$("#show_detailed_reporting").on("click",(function(){$("#detailed_reporting").slideToggle()}))}function create_fundraiser_button(){$("#add_fundraiser").on("click",(function(){dd_message({div_id:"fundraiser_add",title:"Add Fundraiser",message:$("#add_fundraiser_content").html(),noOk:!0,height:"300",open:function(e,n){var r=$("#fundraiser_add");$(r).find('[name="fund_submit"]').on("click",(function(){var e={title:$(r).find('[name="new_fundraiser"]').val(),description:$(r).find('[name="new_fundraiser_desc"]').val(),value:parseFloat($(r).find('[name="new_fundraiser_value"]').val()).toFixed(2)};$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"admin_fundraiser",store_id:STORE_DETAILS.id,op:"add_fund_info",data:e},success:function(e,n){e.processor_success&&(bounce("/backoffice/fundraiser"),$(r).remove())},error:function(e,n){response="Unexpected error"}})}))}})}))}function handle_fundraiser_edit(){$("[data-fund_id_edit]").each((function(){$(this).off("click").on("click",(function(){var e=$(this).data("fund_id_edit");$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"admin_fundraiser",fund_id:e,store_id:STORE_DETAILS.id,op:"get_fund_info"},success:function(e,n){if(e.processor_success){var r=$.parseJSON(e.data);dd_message({div_id:"fundraiser_add",title:"Add Fundraiser",message:$("#add_fundraiser_content").html(),noOk:!0,height:"300",open:function(e,n){var d=$("#fundraiser_add");$(d).find('[name="new_fundraiser"]').val(r.fundraiser_name),$(d).find('[name="new_fundraiser_desc"]').val(r.fundraiser_description),$(d).find('[name="new_fundraiser_value"]').val(parseFloat(r.donation_value).toFixed(2)),$(d).find('[name="fund_submit"]').on("click",(function(){var e={fund_id:r.id,title:$(d).find('[name="new_fundraiser"]').val(),description:$(d).find('[name="new_fundraiser_desc"]').val(),value:parseFloat($(d).find('[name="new_fundraiser_value"]').val()).toFixed(2)};$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"admin_fundraiser",store_id:STORE_DETAILS.id,op:"edit_fund_info",data:e},success:function(e,n){e.processor_success&&(location.reload(),$(d).remove())},error:function(e,n){response="Unexpected error"}})}))}})}},error:function(e,n){response="Unexpected error"}})}))})),$("[data-enable_fund]").each((function(){$(this).off("click").on("click",(function(){var e=$(this).data("enable_fund");$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"admin_fundraiser",store_id:STORE_DETAILS.id,op:"toggle_fundraiser",fund_id:e},success:function(e,n){e.processor_success},error:function(e,n){response="Unexpected error"}})}))}))}
//# sourceMappingURL=fundraiser.min.js.map