function access_levels_init(){user_type_val=$("#user_type").val(),"CUSTOMER"==user_type_val||"HOME_OFFICE_MANAGER"==user_type_val||"HOME_OFFICE_STAFF"==user_type_val||"SITE_ADMIN"==user_type_val?$("#store_settings_div").hide():$("#store_settings_div").show(),user_type_val==current_user_type?$("#submit_account").prop("disabled",!0):$("#submit_account").prop("disabled",!1),handle_store_display_checkbox(),handle_store_display_text(),handle_special_permissions()}function handle_special_permissions(){$("[id^='priv_']").on("change",(function(){$("#submit_account").prop("disabled",!1)}))}function addStore(){confirm("Are you sure you want to add access to this store?")&&document.getElementById("change_access").submit()}function showStoreSettings(){"CUSTOMER"!=$("#user_type").val()?$("#store_settings_div").show():$("#store_settings_div").hide()}function deleteStore(e){confirm("Are you sure you want to delete access to this store?")&&(document.getElementById("al_action").value="delete",document.getElementById("which_store").value=e,document.getElementById("accessAction").submit())}function handle_store_display_text(){$("[data-display_text]").each((function(){var e=$(this).data("display_text");$(this).bind("input",(function(t){$('[data-display_text_save="'+e+'"]').removeClass("disabled")})),$('[data-display_text_save="'+e+'"]').on("click",(function(){if($(this).hasClass("disabled"))return!1;var e=$(this).data("display_text_save"),t=$('[data-display_text="'+e+'"]').val().trim();t.length||(t=0),$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"admin_access_levels",op:"do_display_text",uts_id:e,display_text:t},success:function(t,s){t.processor_success&&$('[data-display_text_save="'+e+'"]').addClass("disabled")},error:function(e,t){response="Unexpected error"}})}))}))}function handle_store_display_checkbox(){$("[data-show_on_customer]").each((function(){$(this).on("click",(function(){var e=0,t=$(this).data("show_on_customer");$(this).is(":checked")&&(e=1),$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"admin_access_levels",op:"do_display_on_site",uts_id:t,display:e},success:function(e,t){e.processor_success},error:function(e,t){response="Unexpected error"}})}))}))}
//# sourceMappingURL=access_levels.min.js.map