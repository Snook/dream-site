function access_levels_init(){user_type_val=$("#user_type").val();if(user_type_val=="CUSTOMER"||user_type_val=="HOME_OFFICE_MANAGER"||user_type_val=="HOME_OFFICE_STAFF"||user_type_val=="SITE_ADMIN"){$("#store_settings_div").hide()}else{$("#store_settings_div").show()}if(user_type_val==current_user_type){$("#submit_account").prop("disabled",true)}else{$("#submit_account").prop("disabled",false)}handle_store_display_checkbox();handle_store_display_text();handle_special_permissions()}function handle_special_permissions(){$("[id^='priv_']").on("change",function(){$("#submit_account").prop("disabled",false)})}function addStore(){var e="Are you sure you want to add access to this store?";if(confirm(e)){document.getElementById("change_access").submit()}}function showStoreSettings(){if($("#user_type").val()!="CUSTOMER"){$("#store_settings_div").show()}else{$("#store_settings_div").hide()}}function deleteStore(e){var s="Are you sure you want to delete access to this store?";if(confirm(s)){document.getElementById("al_action").value="delete";document.getElementById("which_store").value=e;document.getElementById("accessAction").submit()}}function handle_store_display_text(){$("[data-display_text]").each(function(){var s=$(this).data("display_text");$(this).bind("input",function(e){$('[data-display_text_save="'+s+'"]').removeClass("disabled")});$('[data-display_text_save="'+s+'"]').on("click",function(){if($(this).hasClass("disabled")){return false}var t=$(this).data("display_text_save");var e=$('[data-display_text="'+t+'"]').val().trim();if(!e.length){e=0}$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"admin_access_levels",op:"do_display_text",uts_id:t,display_text:e},success:function(e,s){if(e.processor_success){$('[data-display_text_save="'+t+'"]').addClass("disabled")}else{}},error:function(e,s){response="Unexpected error"}})})})}function handle_store_display_checkbox(){$("[data-show_on_customer]").each(function(){$(this).on("click",function(){var e=0;var s=$(this).data("show_on_customer");if($(this).is(":checked")){e=1}$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"admin_access_levels",op:"do_display_on_site",uts_id:s,display:e},success:function(e,s){if(e.processor_success){}else{}},error:function(e,s){response="Unexpected error"}})})})}
//# sourceMappingURL=access_levels.min.js.map