{"version":3,"sourceRoot":"js/src/dreamdinners","sources":["safari_validate_2.js"],"sourcesContent":["function _display_error_message(element, messageAttr, messageText)\r\n{\r\n\tvar errSpan = document.getElementById(element.name + '_erm');\r\n\r\n\tvar theMessage = null;\r\n\tif (messageText)\r\n\t{\r\n\t\ttheMessage = messageText;\r\n\t}\r\n\telse\r\n\t{\r\n\t\ttheMessage = element.getAttribute(messageAttr);\r\n\t}\r\n\r\n\tif (!theMessage)\r\n\t{\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!errSpan)\r\n\t{\r\n\t\tvar brElement = document.createElement(\"br\");\r\n\t\tbrElement.setAttribute(\"class\", \"temp_break\");\r\n\r\n\t\terrSpan = document.createElement(\"span\");\r\n\t\terrSpan.setAttribute(\"id\", element.name + \"_erm\");\r\n\t\terrSpan.setAttribute(\"class\", \"warning_text temp_span\");\r\n\r\n\t\tvar messTextNode = document.createTextNode(theMessage);\r\n\t\terrSpan.appendChild(messTextNode);\r\n\t\tdd_insertAfter(errSpan, element);\r\n\t\terrSpan.parentNode.insertBefore(brElement, errSpan);\r\n\t}\r\n\telse\r\n\t{\r\n\t\terrSpan.innerHTML = theMessage;\r\n\t\t$(errSpan).show();\r\n\t}\r\n\r\n\t$(element).addClass('input_in_error');\r\n\r\n\treturn '';\r\n}\r\n\r\nfunction _check_elements(elementsArray)\r\n{\r\n\tvar rtn = true;\r\n\tvar statusText = '';\r\n\r\n\t//reset everything\r\n\tfor (var i = 0; i < elementsArray.length; i++)\r\n\t{\r\n\t\tvar element = elementsArray[i];\r\n\t\t$('#' + element.name + '_erm').hide();\r\n\t\t$(element).removeClass('input_in_error');\r\n\t}\r\n\r\n\t$('.temp_break').remove();\r\n\t$('.temp_span').remove();\r\n\r\n\t//check for required\r\n\tfor (var i = 0; i < elementsArray.length; i++)\r\n\t{\r\n\t\tvar element = elementsArray[i];\r\n\r\n\t\t// if field required, and blank, throw error and cancel submit\r\n\t\tif (element.getAttribute('required') && (element.getAttribute('required') == 'true' || element.getAttribute('required') == '1' || element.getAttribute('required') == 'required'))\r\n\t\t{\r\n\t\t\tif (((element.type == 'text' || element.type == 'textarea' || element.type == 'password' || element.type == 'tel' || element.type == 'email' ) && (element.value.length < 1 || element.value == element.getAttribute('placeholder'))) ||\r\n\t\t\t\t(element.type == 'checkbox' && !element.checked))\r\n\t\t\t{\r\n\t\t\t\tstatusText = statusText + _display_error_message(element, 'data-message', null);\r\n\t\t\t\trtn = false;\r\n\t\t\t}\r\n\t\t\telse if (( element.type == 'select-one' ) && ((element.options[0].value.length < 1) && (element.selectedIndex == 0)))\r\n\t\t\t{\r\n\r\n\t\t\t\tstatusText = statusText + _display_error_message(element, 'data-message', null);\r\n\t\t\t\trtn = false;\r\n\r\n\t\t\t}\r\n\t\t\telse if (element.type == 'radio')\r\n\t\t\t{\r\n\t\t\t\tradioGroup = elementsArray[element.name];\r\n\t\t\t\tisChecked = false;\r\n\t\t\t\tfor (j = 0; j < radioGroup.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (radioGroup[j].checked)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tisChecked = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!isChecked)\r\n\t\t\t\t{\r\n\t\t\t\t\tstatusText = statusText + _display_error_message(element, 'data-message', null);\r\n\t\t\t\t\trtn = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//check minimum length\r\n\t\t\t}\r\n\t\t\telse if (element.getAttribute('data-min'))\r\n\t\t\t{\r\n\t\t\t\tif ((element.type == 'text' || element.type == 'password') && elementsArray[i].value.length < elementsArray[i].getAttribute('data-min'))\r\n\t\t\t\t{\r\n\t\t\t\t\tstatusText = statusText + _display_error_message(element, 'data-message_min', null);\r\n\t\t\t\t\trtn = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//also check for dd_required ... we must move away from \"required\" as that is defined by HTML5 and using causes .... issues\r\n\tfor (var i = 0; i < elementsArray.length; i++)\r\n\t{\r\n\t\tvar element = elementsArray[i];\r\n\r\n\t\t// In IE = < 9 there is a dummy text input used to facilitate placeholder text switching.\r\n\t\t// we need to skip this element\r\n\t\tif (element.type == 'text' && (element.name == 'password' || element.name == 'password_confirm'))\r\n\t\t{\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\t// if field required, and blank, throw error and cancel submit\r\n\t\tif (element.getAttribute('data-dd_required') && (element.getAttribute('data-dd_required') == 'true' || element.getAttribute('data-dd_required') == '1' || element.getAttribute('data-dd_required') == 'required'))\r\n\t\t{\r\n\t\t\tif (((element.type == 'text' || element.type == 'textarea' || element.type == 'password' || element.type == 'tel' || element.type == 'email' ) && (element.value.length < 1 || element.value == element.getAttribute('placeholder'))) ||\r\n\t\t\t\t(element.type == 'checkbox' && !element.checked))\r\n\t\t\t{\r\n\t\t\t\tstatusText = statusText + _display_error_message(element, 'data-message', null);\r\n\t\t\t\trtn = false;\r\n\t\t\t}\r\n\t\t\telse if (( element.type == 'select-one' ) && ((element.options[0].value.length < 1) && (element.selectedIndex == 0)))\r\n\t\t\t{\r\n\r\n\t\t\t\tstatusText = statusText + _display_error_message(element, 'data-message', null);\r\n\t\t\t\trtn = false;\r\n\r\n\t\t\t}\r\n\t\t\telse if (element.type == 'radio')\r\n\t\t\t{\r\n\t\t\t\tradioGroup = elementsArray[element.name];\r\n\t\t\t\tisChecked = false;\r\n\t\t\t\tfor (var j = 0; j < radioGroup.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (radioGroup[j].checked)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tisChecked = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!isChecked)\r\n\t\t\t\t{\r\n\t\t\t\t\tstatusText = statusText + _display_error_message(element, 'data-message', null);\r\n\t\t\t\t\trtn = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//check minimum length\r\n\t\t\t}\r\n\t\t\telse if (element.getAttribute('data-min'))\r\n\t\t\t{\r\n\t\t\t\tif ((element.type == 'text' || element.type == 'password') && elementsArray[i].value.length < elementsArray[i].getAttribute('data-min'))\r\n\t\t\t\t{\r\n\t\t\t\t\tstatusText = statusText + _display_error_message(element, 'data-message_min', null);\r\n\t\t\t\t\trtn = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//check for valid email address fields\r\n\tfor (var i = 0; i < elementsArray.length; i++)\r\n\t{\r\n\t\t// if field required, and blank, throw error and cancel submit\r\n\t\telement = elementsArray[i];\r\n\t\tif (!$(element).attr(\"disabled\") && (element.type == 'text' || element.type == 'email') && element.getAttribute('data-email') && (element.getAttribute('data-email') == 'true' || element.getAttribute('data-email') == '1'))\r\n\t\t{\r\n\t\t\tvar emailCheckMsg = emailCheck(element.value, false);\r\n\t\t\tif (emailCheckMsg != true)\r\n\t\t\t{\r\n\t\t\t\tstatusText = statusText + _display_error_message(element, null, emailCheckMsg);\r\n\t\t\t\trtn = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// new optional email type can be empty\r\n\t\tif ((element.type == 'text' || element.type == 'email') && element.getAttribute('data-optional_email') && (element.getAttribute('data-optional_email') == 'true' || element.getAttribute('data-optional_email') == '1'))\r\n\t\t{\r\n\t\t\tvar emailCheckMsg = emailCheck(element.value, true);\r\n\t\t\tif (emailCheckMsg != true)\r\n\t\t\t{\r\n\t\t\t\tstatusText = statusText + _display_error_message(element, null, emailCheckMsg);\r\n\t\t\t\trtn = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//check for valid telephone fields\r\n\tfor (var i = 0; i < elementsArray.length; i++)\r\n\t{\r\n\t\telement = elementsArray[i];\r\n\t\tif (element.type == 'text' && (element.value.length > 0) && element.getAttribute('data-telephone') && (element.getAttribute('data-telephone') == 'true' || element.getAttribute('data-telephone') == '1'))\r\n\t\t{\r\n\r\n\t\t\t// CES 1/2/13: On some browsers the value is the placeholder. If the value is equal to the placeholder (only matters with the 2nd number since the first one is required)\r\n\t\t\t// then continue\r\n\t\t\tif (element.value != \"Secondary Telephone\")\r\n\t\t\t{\r\n\t\t\t\tvar telephoneCheckMsg = telephoneCheck(element.value);\r\n\t\t\t\tif (telephoneCheckMsg != true)\r\n\t\t\t\t{\r\n\t\t\t\t\tstatusText = statusText + _display_error_message(element, null, telephoneCheckMsg);\r\n\t\t\t\t\trtn = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//check for matching passwords; assumes there are only 2 password fields on the page\r\n\tvar firstPassword = null;\r\n\tfor (var i = 0; i < elementsArray.length; i++)\r\n\t{\r\n\t\t// if field required, and blank, throw error and cancel submit\r\n\t\telement = elementsArray[i];\r\n\t\tif (element.type == 'password')\r\n\t\t{\r\n\t\t\tif (!firstPassword)\r\n\t\t\t{\r\n\t\t\t\tfirstPassword = element.value;\r\n\t\t\t}\r\n\t\t\telse if (element.value != firstPassword)\r\n\t\t\t{\r\n\r\n\t\t\t\tif ((element.value == '*Password' || element.value == '*Password Confirm') && (firstPassword == '*Password' || firstPassword == '*Password Confirm'))\r\n\t\t\t\t{\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar passwordMessage = \"The passwords do not match\";\r\n\r\n\t\t\t\tif (element.value.toLowerCase() == firstPassword.toLowerCase())\r\n\t\t\t\t{\r\n\t\t\t\t\tpasswordMessage += \" Passwords are case-sensitive.\";\r\n\t\t\t\t}\r\n\t\t\t\tstatusText = statusText + _display_error_message(element, null, passwordMessage);\r\n\t\t\t\trtn = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//check for matching email addresses\r\n\t//search this form for an email field\r\n\tvar email = null;\r\n\tvar cnfirm = null;\r\n\tfor (var i = 0; i < elementsArray.length; i++)\r\n\t{\r\n\t\tvar element = elementsArray[i];\r\n\t\tif (element.name == 'primary_email')\r\n\t\t{\r\n\t\t\temail = element;\r\n\t\t}\r\n\t\tif (element.name == 'confirm_email_address')\r\n\t\t{\r\n\t\t\tcnfirm = element;\r\n\t\t}\r\n\t}\r\n\r\n\tif (email && cnfirm)\r\n\t{\r\n\t\tif (cnfirm.value.toLowerCase() != email.value.toLowerCase())\r\n\t\t{\r\n\t\t\tvar cnfirmLbl = document.getElementById('confirm_email_address_lbl');\r\n\t\t\tvar messageConfirm = \"The email addresses do not match.\";\r\n\t\t\tif (cnfirmLbl)\r\n\t\t\t{\r\n\t\t\t\tmessageConfirm = cnfirmLbl.getAttribute('data-message');\r\n\t\t\t}\r\n\r\n\t\t\tstatusText = statusText + _display_error_message(cnfirm, null, messageConfirm);\r\n\t\t\trtn = false;\r\n\t\t}\r\n\t}\r\n\r\n\t//check for valid hour fields\r\n\tfor (var i = 0; i < elementsArray.length; i++)\r\n\t{\r\n\t\telement = elementsArray[i];\r\n\t\tif (element.type == 'text' && (element.value.length > 0) &&\r\n\t\t\telement.getAttribute('data-hour') && (element.getAttribute('data-hour') == 'true' ||\r\n\t\t\telement.getAttribute('data-hour') == '1'))\r\n\t\t{\r\n\t\t\tvar hourCheckMsg = hourCheck(element.value);\r\n\t\t\tif (hourCheckMsg != true)\r\n\t\t\t{\r\n\t\t\t\tstatusText = statusText + _display_error_message(element, null, hourCheckMsg);\r\n\t\t\t\trtn = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//check for valid minutes fields\r\n\tfor (var i = 0; i < elementsArray.length; i++)\r\n\t{\r\n\t\telement = elementsArray[i];\r\n\t\tif (element.type == 'text' && (element.value.length > 0) &&\r\n\t\t\telement.getAttribute('data-minutes') && (element.getAttribute('data-minutes') == 'true' ||\r\n\t\t\telement.getAttribute('data-minutes') == '1'))\r\n\t\t{\r\n\t\t\tvar minutesCheckMsg = minutesCheck(element.value);\r\n\t\t\tif (minutesCheckMsg != true)\r\n\t\t\t{\r\n\t\t\t\tstatusText = statusText + _display_error_message(element, null, minutesCheckMsg);\r\n\t\t\t\trtn = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//check for valid number fields\r\n\tfor (var i = 0; i < elementsArray.length; i++)\r\n\t{\r\n\t\telement = elementsArray[i];\r\n\t\tif (element.type == 'text' && (element.value.length > 0) &&\r\n\t\t\telement.getAttribute('data-number') && (element.getAttribute('data-number') == 'true' ||\r\n\t\t\telement.getAttribute('data-number') == '1'))\r\n\t\t{\r\n\t\t\tvar numberCheckMsg = numberCheck(element.value);\r\n\t\t\tif (numberCheckMsg != true)\r\n\t\t\t{\r\n\t\t\t\tstatusText = statusText + _display_error_message(element, null, numberCheckMsg);\r\n\t\t\t\trtn = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//check for valid money - positive and non-zero\r\n\tfor (var i = 0; i < elementsArray.length; i++)\r\n\t{\r\n\t\telement = elementsArray[i];\r\n\t\tif (element.type == 'text' && (element.value.length > 0) &&\r\n\t\t\telement.getAttribute('data-money') && (element.getAttribute('data-money') == 'true' ||\r\n\t\t\telement.getAttribute('data-money') == '1'))\r\n\t\t{\r\n\t\t\tvar moneyCheckMsg = moneyCheck(element.value);\r\n\t\t\tif (moneyCheckMsg != true)\r\n\t\t\t{\r\n\t\t\t\tstatusText = statusText + _display_error_message(element, null, moneyCheckMsg);\r\n\t\t\t\trtn = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// check if field has regex pattern\r\n\tfor (var i = 0; i < elementsArray.length; i++)\r\n\t{\r\n\t\telement = elementsArray[i];\r\n\r\n\t\tif ($(element).attr('pattern') && ($(element).prop('required') || $(element).data('dd_required') == true))\r\n\t\t{\r\n\t\t\tvar pattern = new RegExp($(element).attr('pattern'));\r\n\r\n\t\t\tif (!pattern.test($(element).val()))\r\n\t\t\t{\r\n\t\t\t\tif ($(element).data('message_pattern'))\r\n\t\t\t\t{\r\n\t\t\t\t\tmessageText = $(element).data('message_pattern');\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tmessageText = 'Improper format'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstatusText = statusText + _display_error_message(element, null, messageText);\r\n\t\t\t\trtn = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (rtn == false && !allErrorsAreDisplayedInLine)\r\n\t{\r\n\r\n\t\t/*\r\n\t\t var statusDiv = document.getElementById('errorMsg');\r\n\r\n\t\t if (statusDiv)\r\n\t\t {\r\n\t\t statusDiv.style.display = 'block';\r\n\t\t statusTextDiv = document.getElementById('errorMsgText');\r\n\t\t statusTextDiv.innerHTML = 'Please correct the following errors on the page below.  ' + statusText;\r\n\t\t scroll(0,0);\r\n\t\t }\r\n\t\t */\r\n\r\n\t\tdd_message({\r\n\t\t\ttitle: 'Validation Error',\r\n\t\t\tmessage: 'Please correct the following errors on the page below.<br /><br />' + statusText\r\n\t\t});\r\n\r\n\t}\r\n\r\n\treturn rtn;\r\n}"],"names":["_display_error_message","element","messageAttr","messageText","errSpan","document","getElementById","name","theMessage","getAttribute","brElement","createElement","setAttribute","messTextNode","createTextNode","appendChild","dd_insertAfter","parentNode","insertBefore","innerHTML","$","show","addClass","_check_elements","elementsArray","rtn","statusText","i","length","hide","removeClass","remove","type","value","checked","options","selectedIndex","radioGroup","isChecked","j","attr","emailCheckMsg","emailCheck","telephoneCheckMsg","telephoneCheck","firstPassword","passwordMessage","toLowerCase","email","cnfirm","cnfirmLbl","messageConfirm","hourCheckMsg","hourCheck","minutesCheckMsg","minutesCheck","numberCheckMsg","numberCheck","moneyCheckMsg","moneyCheck","prop","data","pattern","RegExp","test","val","allErrorsAreDisplayedInLine","dd_message","title","message"],"mappings":"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"}