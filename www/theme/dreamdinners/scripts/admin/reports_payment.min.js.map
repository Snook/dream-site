{"version":3,"names":["isPaymentReconciliationReport","open_state_cookie_name","select_state_cookie_name","reports_payment_init","init_filters","init_store_selector","$","change","this","checked","each","prop","totalStorage","id","bind","e","selectedValue","selected","length","val","filter","_override_check_form","hasStore","hasPaymentTypes","isFranchiseAccess","selectedStoreNodes","jstree","get_selected","postVal","Array","count","i","get_node","state","hidden","deselect_node","indexOf","thisID","split","dd_message","message","has_type","onTitleClick"],"sourceRoot":"js/src/admin","sources":["reports_payment.js"],"sourcesContent":["var isPaymentReconciliationReport = false;\r\nvar open_state_cookie_name = \"\";\r\nvar select_state_cookie_name = \"\";\r\n\r\nfunction reports_payment_init()\r\n{\r\n\r\n\topen_state_cookie_name = false; //'dd_pr_tree_open_state';\r\n\tselect_state_cookie_name = false; //'dd_pr_tree_selected_state';\r\n\r\n\tisPaymentReconciliationReport = true;\r\n\tinit_filters();\r\n\t\r\n\tinit_store_selector('dd_js_tree_payment_report');\r\n\r\n}\r\n\r\n\r\n\r\n\r\nfunction init_filters()\r\n{\r\n\r\n\t$(\"#pfa_All\").change(function(){\r\n\r\n\t\tif (this.checked)\r\n\t\t{\r\n\t\t\t$(\"[id^=pf_]\").each(function() {\r\n\t\t\t\t$(this).prop('checked', true).change();\r\n\t\t\t//\tthis.checked = true;\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$(\"[id^=pf_]\").each(function() {\r\n\t\t\t\t$(this).prop('checked', false).change();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.checked)\r\n\t\t{\r\n\t\t\t$.totalStorage(this.id, \"1\");\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$.totalStorage(this.id, \"0\");\r\n\t\t}\r\n\r\n\r\n\r\n\t});\r\n\t$('#show_if_balance_due').each(function(){\r\n\r\n\t\tif ($.totalStorage(this.id) != null)\r\n\t\t{\r\n\t\t\tif ($.totalStorage(this.id) == \"1\")\r\n\t\t\t{\r\n\t\t\t\tthis.checked = true;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.checked = false;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t$('#show_if_balance_due').bind(\"mouseup change\", function(e){\r\n\r\n\t\tif (this.checked)\r\n\t\t{\r\n\t\t\t$.totalStorage(this.id, \"1\");\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$.totalStorage(this.id, \"0\");\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\t$('[id^=\"pf_\"]').each(function(){\r\n\r\n\t\tif ($.totalStorage(this.id) != null)\r\n\t\t{\r\n\t\t\tif ($.totalStorage(this.id) == \"1\")\r\n\t\t\t{\r\n\t\t\t\tthis.checked = true;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.checked = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t$('[id^=\"pf_\"]').bind(\"mouseup change\", function(e){\r\n\r\n\t\tif (this.checked)\r\n\t\t{\r\n\t\t\t$.totalStorage(this.id, \"1\");\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$.totalStorage(this.id, \"0\");\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t$(\"#pfa_All\").each(function(){\r\n\r\n\t\tif ($.totalStorage(this.id) != null)\r\n\t\t{\r\n\t\t\tif ($.totalStorage(this.id) == \"1\")\r\n\t\t\t{\r\n\t\t\t\tthis.checked = true;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.checked = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t$(\"[id^=select_key]\").bind(\"mouseup change\", function(e){\r\n\r\n\t\tvar selectedValue = \"\";\r\n\t\tvar selected = $(\"input[type='radio'][name='select_key']:checked\");\r\n\t\tif (selected.length > 0)\r\n\t\t    selectedValue = selected.val();\r\n\r\n\t\t$.totalStorage('select_key', selectedValue);\r\n\t});\r\n\r\n\r\n\tif ($.totalStorage('select_key') != null)\r\n\t{\r\n\t    var $radios = $('input:radio[name=select_key]');\r\n\t    $radios.filter('[value='+ $.totalStorage('select_key')  + ']').prop('checked', true);\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction _override_check_form()\r\n{\r\n\r\n\tvar hasStore = false;\r\n\tvar hasPaymentTypes = false;\r\n\r\n\r\n\tif (!isFranchiseAccess)\r\n\t{\r\n\r\n\t\t\r\n\t\tvar selectedStoreNodes =  $('#store_selector').jstree(true).get_selected();\r\n\t\t\r\n\t\tvar postVal = new Array();\r\n\t\tvar count = 0;\r\n\t\t\r\n\t\tfor (var i = 0; i < selectedStoreNodes.length; ++i) \r\n\t\t{\r\n\t\t\tvar testNode = $('#store_selector').jstree(true).get_node(\"#\" + selectedStoreNodes[i]);\r\n\t\t\tif (testNode.state.hidden)\t\r\n\t\t\t{\r\n\t\t\t\t$('#store_selector').jstree(true).deselect_node(\"#\" + selectedStoreNodes[i]);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\t\r\n\r\n\t\t\tif (selectedStoreNodes[i].indexOf(\"tree_store\") == 0)\r\n\t\t\t{\r\n\t\t\t\tvar thisID = selectedStoreNodes[i].split(\"-\");\r\n\t\t\t\tpostVal[count++] = thisID[1];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\r\n\t\tif (postVal.length > 0)\r\n\t\t{\r\n\t\t\t$(\"#requested_stores\").val(postVal);\r\n\t\t\thasStore = true;\r\n\t\t}\r\n\t\telse\t\t\r\n\t\t{\r\n\t\t\t$(\"#requested_stores\").val(\"\");\r\n\r\n\t\t\tdd_message({\r\n\t\t\t\tmessage: \"Please choose at least one store.\"\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n\r\n\telse\r\n\t{\r\n\t\thasStore = true;\r\n\t}\r\n\r\n\r\n\tif (isPaymentReconciliationReport)\r\n\t{\r\n\t\t$('#pfa_All').each(function() {\r\n\t\t\tif (this.checked)\r\n\t\t\t{\r\n\t\t\t\thasPaymentTypes = true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (isPaymentReconciliationReport && !hasPaymentTypes)\r\n\t\t{\r\n\t\t\thas_type = false;\r\n\t\t\t$(\"[id^=pf_]\").each(function() {\r\n\t\t\t\tif (this.checked)\r\n\t\t\t\t{\r\n\t\t\t\t\thasPaymentTypes = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (!hasPaymentTypes)\r\n\t\t\t{\r\n\t\t\t\tdd_message({\r\n\t\t\t\t\tmessage: \"Please choose at least one payment type.\"\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\telse\r\n\t{\r\n\t\thasPaymentTypes = true;\r\n\t}\r\n\r\n\treturn hasPaymentTypes && hasStore;\r\n\r\n}\r\n\r\n\r\nfunction onTitleClick()\r\n{\r\n}\r\n"],"mappings":"AAAA,IAAIA,+BAAgC,EAChCC,uBAAyB,GACzBC,yBAA2B,GAE/B,SAASC,uBAGRF,wBAAyB,EACzBC,0BAA2B,EAE3BF,+BAAgC,EAChCI,eAEAC,oBAAoB,4BAErB,CAKA,SAASD,gBAGRE,EAAE,YAAYC,QAAO,WAEhBC,KAAKC,QAERH,EAAE,aAAaI,MAAK,WACnBJ,EAAEE,MAAMG,KAAK,WAAW,GAAMJ,QAE/B,IAIAD,EAAE,aAAaI,MAAK,WACnBJ,EAAEE,MAAMG,KAAK,WAAW,GAAOJ,QAChC,IAGGC,KAAKC,QAERH,EAAEM,aAAaJ,KAAKK,GAAI,KAIxBP,EAAEM,aAAaJ,KAAKK,GAAI,IAK1B,IACAP,EAAE,wBAAwBI,MAAK,WAEC,MAA3BJ,EAAEM,aAAaJ,KAAKK,MAEQ,KAA3BP,EAAEM,aAAaJ,KAAKK,IAEvBL,KAAKC,SAAU,EAIfD,KAAKC,SAAU,EAGlB,IAEAH,EAAE,wBAAwBQ,KAAK,kBAAkB,SAASC,GAErDP,KAAKC,QAERH,EAAEM,aAAaJ,KAAKK,GAAI,KAIxBP,EAAEM,aAAaJ,KAAKK,GAAI,IAG1B,IAGAP,EAAE,eAAeI,MAAK,WAEU,MAA3BJ,EAAEM,aAAaJ,KAAKK,MAEQ,KAA3BP,EAAEM,aAAaJ,KAAKK,IAEvBL,KAAKC,SAAU,EAIfD,KAAKC,SAAU,EAIlB,IAEAH,EAAE,eAAeQ,KAAK,kBAAkB,SAASC,GAE5CP,KAAKC,QAERH,EAAEM,aAAaJ,KAAKK,GAAI,KAIxBP,EAAEM,aAAaJ,KAAKK,GAAI,IAG1B,IAEAP,EAAE,YAAYI,MAAK,WAEa,MAA3BJ,EAAEM,aAAaJ,KAAKK,MAEQ,KAA3BP,EAAEM,aAAaJ,KAAKK,IAEvBL,KAAKC,SAAU,EAIfD,KAAKC,SAAU,EAIlB,IAEAH,EAAE,oBAAoBQ,KAAK,kBAAkB,SAASC,GAErD,IAAIC,EAAgB,GAChBC,EAAWX,EAAE,kDACbW,EAASC,OAAS,IAClBF,EAAgBC,EAASE,OAE7Bb,EAAEM,aAAa,aAAcI,EAC9B,IAGoC,MAAhCV,EAAEM,aAAa,gBAEDN,EAAE,gCACRc,OAAO,UAAWd,EAAEM,aAAa,cAAiB,KAAKD,KAAK,WAAW,EAGpF,CAGA,SAASU,uBAGR,IAAIC,GAAW,EACXC,GAAkB,EAGtB,GAAKC,kBA4CJF,GAAW,MA3CZ,CAQC,IALA,IAAIG,EAAsBnB,EAAE,mBAAmBoB,QAAO,GAAMC,eAExDC,EAAU,IAAIC,MACdC,EAAQ,EAEHC,EAAI,EAAGA,EAAIN,EAAmBP,SAAUa,EACjD,CAEC,GADezB,EAAE,mBAAmBoB,QAAO,GAAMM,SAAS,IAAMP,EAAmBM,IACtEE,MAAMC,OAElB5B,EAAE,mBAAmBoB,QAAO,GAAMS,cAAc,IAAMV,EAAmBM,SAI1E,GAAmD,GAA/CN,EAAmBM,GAAGK,QAAQ,cAClC,CACC,IAAIC,EAASZ,EAAmBM,GAAGO,MAAM,KACzCV,EAAQE,KAAWO,EAAO,EAC3B,CACD,CAGIT,EAAQV,OAAS,GAEpBZ,EAAE,qBAAqBa,IAAIS,GAC3BN,GAAW,IAIXhB,EAAE,qBAAqBa,IAAI,IAE3BoB,WAAW,CACVC,QAAS,sCAIZ,CA0CA,OAlCIxC,+BAEHM,EAAE,YAAYI,MAAK,WACdF,KAAKC,UAERc,GAAkB,EAEpB,IAEIvB,gCAAkCuB,IAErCkB,UAAW,EACXnC,EAAE,aAAaI,MAAK,WACfF,KAAKC,UAERc,GAAkB,EAEpB,IACKA,GAEJgB,WAAW,CACVC,QAAS,+CAUZjB,GAAkB,EAGZA,GAAmBD,CAE3B,CAGA,SAASoB,eAET"}