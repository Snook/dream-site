{"version":3,"file":"reports_payment.min.js","names":["isPaymentReconciliationReport","open_state_cookie_name","select_state_cookie_name","reports_payment_init","init_filters","init_store_selector","$","change","this","checked","each","prop","totalStorage","id","bind","e","selectedValue","selected","length","val","filter","_override_check_form","hasStore","hasPaymentTypes","isFranchiseAccess","selectedStoreNodes","jstree","get_selected","postVal","count","i","get_node","state","hidden","deselect_node","indexOf","thisID","split","dd_message","message","has_type","onTitleClick"],"sourceRoot":"js/src/dreamdinners/admin","sources":["reports_payment.js"],"sourcesContent":["var isPaymentReconciliationReport = false;\nvar open_state_cookie_name = \"\";\nvar select_state_cookie_name = \"\";\n\nfunction reports_payment_init()\n{\n\n\topen_state_cookie_name = false; //'dd_pr_tree_open_state';\n\tselect_state_cookie_name = false; //'dd_pr_tree_selected_state';\n\n\tisPaymentReconciliationReport = true;\n\tinit_filters();\n\n\tinit_store_selector('dd_js_tree_payment_report');\n\n}\n\n\n\n\nfunction init_filters()\n{\n\n\t$(\"#pfa_All\").change(function(){\n\n\t\tif (this.checked)\n\t\t{\n\t\t\t$(\"[id^=pf_]\").each(function() {\n\t\t\t\t$(this).prop('checked', true).change();\n\t\t\t//\tthis.checked = true;\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(\"[id^=pf_]\").each(function() {\n\t\t\t\t$(this).prop('checked', false).change();\n\t\t\t});\n\t\t}\n\n\t\tif (this.checked)\n\t\t{\n\t\t\t$.totalStorage(this.id, \"1\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$.totalStorage(this.id, \"0\");\n\t\t}\n\n\n\n\t});\n\t$('#show_if_balance_due').each(function(){\n\n\t\tif ($.totalStorage(this.id) != null)\n\t\t{\n\t\t\tif ($.totalStorage(this.id) == \"1\")\n\t\t\t{\n\t\t\t\tthis.checked = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.checked = false;\n\t\t\t}\n\t\t}\n\t});\n\n\t$('#show_if_balance_due').bind(\"mouseup change\", function(e){\n\n\t\tif (this.checked)\n\t\t{\n\t\t\t$.totalStorage(this.id, \"1\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$.totalStorage(this.id, \"0\");\n\t\t}\n\n\t});\n\n\n\t$('[id^=\"pf_\"]').each(function(){\n\n\t\tif ($.totalStorage(this.id) != null)\n\t\t{\n\t\t\tif ($.totalStorage(this.id) == \"1\")\n\t\t\t{\n\t\t\t\tthis.checked = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.checked = false;\n\t\t\t}\n\t\t}\n\n\t});\n\n\t$('[id^=\"pf_\"]').bind(\"mouseup change\", function(e){\n\n\t\tif (this.checked)\n\t\t{\n\t\t\t$.totalStorage(this.id, \"1\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$.totalStorage(this.id, \"0\");\n\t\t}\n\n\t});\n\n\t$(\"#pfa_All\").each(function(){\n\n\t\tif ($.totalStorage(this.id) != null)\n\t\t{\n\t\t\tif ($.totalStorage(this.id) == \"1\")\n\t\t\t{\n\t\t\t\tthis.checked = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.checked = false;\n\t\t\t}\n\t\t}\n\n\t});\n\n\t$(\"[id^=select_key]\").bind(\"mouseup change\", function(e){\n\n\t\tvar selectedValue = \"\";\n\t\tvar selected = $(\"input[type='radio'][name='select_key']:checked\");\n\t\tif (selected.length > 0)\n\t\t    selectedValue = selected.val();\n\n\t\t$.totalStorage('select_key', selectedValue);\n\t});\n\n\n\tif ($.totalStorage('select_key') != null)\n\t{\n\t    var $radios = $('input:radio[name=select_key]');\n\t    $radios.filter('[value='+ $.totalStorage('select_key')  + ']').prop('checked', true);\n\t}\n\n}\n\n\nfunction _override_check_form()\n{\n\n\tvar hasStore = false;\n\tvar hasPaymentTypes = false;\n\n\n\tif (!isFranchiseAccess)\n\t{\n\n\n\t\tvar selectedStoreNodes =  $('#store_selector').jstree(true).get_selected();\n\n\t\tvar postVal = [];\n\t\tvar count = 0;\n\n\t\tfor (var i = 0; i < selectedStoreNodes.length; ++i)\n\t\t{\n\t\t\tvar testNode = $('#store_selector').jstree(true).get_node(\"#\" + selectedStoreNodes[i]);\n\t\t\tif (testNode.state.hidden)\n\t\t\t{\n\t\t\t\t$('#store_selector').jstree(true).deselect_node(\"#\" + selectedStoreNodes[i]);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (selectedStoreNodes[i].indexOf(\"tree_store\") == 0)\n\t\t\t{\n\t\t\t\tvar thisID = selectedStoreNodes[i].split(\"-\");\n\t\t\t\tpostVal[count++] = thisID[1];\n\t\t\t}\n\t\t}\n\n\n\t\tif (postVal.length > 0)\n\t\t{\n\t\t\t$(\"#requested_stores\").val(postVal);\n\t\t\thasStore = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(\"#requested_stores\").val(\"\");\n\n\t\t\tdd_message({\n\t\t\t\tmessage: \"Please choose at least one store.\"\n\t\t\t});\n\t\t}\n\n\t}\n\n\telse\n\t{\n\t\thasStore = true;\n\t}\n\n\n\tif (isPaymentReconciliationReport)\n\t{\n\t\t$('#pfa_All').each(function() {\n\t\t\tif (this.checked)\n\t\t\t{\n\t\t\t\thasPaymentTypes = true;\n\t\t\t}\n\t\t});\n\n\t\tif (isPaymentReconciliationReport && !hasPaymentTypes)\n\t\t{\n\t\t\thas_type = false;\n\t\t\t$(\"[id^=pf_]\").each(function() {\n\t\t\t\tif (this.checked)\n\t\t\t\t{\n\t\t\t\t\thasPaymentTypes = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!hasPaymentTypes)\n\t\t\t{\n\t\t\t\tdd_message({\n\t\t\t\t\tmessage: \"Please choose at least one payment type.\"\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t}\n\t}\n\n\telse\n\t{\n\t\thasPaymentTypes = true;\n\t}\n\n\treturn hasPaymentTypes && hasStore;\n\n}\n\n\nfunction onTitleClick()\n{\n}"],"mappings":"AAAA,IAAIA,+BAAgC,EAChCC,uBAAyB,GACzBC,yBAA2B,GAE/B,SAASC,uBAGRF,wBAAyB,EACzBC,0BAA2B,EAE3BF,+BAAgC,EAChCI,eAEAC,oBAAoB,4BAErB,CAKA,SAASD,gBAGRE,EAAE,YAAYC,QAAO,WAEhBC,KAAKC,QAERH,EAAE,aAAaI,MAAK,WACnBJ,EAAEE,MAAMG,KAAK,WAAW,GAAMJ,QAE/B,IAIAD,EAAE,aAAaI,MAAK,WACnBJ,EAAEE,MAAMG,KAAK,WAAW,GAAOJ,QAChC,IAGGC,KAAKC,QAERH,EAAEM,aAAaJ,KAAKK,GAAI,KAIxBP,EAAEM,aAAaJ,KAAKK,GAAI,IAK1B,IACAP,EAAE,wBAAwBI,MAAK,WAEC,MAA3BJ,EAAEM,aAAaJ,KAAKK,MAEQ,KAA3BP,EAAEM,aAAaJ,KAAKK,IAEvBL,KAAKC,SAAU,EAIfD,KAAKC,SAAU,EAGlB,IAEAH,EAAE,wBAAwBQ,KAAK,kBAAkB,SAASC,GAErDP,KAAKC,QAERH,EAAEM,aAAaJ,KAAKK,GAAI,KAIxBP,EAAEM,aAAaJ,KAAKK,GAAI,IAG1B,IAGAP,EAAE,eAAeI,MAAK,WAEU,MAA3BJ,EAAEM,aAAaJ,KAAKK,MAEQ,KAA3BP,EAAEM,aAAaJ,KAAKK,IAEvBL,KAAKC,SAAU,EAIfD,KAAKC,SAAU,EAIlB,IAEAH,EAAE,eAAeQ,KAAK,kBAAkB,SAASC,GAE5CP,KAAKC,QAERH,EAAEM,aAAaJ,KAAKK,GAAI,KAIxBP,EAAEM,aAAaJ,KAAKK,GAAI,IAG1B,IAEAP,EAAE,YAAYI,MAAK,WAEa,MAA3BJ,EAAEM,aAAaJ,KAAKK,MAEQ,KAA3BP,EAAEM,aAAaJ,KAAKK,IAEvBL,KAAKC,SAAU,EAIfD,KAAKC,SAAU,EAIlB,IAEAH,EAAE,oBAAoBQ,KAAK,kBAAkB,SAASC,GAErD,IAAIC,EAAgB,GAChBC,EAAWX,EAAE,kDACbW,EAASC,OAAS,IAClBF,EAAgBC,EAASE,OAE7Bb,EAAEM,aAAa,aAAcI,EAC9B,IAGoC,MAAhCV,EAAEM,aAAa,gBAEDN,EAAE,gCACRc,OAAO,UAAWd,EAAEM,aAAa,cAAiB,KAAKD,KAAK,WAAW,EAGpF,CAGA,SAASU,uBAGR,IAAIC,GAAW,EACXC,GAAkB,EAGtB,GAAKC,kBA4CJF,GAAW,MA3CZ,CAQC,IALA,IAAIG,EAAsBnB,EAAE,mBAAmBoB,QAAO,GAAMC,eAExDC,EAAU,GACVC,EAAQ,EAEHC,EAAI,EAAGA,EAAIL,EAAmBP,SAAUY,EACjD,CAEC,GADexB,EAAE,mBAAmBoB,QAAO,GAAMK,SAAS,IAAMN,EAAmBK,IACtEE,MAAMC,OAElB3B,EAAE,mBAAmBoB,QAAO,GAAMQ,cAAc,IAAMT,EAAmBK,SAI1E,GAAmD,GAA/CL,EAAmBK,GAAGK,QAAQ,cAClC,CACC,IAAIC,EAASX,EAAmBK,GAAGO,MAAM,KACzCT,EAAQC,KAAWO,EAAO,EAC3B,CACD,CAGIR,EAAQV,OAAS,GAEpBZ,EAAE,qBAAqBa,IAAIS,GAC3BN,GAAW,IAIXhB,EAAE,qBAAqBa,IAAI,IAE3BmB,WAAW,CACVC,QAAS,sCAIZ,CA0CA,OAlCIvC,+BAEHM,EAAE,YAAYI,MAAK,WACdF,KAAKC,UAERc,GAAkB,EAEpB,IAEIvB,gCAAkCuB,IAErCiB,UAAW,EACXlC,EAAE,aAAaI,MAAK,WACfF,KAAKC,UAERc,GAAkB,EAEpB,IACKA,GAEJe,WAAW,CACVC,QAAS,+CAUZhB,GAAkB,EAGZA,GAAmBD,CAE3B,CAGA,SAASmB,eAET"}