var AJAX_IN_PROCESS=false;var GUEST_PREFERENCES={};var lang={en:{dd:{dream_dinners:"Dream Dinners"},tc:{terms_and_conditions:"Terms & Conditions",delayed_payment:"When I opt to use the Delayed Payment service to pay for my order, I understand that the balance due for this and future orders will be automatically withdrawn (5) five days prior to my session date and will transact using the same credit card as was used to pay for the order deposit.",delayed_payment_decline:"By declining the Delayed Payment Terms and Conditions future orders are required to be paid in full upon submission. The balance due for existing Delayed Payement orders will be due at session."}}};function set_user_pref(e,t,a,i){e=e.toUpperCase();let n=USER_PREFERENCES[e].value;if($.isPlainObject(n)&&$.isPlainObject(t)){t=JSON.stringify($.extend(USER_PREFERENCES[e].value,t))}else{t=t.toString()}$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"account",op:"update_pref",key:e,user_id:a,value:t.toString()},success:function(e,t){if(typeof i==="function"){i(e,t)}response=e},error:function(e,t){response="Unexpected error"}})}function get_user_pref(e,t,a){if(typeof t!="undefined"){$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"account",op:"get_pref",key:e,user_id:t},success:function(e,t){if(typeof a==="function"){a(e,t)}return e},error:function(e,t){response="Unexpected error"}})}else{if(typeof USER_PREFERENCES!=="undefined"){if(typeof USER_PREFERENCES[e]==="object"){return USER_PREFERENCES[e]}}}return false}function select_location_click_handler(){$(document).on("click",'[id^="select_location-"], [id^="select_intro_location-"]',function(e){var t={store_id:null,order_type:"standard"};if(this.id.indexOf("intro_location")>0){t.order_type="intro"}t.store_id=this.id.split("-")[1];setStoreAndBeginOrder(t);e.preventDefault()})}function bounce(e,t){if(!e){e="main.php"}if(t){window.open(e,t)}else{window.location.href=e}}function back_path(){return encodeURIComponent(location.pathname.substring(1)+location.search)}function incrementVal(e,t){e=parseInt(e);t=parseInt(t);if(isNaN(e)){e=0}e=e+t;if(parseInt(e)<0){e=0}return e}function toggleId(e){$("#"+e).slideToggle()}function setQueryString(e,t){var a=window.location.search.substring(1);var i=a.split("&");var_found=false;new_query="main.php?";for(var n=0;n<i.length;n++){var r=i[n].split("=");if(r[0]==e){r[1]=t;var_found=true}if(n>0){new_query+="&"}new_query+=r[0]+"="+r[1]}if(!var_found){if(n>0){new_query+="&"}new_query+=e+"="+t}return new_query}function getQueryVariable(e){var t=window.location.search.substring(1);var a=t.split("&");for(var i=0;i<a.length;i++){var n=a[i].split("=");if(n[0]==e){return decodeURI(n[1])}}return false}function removeQueryVariable(e,t){var a=t.split("?")[0],i,n=[],r=t.indexOf("?")!==-1?t.split("?")[1]:"";if(r!==""){n=r.split("&");for(var s=n.length-1;s>=0;s-=1){i=n[s].split("=")[0];if(i===e){n.splice(s,1)}}a=a+"?"+n.join("&")}return a}function mailHideOnSubmit(e){document.getElementById("mailhide_form").submit()}function historyPush(e){if(window.history&&window.history.pushState){var t=document.title;if(e.title){t=e.title}history.pushState(null,t,e.url)}}function showPopup(e){var a={type:"GET",height:500,width:600,modal:false,callBack:false,resizable:true};$.extend(a,e);$.ajax({url:"main.php?"+a.module,type:a.type,success:function(e,t){a.message=e;dd_message(a);if(typeof a.callBack=="function"){a.callBack()}},error:function(e,t){response="Unexpected error"}})}function create_and_submit_form(e){var t={method:"post",target:false};$.extend(t,e);var a=$("<form></form>");a.attr("method",t.method);if(t.action){a.attr("action",t.action)}if(t.target){a.attr("target",t.target)}for(var i in t.input){$("<input>").attr({type:"hidden",name:i,value:t.input[i]}).appendTo(a)}$(document.body).append(a);a.submit();$(a).remove()}function setStoreAndBeginOrder(e){$(".img_throbber_circle").show();create_and_submit_form({action:"main.php?page=session_menu",input:{store:e.store_id,order_type:e.order_type}})}function showMap(e){dd_message({width:670,height:580,modal:false,resizable:true,message:'<iframe width="100%" height="97%" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="//maps.google.com/maps?q=Dream%20Dinners%20'+encodeURIComponent(e)+"&amp;hnear=Dream%20Dinners%20"+encodeURIComponent(e)+'&amp;f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;&amp;ie=UTF8&amp;hq=&amp;t=m3&amp;spn=0.02878,0.054932&amp;z=14&amp;iwloc=A&amp;output=embed"></iframe>'})}function confirmNavigate(e,t){dd_message({message:t,confirm:function(){bounce(e)}})}function dd_console_log(e){if(is_debug()&&window.console){console.log("DD Console Log: "+e)}}function address_location(e,d){var t={address:false,latlong:false};if(typeof d==="undefined"&&typeof e==="function"){d=e;e=t}else{$.extend(t,e)}var a=function(e,t,a){var i=new google.maps.Geocoder;var n;if(t!=undefined){t=t.trim();if(t.length<=5){n={latLng:o,componentRestrictions:{postalCode:t}}}}if(typeof a!="undefined"&&a){a=a.split(",");var r=parseFloat(a[0]);var s=parseFloat(a[1]);var o=new google.maps.LatLng(r,s);n={latLng:o}}else if(e!==false){var r=parseFloat(e.coords.latitude);var s=parseFloat(e.coords.longitude);var o=new google.maps.LatLng(r,s);n={latLng:o}}else if(t!=undefined&&t.length>5){n={address:t}}i.geocode(n,function(e,t){if(t==google.maps.GeocoderStatus.OK){if(e){d("ok",e)}else{d("no_result","No geocoder results found.")}}else{d("error","No geocoder results found.")}})};var i=function(e){switch(e.code){case e.PERMISSION_DENIED:d("gl_error","User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:d("gl_error","Geolocation information is unavailable.");break;case e.TIMEOUT:d("gl_error","The request to get user location timed out.");break;case e.UNKNOWN_ERROR:d("gl_error","An unknown error occurred.");break}};if(e.address){a(false,e.address,false)}else if(e.latlong){a(false,false,e.latlong)}else{if(navigator.geolocation){navigator.geolocation.getCurrentPosition(a,i)}else{d("gl_error","Geolocation not supported.")}}}function dd_toast(e){var t={animation:true,autohide:true,delay:5e3,title:false,message:false,type:"primary"};$.extend(t,e);if(!$(".toast-container").length){$('<div class="toast-container fixed-top mt-4"></div>').appendTo("body")}switch(t.type){case"primary":t.css_header="bg-green-dark text-white";t.title=t.title?t.title:"Notice";break;case"secondary":t.css_header="bg-secondary text-white";t.title=t.title?t.title:"Notice";break;case"info":t.css_header="bg-info text-white";t.title=t.title?t.title:"Notice";break;case"success":t.css_header="bg-success text-white";t.title=t.title?t.title:"Success";break;case"warning":case"warn":t.css_header="bg-warning text-white";t.title=t.title?t.title:"Warning";break;case"error":case"danger":t.css_header="bg-danger text-white";t.title=t.title?t.title:"Error";break}var a='<div class="toast mx-auto" role="alert" aria-live="assertive" aria-atomic="true" data-delay="'+t.delay+'" data-autohide="'+t.autohide+'">';a+='<div class="toast-header '+t.css_header+'">';a+='<strong class="mr-auto">'+(t.title?t.title:"Notice")+"</strong>";a+='<button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close"><span aria-hidden="true" class="text-white">&times;</span></button>';a+="</div>";a+='<div class="toast-body">'+t.message+"</div>";a+="</div>";$(".toast-container").append(a);$(".toast-container .toast:last").toast("show")}function fetchToasts(a){if(a.dd_toasts){let t=0;$.each(a.dd_toasts,function(e){$.doTimeout(t,function(){dd_toast(a.dd_toasts[e])});t+=500})}}function dd_message(e){var t={title:false,message:false,size:false};$.extend(t,e);if(typeof t.confirm!="undefined"){if(typeof t.confirm=="function"){t.buttons={confirm:{label:"Confirm",className:"btn-primary",callback:t.confirm},cancel:{label:"Cancel",className:"btn-secondary",callback:t.cancel}}}bootbox.dialog(t)}else if(typeof t.buttons!="undefined"){var a={};$.each(t.buttons,function(e,t){if(typeof t=="function"){a[e]={label:e,className:"btn-primary",callback:t}}});t.buttons=a;bootbox.dialog(t)}else{bootbox.alert(t)}}function showTermsAndConditions(e){if(e&&e.attr("data-tandc_page")=="checkout"){tandc_url="main.php?static=module/tandc_popup_checkout"}else{tandc_url="main.php?static=module/tandc_popup"}$.ajax({url:tandc_url,type:"GET",success:function(e,t){dd_message({title:"Dream Dinners Terms and Conditions",message:e,height:500,width:600,resizable:true,noOk:true,buttons:{Agree:function(){$("#customers_terms").prop("checked",true).change()},Decline:function(){$("#customers_terms").prop("checked",false).change()}}})},error:function(e,t){response="Unexpected error"}})}function dd_alert(e){dd_message({title:"Alert",message:e})}function formatAsMoney(e){if(typeof e=="undefined"){e=0}e-=0;e=Math.round(e*100)/100;return e==Math.floor(e)?e+".00":e*10==Math.floor(e*10)?e+"0":e}function get_todays_date(){var e=new Date;var t=("0"+e.getDate()).slice(-2);var a=("0"+(e.getMonth()+1)).slice(-2);var i=e.getFullYear();return i+"-"+a+"-"+t}function cookieCheck(){var e=getQueryVariable("host_url");var t=false;if(e&&e=="http://support.dreamdinners.com"){t=true}$.cookie("chkcookie",true,{domain:COOKIE.domain});if(!$.cookie("chkcookie")&&!t){dd_message({title:"Alert",message:"You have cookies turned off in your browser. Please check your settings, and enable cookies for this site in order to continue. Thank you."})}}function is_debug(){if(typeof DEBUG!=="undefined"&&DEBUG===true){return true}return false}function dd_print(){if(is_debug()){dd_console_log("Debug: Print dialog called here.")}else{window.print()}}function nl2br(e,t){var a=t||typeof t==="undefined"?"<br "+"/>":"<br>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+a+"$2")}function strip_tags(e,a){a=(((a||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var t=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,i=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return e.replace(i,"").replace(t,function(e,t){return a.indexOf("<"+t.toLowerCase()+">")>-1?e:""})}(function(p){p.oauthpopup=function(e){if(!p(this).data("path")){throw new Error("data-path must not be empty")}var t={windowName:"ConnectWithOAuth",windowOptions:{width:"800",height:"400",location:"0",status:"0"}};var a={windowOptions:{width:p(this).data("width"),height:p(this).data("height")},path:p(this).data("path"),ref_page:p(this).data("ref_page"),reload_page:p(this).data("reload"),callback:e};var i=p.extend({},t,a);var n=window.screenLeft!=undefined?window.screenLeft:window.screenX;var r=window.screenTop!=undefined?window.screenTop:window.screenY;var s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var d=s/2-i.windowOptions.width/2+n;var c=o/2-i.windowOptions.height/2+r;var l="location="+i.windowOptions.location+", status="+i.windowOptions.status+", width="+i.windowOptions.width+", height="+i.windowOptions.height+", top="+c+", left="+d;var u=i.path;if(typeof i.ref_page!="undefined"){u+="&ref_page="+i.ref_page}if(typeof i.reload_page!="undefined"){u+="&reload_page="+i.reload_page}var f=window.open(u,i.windowName,l);if(typeof i.callback=="function"){p.doTimeout("oauth_interval",1e3,function(){if(f.closed){p.doTimeout("oauth_interval");i.callback();return false}return true})}return this};p.fn.oauthpopup=function(e){$this=p(this);$this.click(p.oauthpopup.bind(this,e))};p.fn.attention=function(e,t){if(e==undefined){e="#ffed8c"}if(t==undefined){t=2e3}p(this).stop().css("background-color",e).animate({backgroundColor:"transparent"},{duration:t});return this};p.fn.center=function(){this.css("position","absolute");this.css("top",Math.max(0,(p(window).height()-p(this).outerHeight())/2+p(window).scrollTop())+"px");this.css("left",Math.max(0,(p(window).width()-p(this).outerWidth())/2+p(window).scrollLeft())+"px");return this};p.fn.getVal=function(){var e=p(this),t=e.eq(0).val();if(t==e.attr("placeholder")){return""}else{return t}};p.fn.addSpinner=function(e){if(this.hasClass("btn-spin")&&this.find(".spinner-border").length===0){this.append('<span class="spinner-border spinner-border-sm float-right mt-1" role="status" aria-hidden="true"></span>')}else if(this.hasClass("btn-spinner")&&!this.hasClass("btn-spinning")){this.addClass("btn-spinning").append('<div class="ld-spin"></div>')}return this};p.fn.removeSpinner=function(e){this.removeClass("btn-spinning");this.find(".ld-spin").remove();this.find(".spinner-border").remove();return this};p.fn.hideFlex=function(e){this.addClass("collapse");this.removeClass("show");return this};p.fn.showFlex=function(e){this.addClass("collapse show");return this};p.fn.toggleFlex=function(e){if(this.is(":visible")){this.hideFlex(e)}else{this.showFlex(e)}return this};p.fn.valDefault=function(e){if(typeof e!=="undefined"){this.val(e)}else if(typeof this[0].dataset.valdefault!=="undefined"){this.val(function(){return this.dataset.valdefault})}else if(typeof this[0].defaultValue!=="undefined"){this.val(function(){return this.defaultValue})}else if(this[0].type=="select-one"){for(var t=0;t<this[0].options.length;t++){if(this[0].options[t].defaultSelected==true){this[0].selectedIndex=t;break}}}return this};p.fn.valCheckDiff=function(e){if(typeof e==="undefined"||typeof e.value==="undefined"){e.value=this.value}if(typeof e.group==="undefined"){e.group="_main"}this.data({checkdiff:e}).val(e.value).on("change keyup",function(e){let t={};let a=p(this).data().checkdiff;if(typeof p(document).data().checkdiff!="undefined"){t=p(document).data().checkdiff}if(a.value!=null&&this.value!=a.value||this.value!=""&&a.value==null){if(typeof t[a.group]=="undefined"){t[a.group]={}}t[a.group][this.id]=a}else{delete t[a.group][this.id]}p(document).data({checkdiff:t}).trigger("dd:checkdiff")});return this};p.fn.valCheckDiffRemove=function(e){if(typeof e!="undefined"){this.val(e)}let t=p(this).data();if(typeof t!="undefined"){if(typeof t.checkdiff!="undefined"){this.removeData("checkdiff").off("change keyup")}}return this};p.fn.validateForm=function(){let e=p(this);let t=true;if(e.length){p(e).find("input, textarea").each(function(e){p(this).val(p(this).val().trim())});if(p(this).find(":submit").hasClass("btn-onclick-disable")){p(this).find(":submit").addClass("disabled")}let a=[];p(e).find('[data-checkbox_group_required="true"]').each(function(e){let t=p(this).data("checkbox_group");if(a[t]!=="undefined"){a.push(t)}p('[data-checkbox_group="'+t+'"]').attr("required",true)});p.each(a,function(e,t){p('[data-checkbox_group="'+t+'"]').each(function(){if(p(this).is(":checked")){p('[data-checkbox_group="'+t+'"]').attr("required",false)}})});p(e).find(".form-feedback").hide();if(e["0"].checkValidity()===false){t=false;if(p(this).find(":submit").hasClass("btn-onclick-disable")){p(this).find(":submit").removeClass("disabled")}p(".btn-spinning").removeClass("btn-spinning");p(".ld-spin").remove();p(e).find(".form-feedback").show();p(e).data("was_submitted",false)}e["0"].classList.add("was-validated")}else{console.log()}return t}})(jQuery);function PayFlow_Payload(){this.encodedString=""}PayFlow_Payload.prototype={constructor:PayFlow_Payload,addNameValuePair:function(e,t){t+="";var a=e.replace("+","");a=a.replace(":","");var i=t.replace("+","");i=i.replace(":","");i=i.replace("`","");i=i.replace("'","");i=i.replace('"',"");i=i.replace("&","and");if(this.encodedString==""){this.encodedString=a+":"+i}else{this.encodedString+="+"+a+":"+i}},addAssocArray:function(e,t){var a=e.replace("+","");a=a.replace(":","");arrString="";for(var i in t){if(t[i]){var n=t[i].replace("+","");n=n.replace(":","");n=n.replace("|","");n=n.replace("~","");n=n.replace("`","");n=n.replace("'","");n=n.replace('"',"");n=n.replace("&","and");var r=i.replace("+","");r=r.replace(":","");r=r.replace("|","");r=r.replace("~","");if(arrString==""){arrString=r+"~"+n}else{arrString+="|"+r+"~"+n}}}if(this.encodedString==""){this.encodedString=a+":"+arrString}else{this.encodedString+="+"+a+":"+arrString}},retrieveEncodedString:function(){return this.encodedString}};$(document).on("submit",".needs-validation",function(e){if($(this).validateForm()!==true){e.preventDefault();e.stopPropagation()}});$('a[data-toggle="tab"]').on("shown.bs.tab",function(e){e.target;e.relatedTarget;if($(e.target).data("urlpush")!==undefined&&$(e.target).data("urlpush")===true){if($(e.target).data("target")!==undefined){var t=$(e.target).data("target")}else{var t=$(e.target).attr("href")}var a=$(t).attr("id");new_query_string=setQueryString("tab",a);historyPush({url:new_query_string})}});function isIE(){var e=window.navigator.userAgent;var t=e.indexOf("MSIE ");var a=e.indexOf("Trident/");return t>0||a>0}function isSafari(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return e}$(document).ajaxSuccess(function(e,t,a){$('.telephone:not(.no-tel), [type="tel"]:not(.no-tel)').each(function(e){new Cleave(this,{delimiters:["-","-","-"],blocks:[3,3,4]})});try{var i=$.parseJSON(t.responseText);if(i.dd_toasts){fetchToasts(i)}if(i.user_preferences){USER_PREFERENCES=i.user_preferences}if(i.guest_preferences){GUEST_PREFERENCES=$.extend(GUEST_PREFERENCES,i.guest_preferences)}if(i.bounce_to){bounce(i.bounce_to)}}catch(e){}});$(document).on("click","#tc_popup-cart",function(e){showTermsAndConditions($(this));e.preventDefault()});if($.cookie("toastMsg")){var messages=$.parseJSON($.cookie("toastMsg"));var time=0;$.each(messages,function(e,t){$.doTimeout(time,function(){dd_toast(t)});time+=500});$.removeCookie("toastMsg",{domain:COOKIE.domain})}$(document).tooltip({selector:'[data-toggle="tooltip"]'});$("[data-gaq_cat]").each(function(){$(this).on("click",function(){if(typeof _gaq!="undefined"){gaq_cat=$(this).data("gaq_cat");gaq_action=$(this).data("gaq_action");gaq_label=$(this).data("gaq_label");_gaq.push(["_trackEvent",gaq_cat,gaq_action,gaq_label])}})});$("[data-background-image]").each(function(){var e=$(this).data("background-image");$(this).css("background-image","url("+e+")")});$(document).on("click",".clear-cart, .clear-cart-gc",function(e){var t="all";if(window.location.href.indexOf("gift_card_cart")!=-1){t="giftcard"}$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"cart_clear_category",op:"get_clear_form",output:"json"},success:function(e){dd_message({title:"Clear your Cart",message:e.html,height:300,width:300,resizable:false,confirm:function(){$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"cart_clear_category",op:"do_clear",clear_items:t,output:"json"},success:function(e){if(typeof _etmc!=="undefined"){_etmc.push(["trackCart",{clear_cart:true}])}window.location.reload()},error:function(e,t){response="Unexpected error"}})},cancel:function(){}})},error:function(e,t){response="Unexpected error"}})});$(document).ready(function(){if(window.innerWidth<=1e3){FreshworksWidget("hide","launcher")}});window.onresize=function(){if(typeof FreshworksWidget!=="undefined"){if(window.innerWidth<=1e3){FreshworksWidget("hide","launcher")}else{FreshworksWidget("show","launcher")}}};$(document).on("click",".help-search-launcher",function(e){e.preventDefault();FreshworksWidget("open")});$(document).on("click",".clear-edit-delivered-order",function(e){$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"cart_clear_category",op:"get_clear_form",output:"json"},success:function(e){dd_message({title:"Clear Cart",message:"Are you sure you want to stop editing this Delivered order?",height:300,width:300,resizable:false,confirm:function(){$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"cart_clear_category",op:"do_clear",clear_items:"all",clear_edit_order:"all",output:"json"},success:function(e){window.location="/main.php?page=my_meals&tab=nav-past_orders"},error:function(e,t){console.log("Unexpected error")}})},cancel:function(){}})},error:function(e,t){response="Unexpected error"}})});$(document).on("keyup","textarea[maxlength]",function(e){var t=parseInt($(this).attr("maxlength"));var a=$(this).val();var i=a.length;if(i>t){var n=a.substr(0,t);$(this).val(n)}});$(document).on("click",".btn-spinner:not(.disabled), .btn-spin:not(.disabled)",function(e){$(this).addSpinner()});$('.telephone:not(.no-tel), [type="tel"]:not(.no-tel)').each(function(e){new Cleave(this,{delimiters:["-","-","-"],blocks:[3,3,4]})});$(document).on("change","#menus_dropdown",function(e){bounce("main.php?page=nutritionals&menu="+this.value)});$(document).on("click change","#enroll_in_plate_points",function(e){set_req=false;if($(this).is(":checked")){set_req=true}$("#referral_source, #gender, #birthday_month, #birthday_year, #number_of_kids, #desired_homemade_meals_per_week, #number_feeding,  #number_of_adults, #contribute_income, #use_lists, #number_monthly_dine_outs").attr("required",set_req);$("#prefer_daytime_sessions, #prefer_evening_sessions, #prefer_weekend_sessions").attr({"data-checkbox_group_required":set_req,required:set_req})});$("[data-share-social]").each(function(){var t=$(this).data("share-title");var a=$(this).data("share-text");var i=$(this).data("share-url");var e=$(this).data("share-social").split(",");var n=$("<div></div>").addClass("dropdown-menu");$(e).each(function(e,t){if(t=="facebook"){$(n).append('<a class="dropdown-item nav-link facebook-share" data-share-url="'+i+'" href="#"><i class="dd-icon icon-facebook mr-2"></i> Facebook</a>')}if(t=="twitter"){$(n).append('<a class="dropdown-item nav-link" target="_blank" href="https://twitter.com/intent/tweet?via=DreamDinners&&hashtags=TheOriginalMealKit&text='+a+"&url="+i+'"><i class="dd-icon icon-twitter mr-2"></i> Twitter</a>')}});if(navigator.share){let e=$('<a href="#" class="dropdown-item nav-link"><i class="dd-icon icon-share2 mr-2"></i> More Options</a>').on("click",function(e){e.preventDefault();navigator.share({title:t,text:a,url:i})});$(n).append(e)}$(this).attr({"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}).wrap("<div></div>").addClass("dropdown").after(n)});$(document).on("click","[data-start-delivered-order]",function(e){e.preventDefault();let t=this.getAttribute("data-start-delivered-order");create_and_submit_form({action:"main.php?page=box_select",input:{delivered_zip:t}})});$(document).on("click",".btn-click-add-cart",function(e){$(".btn-click-add-cart").find(".fa-shopping-cart").remove();$(this).append('<i class="fas fa-shopping-cart float-left text-green-dark-extra pt-1"></i>')});$(document).on("click","[data-click_id]",function(e){let t=$(this).data("click_id");$("#"+t).trigger("click");if(typeof $("#"+t).attr("href")!=="undefined"){window.location.href=$("#"+t).attr("href")}});if(getQueryVariable("pp_enroll")){$("#enroll_in_plate_points").attr("checked",true).trigger("change")}if(getQueryVariable("tab")){var tabid=getQueryVariable("tab");$("#"+tabid+"-tab").tab("show")}if($(".footer-nav").length){$(".footer-nav").scrollToFixed({bottom:0,limit:$(".footer-nav").offset().top})}$("#main-sidenav").on("hide.bs.collapse",function(){$("body").removeClass("modal-open");$(".sidenav-modal").removeClass("show");$.doTimeout(500,function(){$(".sidenav-modal").remove()})});$("#main-sidenav").on("show.bs.collapse",function(){$("body").addClass("modal-open").append($('<div class="sidenav-modal modal-backdrop fade"></div>'));$(".sidenav-modal").tab("show")});$(document).on("click",".sidenav-modal",function(e){$("#main-sidenav").collapse("toggle")});$(document).on("keyup change",".dd-strip-tags",function(e){var t;if($(this).data("allowed-tags")){t=$(this).data("allowed-tags")}if($(this).val()!=strip_tags($(this).val(),t)){$(this).val(strip_tags($(this).val(),t))}});$(document).ajaxError(function(e,t,a,i){AJAX_IN_PROCESS=false;dd_console_log("Ajax Error: "+t.statusText)});if(typeof USER_PREFERENCES==="string"){USER_PREFERENCES=$.parseJSON(USER_PREFERENCES)}$(document).on("click","[data-user_pref][type=checkbox]",function(e){var t=this;var a=0;var i=$(this).is(":checked");if($(this).data("user_id")){a=$(this).data("user_id")}if(!$(this).data("user_pref_orig")){$(this).data("user_pref_orig",$(this).is(":checked"))}if(i&&$(this).data("user_pref_value_check")){i=$(this).data("user_pref_value_check")}else if(!i&&$(this).data("user_pref_value_uncheck")){i=$(this).data("user_pref_value_uncheck")}if(typeof preferenceChangeListener==="function"){preferenceChangeListener($(this).data("user_pref"),i,a,function(e){if(!e.processor_success){dd_message({message:e.processor_message});$(this).prop("checked",$(t).data("user_pref_orig"))}else{$(this).data("user_pref_orig",$(t).is(":checked"))}})}else{set_user_pref($(this).data("user_pref"),i,a,function(e){if(!e.processor_success){dd_message({message:e.processor_message});$(this).prop("checked",$(t).data("user_pref_orig"))}else{$(this).data("user_pref_orig",$(t).is(":checked"))}})}});$(document).on("change","[data-user_pref]select",function(e){var t=this;var a=0;if($(this).data("user_id")){a=$(this).data("user_id")}if(!$(this).data("user_pref_orig")){$(this).data("user_pref_orig",$(this).val())}set_user_pref($(this).data("user_pref"),$(this).val(),a,function(e){if(!e.processor_success){dd_message({message:e.processor_message});$(t).val($(t).data("user_pref_orig"))}else{$(t).data("user_pref_orig",$(t).val())}})});$(document).on("focus","[data-user_pref]input[type=text]",function(e){if($(this).attr("type")=="checkbox"){return}var t=this;var a=0;if($(this).data("user_id")){a=$(this).data("user_id")}$(this).on("keyup",function(e){if($(this).val()!=strip_tags($(this).val())){$(this).val(strip_tags($(this).val()))}});if(!$(this).data("user_pref_orig")){$(this).data("user_pref_orig",$(this).val())}if(!$("#"+$(this).data("user_pref")+"_buttons").length){var i=$("<div />").attr("id",$(this).data("user_pref")+"_buttons").addClass("text-left collapse");$(this).after(i);var n=$("<span />").addClass("btn btn-sm btn-primary mr-2 mt-2").text("Save").on("click",function(e){if(typeof preferenceChangeListener==="function"){preferenceChangeListener($(t).data("user_pref"),$(t).val(),a,function(e){if(!e.processor_success){dd_message({message:e.processor_message});$(t).val($(this).data("user_pref_orig"))}else{$(t).data("user_pref_orig",$(t).val())}$("#"+$(t).data("user_pref")+"_buttons").slideUp(function(e){$("#"+$(t).data("user_pref")+"_buttons").remove()})})}else{set_user_pref($(t).data("user_pref"),$(t).val(),a,function(e){if(!e.processor_success){dd_message({message:e.processor_message});$(t).val($(this).data("user_pref_orig"))}else{$(t).data("user_pref_orig",$(t).val())}$("#"+$(t).data("user_pref")+"_buttons").slideUp(function(e){$("#"+$(t).data("user_pref")+"_buttons").remove()})})}});var r=$("<span />").addClass("btn btn-sm btn-primary mt-2").text("Cancel").on("click",function(e){$(t).val($(t).data("user_pref_orig"));$("#"+$(t).data("user_pref")+"_buttons").slideUp(function(e){$("#"+$(t).data("user_pref")+"_buttons").remove()})});var s=$("<span />").addClass(" mt-2");$(i).prepend(r).prepend(n).prepend(s).slideDown()}});$(document).on("focus","[data-user_pref]textarea",function(e){var t=this;var a=0;if($(this).data("user_id")){a=$(this).data("user_id")}$(this).on("keyup",function(e){if($(this).val()!=strip_tags($(this).val())){$(this).val(strip_tags($(this).val()))}});if(!$(this).data("user_pref_orig")){$(this).data("user_pref_orig",$(this).val())}if(!$("#"+$(this).data("user_pref")+"_buttons").length){var i=$("<div />").attr("id",$(this).data("user_pref")+"_buttons").addClass("text-right collapse");$(this).after(i);var n=$("<span />").addClass("btn btn-sm btn-primary mr-2 mt-2").text("Save").on("click",function(e){if(typeof preferenceChangeListener==="function"){preferenceChangeListener($(t).data("user_pref"),$(t).val(),a,function(e){if(!e.processor_success){dd_message({message:e.processor_message});$(t).val($(this).data("user_pref_orig"))}else{$(t).data("user_pref_orig",$(t).val())}$("#"+$(t).data("user_pref")+"_buttons").slideUp(function(e){$("#"+$(t).data("user_pref")+"_buttons").remove()})})}else{set_user_pref($(t).data("user_pref"),$(t).val(),a,function(e){if(!e.processor_success){dd_message({message:e.processor_message});$(t).val($(this).data("user_pref_orig"))}else{$(t).data("user_pref_orig",$(t).val())}$("#"+$(t).data("user_pref")+"_buttons").slideUp(function(e){$("#"+$(t).data("user_pref")+"_buttons").remove()})})}});var r=$("<span />").addClass("btn btn-sm btn-primary mt-2").text("Cancel").on("click",function(e){$(t).val($(t).data("user_pref_orig"));$("#"+$(t).data("user_pref")+"_buttons").slideUp(function(e){$("#"+$(t).data("user_pref")+"_buttons").remove()})});$(i).prepend(r).prepend(n).slideDown()}});$(document).on("click",'[data-user_pref="text_message_thaw_primary"][type=checkbox]',function(e){});$(function(){if(typeof ClipboardJS!=="undefined"){let e=new ClipboardJS(".btn-clip")}});
//# sourceMappingURL=global.min.js.map