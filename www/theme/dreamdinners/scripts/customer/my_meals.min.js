function doFoodSearch(){bounce("main.php?page=my_meals&search="+$("#my_meals_search").val())}function setRatingStar(e,t){for(var r=0;r<=5;r++)$("#rating-"+r+"-"+e).removeClass("fas text-yellow").addClass("far");for(r=0;r<=t;r++)$("#rating-"+r+"-"+e).addClass("fas text-yellow").removeClass("far")}function mouseenterRatingStar(e){hover_rating=$(e).attr("data-rating"),element_id=$(e).attr("data-element_id"),setRatingStar(element_id,hover_rating)}function mouseleaveRatingStar(e){let t=$("#org_rating-"+element_id).val();setRatingStar(element_id,t)}function restorePagingLocation(e){let t=localStorage.getItem("customer-orders-paging-current"),r=localStorage.getItem("customer-history-paging-user");if(r!=e)return localStorage.setItem("customer-orders-paging-current",null),void localStorage.setItem("customer-history-paging-user",null);null!=t&&void 0!==t&&null!=r&&void 0!==r&&($("#order_history").html(""),$.ajax({url:"ddproc.php",type:"POST",timeout:1e8,dataType:"json",data:{user_id:r,page:t,processor:"my_meals",operation:"next"},success:function(e,t){return e.processor_success?$("#order_history").html(e.html):console.log("There was an issue trying to restore paging location."),!1},error:function(e,t){return alert("There was an issue retrieving your orders. Please reload the page."),!1}}))}$((function(){$(".my_meals-rate").bind({mouseenter:function(e){mouseenterRatingStar(this)},mouseleave:function(e){mouseleaveRatingStar(this)}}),$(".my_meals-rate").on("click",(function(e){let t=$(this).data("element_id"),r=$(this).data("store_id"),a=$(this).data("recipe_id"),s=$(this).data("recipe_version"),o=$(this).data("rating");$.ajax({url:"ddproc.php",type:"POST",timeout:1e8,dataType:"json",data:{processor:"my_meals",operation:"rate",store_id:r,recipe_id:a,recipe_version:s,rating:o},success:function(e,r){return e.processor_success&&($("#org_rating-"+t).val(o),setRatingStar(t,o)),!1},error:function(e,t){return!1}})})),$(".my_meals-favorite").on("change",(function(e){$(this).data("element_id");let t=$(this).data("store_id"),r=$(this).data("recipe_id"),a=$(this).data("recipe_version"),s=$(this).val();$.ajax({url:"ddproc.php",type:"POST",timeout:1e8,dataType:"json",data:{processor:"my_meals",operation:"favorite",store_id:t,recipe_id:r,recipe_version:a,set_favorite:s},success:function(e,t){return e.processor_success,!1},error:function(e,t){return!1}})})),$(document).on("keyup change",".my_meals-review, .my_meals-note",(function(e){let t="review";$(this).hasClass("my_meals-note")&&(t="note");let r=$(this).data("element_id");$.trim($(this).val())!=this.defaultValue?$(".my_meals-"+t+'-submit-row[data-element_id="'+r+'"]').showFlex():$(".my_meals-"+t+'-submit-row[data-element_id="'+r+'"]').hideFlex()})),$(document).on("click",".my_meals-review-cancel, .my_meals-note-cancel",(function(e){e.preventDefault();let t="review";$(this).hasClass("my_meals-note-cancel")&&(t="note");let r=$(this).data("element_id"),a=$(".my_meals-"+t+'[data-element_id="'+r+'"]');$(".my_meals-"+t+'[data-element_id="'+r+'"]').val(a[0].defaultValue),$(a).trigger("change")})),$(document).on("click",".my_meals-review-submit, .my_meals-note-submit",(function(e){e.preventDefault();let t="review";$(this).hasClass("my_meals-note-submit")&&(t="note");let r=$(this).data("element_id"),a=$(".my_meals-"+t+'[data-element_id="'+r+'"]'),s=$(a).data("recipe_id"),o=$(a).data("recipe_version"),n=$(a).data("store_id"),i=$.trim($(a).val());$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"my_meals",operation:t,recipe_id:s,recipe_version:o,comment:i,store_id:n},success:function(e){return e.processor_success&&($(".my_meals-"+t+'-submit-row[data-element_id="'+r+'"]').hideFlex(),a[0].defaultValue=i),!1},error:function(e,t){return!1}})})),$(document).on("click","#my_meals_search_submit",(function(e){doFoodSearch()})),$(document).on("keyup","#my_meals_search",(function(e){"Enter"!==e.key&&13!==e.keyCode||doFoodSearch()})),$(document).on("click",".orders-page-prev",(function(e){e.preventDefault();let t=$(this).data("user"),r=$(this).data("current"),a=r;return a>0&&(a-=2),localStorage.setItem("customer-orders-paging-current",a),localStorage.setItem("customer-history-paging-user",t),$.ajax({url:"ddproc.php",type:"POST",timeout:1e8,dataType:"json",data:{user_id:t,page:r,processor:"my_meals",operation:"prev"},success:function(e,t){return e.processor_success?$("#order_history").html(e.html):console.log("There was an issue trying to navigate to the previous page."),!1},error:function(e,t){return alert("There was an issue retrieving your orders. Please reload the page."),!1}}),!1})),$(document).on("click",".orders-page-next",(function(e){e.preventDefault();let t=$(this).data("user"),r=$(this).data("current");return localStorage.setItem("customer-orders-paging-current",r),localStorage.setItem("customer-history-paging-user",t),$.ajax({url:"ddproc.php",type:"POST",timeout:1e8,dataType:"json",data:{user_id:t,page:r,processor:"my_meals",operation:"next"},success:function(e,t){return e.processor_success?$("#order_history").html(e.html):console.log("There was an issue trying to navigate to the next page."),!1},error:function(e,t){return alert("There was an issue retrieving your orders. Please reload the page."),!1}}),!1}))}));
//# sourceMappingURL=my_meals.min.js.map