{"version":3,"sourceRoot":"js/src/dreamdinners","sources":["store.js"],"sourcesContent":["// fullcalendar handler\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n\r\n\tvar calendar = new FullCalendar.Calendar(document.getElementById('calendar'), {\r\n\t\taspectRatio: (function () {\r\n\t\t\tif ($(window).width() > 768) {\r\n\t\t\t\treturn 2;\r\n\t\t\t} else {\r\n\t\t\t\treturn 1.35;\r\n\t\t\t}\r\n\t\t})(),\r\n\t\tthemeSystem: 'bootstrap',\r\n\t\theaderToolbar: {\r\n\t\t\tleft: 'prev,today,next',\r\n\t\t\tcenter: 'title',\r\n\t\t\tright: 'listMonth,dayGridMonth'\r\n\t\t},\r\n\t\tfixedWeekCount: false,\r\n\r\n\t\tvalidRange: {\r\n\t\t\tstart: calendarJS.start,\r\n\t\t\tend: calendarJS.end\r\n\t\t},\r\n\t\tinitialView: (function () {\r\n\t\t\treturn 'listMonth';\r\n\t\t\t/* sets default view based on window size\r\n\t\t\tif ($(window).width() <= 768) {\r\n\t\t\t\treturn 'listMonth';\r\n\t\t\t} else {\r\n\t\t\t\treturn 'dayGridMonth';\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t})(),\r\n\r\n\t\tevents: calendarJS.sessions,\r\n\t\theight: \"auto\",\r\n\t\tdatesSet: function (info) {\r\n\t\t\t$('#calendar_month').text(info.view.title);\r\n\t\t\t$('.fc-header-toolbar .fc-toolbar-title').addClass('d-none d-md-block');\r\n\t\t\t$('.fc-list-event').addClass('cursor-pointer');\r\n\t\t\tif($('.title-exists').length == 0)\r\n\t\t\t$('.fc-list-day .fc-list-day-text').append('<span class=\"font-weight-normal font-size-small d-none d-md-inline title-exists\"> - Select a session below to get started</span>');\r\n\t\t},\r\n\t\teventContent: function(arg, createElement){\r\n\t\t\t$('#calendar_results').empty();\r\n\r\n\t\t\treturn createElement('i', {}, '');\r\n\t\t},\r\n\t\teventDidMount: function (info) {\r\n\r\n\t\t\t$('#calendar_results').empty();\r\n\r\n\t\t\tif(info.view.type=='dayGridMonth'){\r\n\r\n\t\t\t\t$(info.el).addClass('d-none');\r\n\r\n\t\t\tif($('.fc-daygrid-day-events').children().length > 0){\r\n\r\n\t\t\t\t$('.fc-daygrid-day-events').children().parent().text('Times');\r\n\t\t\t\t$('.fc-daygrid-day-events').addClass('text-center h6 text-decoration-underline cursor-pointer font-weight-semi-bold text-break');\r\n\r\n\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (info.view.type == 'listMonth') {\r\n\r\n\t\t\t\tif (info.event.extendedProps.remaining_slots <= 0) {\r\n\t\t\t\t\tvar title = '<span class=\"text-decoration-none text-capitalize\">' + info.event.title + '</span>';\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar title = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!$.isEmptyObject(info.event.extendedProps)) {\r\n\t\t\t\t\t//triggers if the session has no remaining slots\r\n\r\n\t\t\t\t\tif (info.event.extendedProps.remaining_slots <= 0) {\r\n\t\t\t\t\t\t//change the list element to gray to indicate no available slots are left\r\n\t\t\t\t\t\t$(info.el).find('.fc-list-event-title').addClass('text-gray-med');\r\n\t\t\t\t\t\t$(info.el).find('.fc-list-event-time').addClass('text-gray-med');\r\n\t\t\t\t\t\t$(info.el).find('.fc-list-event-dot').removeClass('fc-list-event-dot');\r\n\r\n\t\t\t\t\t\t//prevent mouseover interactions from events that the user cant join\r\n\t\t\t\t\t\t$(info.el).removeClass('cursor-pointer');\r\n\t\t\t\t\t\t$(info.el).removeClass('fc-event-session-made_for_you');\r\n\t\t\t\t\t\t$(info.el).removeClass('fc-event-future');\r\n\t\t\t\t\t\t$(info.el).removeClass('fc-event');\r\n\t\t\t\t\t\t$(info.el).removeClass('fc-list-event');\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif ($.isNumeric(info.event.extendedProps.session_count)) {\r\n\t\t\t\t\t\ttitle = info.event.title + '<span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.session_count + ' session' + ((info.event.extendedProps.session_count != 1) ? 's' : '') + ' available</span></span>';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!$.isEmptyObject(info.event.extendedProps.session_title) && info.event.extendedProps.session_title != info.event.title) {\r\n\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.session_title + '</span></span>';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ([\r\n\t\t\t\t\t\t'REMOTE_PICKUP',\r\n\t\t\t\t\t\t'REMOTE_PICKUP_PRIVATE'\r\n\t\t\t\t\t].includes(info.event.extendedProps.session_type_true)) {\r\n\t\t\t\t\t\tif (info.event.extendedProps.session_remote_pickup) {\r\n\t\t\t\t\t\t\tif (info.event.extendedProps.session_type_true == 'REMOTE_PICKUP_PRIVATE') {\r\n\t\t\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\"> Private event hosted by ' + info.event.extendedProps.session_host_informal_name + '</span></span>';\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.session_title + '</span><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.session_remote_pickup + '</span></span>';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (['FUNDRAISER'].includes(info.event.extendedProps.session_type_true)) {\r\n\t\t\t\t\t\tif (info.event.extendedProps.fundraiser_name) {\r\n\t\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">Benefits ' + info.event.extendedProps.fundraiser_name + '</span></span>';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ([\r\n\t\t\t\t\t\t'DREAM_TASTE',\r\n\t\t\t\t\t\t'PRIVATE_SESSION'\r\n\t\t\t\t\t].includes(info.event.extendedProps.session_type_true)) {\r\n\t\t\t\t\t\tif (info.event.extendedProps.session_host_informal_name) {\r\n\t\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">Hosted by ' + info.event.extendedProps.session_host_informal_name + '</span></span>';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ($.isNumeric(info.event.extendedProps.remaining_slots)) {\r\n\t\t\t\t\ttitle += '<span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.remaining_slots + ' spot' + ((info.event.extendedProps.remaining_slots != 1) ? 's' : '') + ' remaining</span></span>';\r\n\r\n\t\t\t\t\tif ([\r\n\t\t\t\t\t\t'STANDARD'\r\n\t\t\t\t\t].includes(info.event.extendedProps.session_type_true)) {\r\n\t\t\t\t\t\ttitle += '<span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.remaining_intro_slots + ' Starter Pack spot' + ((info.event.extendedProps.remaining_intro_slots != 1) ? 's' : '') + ' remaining</span></span>';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (info.event.extendedProps.is_open_for_customization)\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle += '&nbsp;<i class=\"dd-icon icon-customize text-orange font-size-small\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Customization options available at checkout\"></i>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(info.el).find('.fc-list-event-title').html(title);\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t,\r\n\r\n\t\teventClick: function (info) {\r\n\r\n\t\t\tif (info.event.extendedProps.remaining_slots <= 0) {\r\n\t\t\t\t//disables link clicking on calendar elements\r\n\t\t\t\tinfo.jsEvent.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tif (info.event.extendedProps.eventType === 'session') {\r\n\t\t\t\t\tif (!info.event.extendedProps.session_has_password) {\r\n\t\t\t\t\t\twindow.location.href = '/main.php?page=session&ref=store&sid=' + info.event.extendedProps.id;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbootbox.prompt(\"This event requires an invite code.\", function (result) {\r\n\r\n\t\t\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\t\t\tvar session_id = info.event.extendedProps.id;\r\n\t\t\t\t\t\t\t\tvar pwd = result.trim();\r\n\r\n\t\t\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\t\t\turl: 'ddproc.php',\r\n\t\t\t\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tprocessor: 'cart_session_processor',\r\n\t\t\t\t\t\t\t\t\t\top: 'save',\r\n\t\t\t\t\t\t\t\t\t\tpwd: pwd,\r\n\t\t\t\t\t\t\t\t\t\tsid: session_id\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess: function (json) {\r\n\t\t\t\t\t\t\t\t\t\tif (json.result_code == 1) {\r\n\t\t\t\t\t\t\t\t\t\t\tbounce('main.php?page=session_menu');\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tbootbox.alert(json.processor_message)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\terror: function (objAJAXRequest, strError) {\r\n\t\t\t\t\t\t\t\t\t\tbootbox.alert('Unexpected error')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t,\r\n\t\teventMouseEnter: function (info) {\r\n\t\t\tif (info.view.type == 'listMonth' && info.event.extendedProps.eventType === 'session') {\r\n\t\t\t\t$(info.el).addClass('bg-gray-light');\r\n\t\t\t}\r\n\t\t}\r\n\t\t,\r\n\t\teventMouseLeave: function (info) {\r\n\t\t\tif (info.view.type == 'listMonth' && info.event.extendedProps.eventType === 'session') {\r\n\r\n\t\t\t\t$(info.el).removeClass('bg-gray-light');\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\t,\r\n\r\n\t\tdateClick: function (info) {\r\n\t\t\t$('#calendar_results').empty();\r\n\t\t\t// change the day's background color just for fun\r\n\t\t\t//info.dayEl.style.backgroundColor = 'red';\r\n\r\n\t\t\t//arrays for filtering out the events and properties that we need\r\n\t\t\tevents = calendar.getEvents();\r\n\r\n\t\t\tsavedEvents = [];\r\n\t\t\tsavedIds = [];\r\n\t\t\tsavedTypes = [];\r\n\t\t\tsavedSessionHasPwds = [];\r\n\t\t\tsavedEventNotes = [];\r\n\t\t\t//loop through given events to see if dates match the clicked date on calendar\r\n\t\t\tfor(i =0; i<events.length; i++){\r\n\t\t\t\t//comparing dates\r\n\t\t\t\tif(strcmp(events[i].start.toLocaleDateString().trim(), info.date.toLocaleDateString().trim())==0){\r\n\r\n\t\t\t\t\t//load dates into array\r\n\t\t\t\t\t\tsavedEvents.push(events[i]);\r\n\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\teventsString = '';\r\n\t\t\tfor(i = 0; i< savedEvents.length; i++){\r\n\t\t\t\t//2digit time for calendar results appended to the eventsString\r\n\t\t\t\tdate = savedEvents[i].start.toLocaleTimeString(\"en-gb\", {  hour: \"2-digit\", minute: \"2-digit\", hour12:true });\r\n\t\t\t\tif(strcmp(date.charAt(0),'0')==0){\r\n\t\t\t\t\tdate = date.replace('0', '');\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif(strcmp(date,\"0:00 pm\") == 0){\r\n\r\n\t\t\t\t\teventsString += \"12:00 pm, \" + savedEvents[i].title;\r\n\t\t\t\t}else if(strcmp(date,\"0:00 am\") == 0){\r\n\t\t\t\t\teventsString += \"12:00 am, \" + savedEvents[i].title;\r\n\t\t\t\t}else if(strcmp(date,\"0:30 pm\") == 0){\r\n\t\t\t\t\teventsString += \"12:30 pm, \" + savedEvents[i].title;\r\n\t\t\t\t}else if(strcmp(date,\"0:30 am\") == 0){\r\n\t\t\t\t\teventsString += \"12:30 am, \" + savedEvents[i].title;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\teventsString += date + \",\" + \" \" + savedEvents[i].title;\r\n\t\t\t\t}\r\n\t\t\t\t//need session event id for button link later\r\n\t\t\t\tsavedIds[i] = savedEvents[i].extendedProps.id;\r\n\t\t\t\t//need to know if the session has a password for button link later\r\n\t\t\t\tsavedSessionHasPwds[i] = savedEvents[i].extendedProps.session_has_password;\r\n\t\t\t\t//need type of event for button link later\r\n\t\t\t\tsavedTypes[i] = savedEvents[i].extendedProps.eventType;\r\n\t\t\t\tsavedEventNotes[i] = savedEvents[i].extendedProps.session_title;\r\n\t\t\t\tif(savedEvents[i].extendedProps.remaining_slots!= null){\r\n\t\t\t\t\t//append remaining slots to the eventsString with | character for usage of split() function\r\n\t\t\t\t\teventsString+= \", Remaining Slots: \" + savedEvents[i].extendedProps.remaining_slots + '|';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//split the extracted data from eventsString by defined | character\r\n\t\t\teventsToList = eventsString.split('|');\r\n\t\t\tfinalEvents= eventsToList.toString().split(',');\r\n\r\n\t\t\t//secondary counting variable\r\n\t\t\tcounter = 0;\r\n\t\t\tif(eventsToList.length==1){\r\n\r\n\t\t\t}else {\r\n\t\t\t\t//remove last index: the array always has 1 too many from the | insertion\r\n\t\t\t\teventsToList.pop();\r\n\t\t\t}\r\n\t\t\t//general Date title for calendar results\r\n\t\t\tvar output = '<h5 class=\"text-capitalize font-weight-bold mt-4\" >'+\r\n\t\t\t\tinfo.date.toLocaleDateString(\"en-gb\", { weekday: \"long\", year: \"numeric\", month: \"short\", day: \"numeric\" }) +\r\n\t\t\t\t'</h5><br>';\r\n\t\t\t//this loop counts by 3's since each event has 3 properties that need to be listed and the arrays we've created allow for us to do that\r\n\t\t\tfor(i = 0; i<finalEvents.length; i+=3){\r\n\r\n\t\t\t\t//a check to make sure it is less than 3, which means its the menu announcement event which doesnt follow the same logic as an actual event.\r\n\t\t\t\tif(finalEvents.length == 2){\r\n\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block w-25\" >' + finalEvents[i] + '</p>';\r\n\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block w-50\">' + finalEvents[i + 1] + '</p>';\r\n\t\t\t\t}else {\r\n\t\t\t\t\t//this grabs the Date of the event and checks to see if the event is still open to the customer via the extendedProperty.remaining_slots\r\n\t\t\t\t\tif (finalEvents[i] !== undefined && finalEvents[i + 2] !== undefined) {\r\n\r\n\t\t\t\t\t\tif (strcmp(finalEvents[i + 2].trim(), \"Remaining Slots: 0\") == 0) {\r\n\t\t\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block text-gray-med w-25\">' + finalEvents[i] + '</p>';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block w-25\">' + finalEvents[i] + '</p>';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//this grabs the title of the event and checks to see if the event is still open to the customer via the extendedProperty.remaining_slots\r\n\t\t\t\t\tif (finalEvents[i + 1] !== undefined && finalEvents[i + 2] !== undefined) {\r\n\t\t\t\t\t\tif (strcmp(finalEvents[i + 2].trim(), \"Remaining Slots: 0\") == 0) {\r\n\t\t\t\t\t\t\toutput += '<p href=\"#\" id=\"calendarResultsBtn${counter}\" class=\"h6 text-left d-inline-block text-gray-med btn text-uppercase w-50 disabled\">' + finalEvents[i + 1] + '</p>';\r\n\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif(savedEventNotes[counter]===\"\"){\r\n\t\t\t\t\t\t\t\toutput += `<p id=\"calendarResultsBtn${counter}\" class=\"h6 text-left d-inline-block btn btn-link text-decoration-underline cursor-pointer w-50\">` + finalEvents[i+1]+`</p>`;\r\n\t\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\toutput += `<p id=\"calendarResultsBtn${counter}\" class=\"h6 text-left d-inline-block btn btn-link text-decoration-underline cursor-pointer w-50\"><br>` + finalEvents[i + 1] + '<br><label class=\"h6 text-capitalize text-dark font-size-small\" id=\"notes\">' + ' ' + savedEventNotes[counter] + '</label>' + `</p>`;\r\n\t\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//this grabs the remaining slots for the event and checks if the event is still open to the customer via the extendedProperty.remaining_slots\r\n\t\t\t\t\tif (finalEvents[i + 2] !== undefined) {\r\n\t\t\t\t\t\tif (strcmp(finalEvents[i + 2].trim(), \"Remaining Slots: 0\") == 0) {\r\n\t\t\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block text-gray-med w-25\">' + finalEvents[i + 2].replace('Slots', 'Spots') + '</p><hr/>';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block w-25\">' + finalEvents[i + 2].replace('Slots', 'Spots') + '</p><hr/>';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//output the elements we've created to the calendar_results below the calendar\r\n\t\t\t$('#calendar_results').html(output);\r\n\r\n\t\t\tfor(i = 0; i<counter; i++) {\r\n\t\t\t\t//on click function for the links in calender_results, checks the elements id and matches it to the saved property arrays from the top of function\r\n\t\t\t\t//and fires the onclick function eventClickCalendar that runs the location to the new page via the event id\r\n\t\t\t\t$(\"#calendarResultsBtn\"+i).on(\"click\", function (){\r\n\t\t\t\t\teventClickCalendar(savedTypes[parseInt($(this).attr('id').slice(-1),10)], savedSessionHasPwds[parseInt($(this).attr('id').slice(-1),10)], savedIds[parseInt($(this).attr('id').slice(-1),10)]);\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t\t$('html, body').animate({\r\n\t\t\t\tscrollTop: $('#calendar_results').offset().top\r\n\t\t\t}, 2000);\r\n\r\n\r\n\t\t}});\r\n\r\n\tcalendar.render();\r\n\r\n});\r\n\r\n\r\n//utility function to compare strings\r\nfunction strcmp(a, b) {\r\n\tif (a.toString() < b.toString()) return -1;\r\n\tif (a.toString() > b.toString()) return 1;\r\n\treturn 0;\r\n}\r\n\r\n//derived from eventClick function, altered to allow for variables instead of the info from FullCalendar\r\nfunction eventClickCalendar(eventType, sessionPassword, id) {\r\n\r\n\t\tif (eventType === 'session') {\r\n\t\t\tif (!sessionPassword) {\r\n\t\t\t\twindow.location.href = '/main.php?page=session&ref=store&sid=' + id;\r\n\t\t\t} else {\r\n\t\t\t\tbootbox.prompt(\"This event requires an invite code.\", function (result) {\r\n\t\t\t\t\tif (result) {\r\n\r\n\t\t\t\t\t\tvar session_id = id;\r\n\t\t\t\t\t\tvar pwd = result.trim();\r\n\r\n\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\turl: 'ddproc.php',\r\n\t\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tprocessor: 'cart_session_processor',\r\n\t\t\t\t\t\t\t\top: 'save',\r\n\t\t\t\t\t\t\t\tpwd: pwd,\r\n\t\t\t\t\t\t\t\tsid: session_id\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: function (json) {\r\n\r\n\t\t\t\t\t\t\t\tif (json.result_code == 1) {\r\n\t\t\t\t\t\t\t\t\tbounce('main.php?page=session_menu');\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tbootbox.alert(json.processor_message)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function (objAJAXRequest, strError) {\r\n\t\t\t\t\t\t\t\tbootbox.alert('Unexpected error')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n}"],"names":["document","addEventListener","calendar","FullCalendar","Calendar","getElementById","aspectRatio","$","window","width","themeSystem","headerToolbar","left","center","right","fixedWeekCount","validRange","start","calendarJS","end","initialView","events","sessions","height","datesSet","info","text","view","title","addClass","length","append","eventContent","arg","createElement","empty","eventDidMount","type","el","children","parent","event","extendedProps","remaining_slots","isEmptyObject","find","removeClass","isNumeric","session_count","session_title","includes","session_type_true","session_remote_pickup","session_host_informal_name","fundraiser_name","remaining_intro_slots","is_open_for_customization","html","eventClick","jsEvent","preventDefault","eventType","session_has_password","location","href","id","bootbox","prompt","result","session_id","pwd","trim","ajax","url","timeout","dataType","data","processor","op","sid","success","json","result_code","bounce","alert","processor_message","error","objAJAXRequest","strError","eventMouseEnter","eventMouseLeave","dateClick","getEvents","savedEvents","savedIds","savedTypes","savedSessionHasPwds","savedEventNotes","i","strcmp","toLocaleDateString","date","push","eventsString","toLocaleTimeString","hour","minute","hour12","charAt","replace","eventsToList","split","finalEvents","toString","counter","pop","output","weekday","year","month","day","undefined","on","eventClickCalendar","parseInt","this","attr","slice","animate","scrollTop","offset","top","render","a","b","sessionPassword"],"mappings":"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"}