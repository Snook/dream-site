{"version":3,"file":"store.min.js","names":["strcmp","a","b","toString","eventClickCalendar","eventType","sessionPassword","id","bootbox","prompt","result","session_id","pwd","trim","$","ajax","url","type","timeout","dataType","data","processor","op","sid","success","json","result_code","bounce","alert","processor_message","error","objAJAXRequest","strError","window","location","href","document","addEventListener","calendar","FullCalendar","Calendar","getElementById","aspectRatio","width","themeSystem","headerToolbar","left","center","right","fixedWeekCount","validRange","start","calendarJS","end","initialView","events","sessions","height","datesSet","info","text","view","title","addClass","length","append","eventContent","arg","createElement","empty","eventDidMount","el","children","parent","event","extendedProps","remaining_slots","isEmptyObject","find","removeClass","isNumeric","session_count","session_title","includes","session_type_true","session_remote_pickup","session_host_informal_name","fundraiser_name","remaining_intro_slots","is_open_for_customization","html","eventClick","jsEvent","preventDefault","session_has_password","eventMouseEnter","eventMouseLeave","dateClick","getEvents","savedEvents","savedIds","savedTypes","savedSessionHasPwds","savedEventNotes","i","toLocaleDateString","date","push","eventsString","toLocaleTimeString","hour","minute","hour12","charAt","replace","eventsToList","split","finalEvents","counter","pop","output","weekday","year","month","day","undefined","on","parseInt","this","attr","slice","animate","scrollTop","offset","top","render"],"sourceRoot":"js/src/dreamdinners/customer","sources":["store.js"],"sourcesContent":["// fullcalendar handler\ndocument.addEventListener('DOMContentLoaded', function () {\n\n\tvar calendar = new FullCalendar.Calendar(document.getElementById('calendar'), {\n\t\taspectRatio: (function () {\n\t\t\tif ($(window).width() > 768)\n\t\t\t{\n\t\t\t\treturn 2;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 1.35;\n\t\t\t}\n\t\t})(),\n\t\tthemeSystem: 'bootstrap',\n\t\theaderToolbar: {\n\t\t\tleft: 'prev,today,next',\n\t\t\tcenter: 'title',\n\t\t\tright: 'listMonth,dayGridMonth'\n\t\t},\n\t\tfixedWeekCount: false,\n\n\t\tvalidRange: {\n\t\t\tstart: calendarJS.start,\n\t\t\tend: calendarJS.end\n\t\t},\n\t\tinitialView: (function () {\n\t\t\treturn 'listMonth';\n\t\t\t/* sets default view based on window size\n\t\t\tif ($(window).width() <= 768) {\n\t\t\t\treturn 'listMonth';\n\t\t\t} else {\n\t\t\t\treturn 'dayGridMonth';\n\t\t\t}\n\t\t\t*/\n\t\t})(),\n\n\t\tevents: calendarJS.sessions,\n\t\theight: \"auto\",\n\t\tdatesSet: function (info) {\n\t\t\t$('#calendar_month').text(info.view.title);\n\t\t\t$('.fc-header-toolbar .fc-toolbar-title').addClass('d-none d-md-block');\n\t\t\t$('.fc-list-event').addClass('cursor-pointer');\n\t\t\tif ($('.title-exists').length == 0)\n\t\t\t{\n\t\t\t\t$('.fc-list-day .fc-list-day-text').append('<span class=\"font-weight-normal font-size-small d-none d-md-inline title-exists\"> - Select a time below to get started</span>');\n\t\t\t}\n\t\t},\n\t\teventContent: function (arg, createElement) {\n\t\t\t$('#calendar_results').empty();\n\n\t\t\treturn createElement('i', {}, '');\n\t\t},\n\t\teventDidMount: function (info) {\n\n\t\t\t$('#calendar_results').empty();\n\n\t\t\tif (info.view.type == 'dayGridMonth')\n\t\t\t{\n\n\t\t\t\t$(info.el).addClass('d-none');\n\n\t\t\t\tif ($('.fc-daygrid-day-events').children().length > 0)\n\t\t\t\t{\n\n\t\t\t\t\t$('.fc-daygrid-day-events').children().parent().text('Times');\n\t\t\t\t\t$('.fc-daygrid-day-events').addClass('text-center h6 text-decoration-underline cursor-pointer font-weight-semi-bold text-break');\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif (info.view.type == 'listMonth')\n\t\t\t{\n\n\t\t\t\tif (info.event.extendedProps.remaining_slots <= 0)\n\t\t\t\t{\n\t\t\t\t\tvar title = '<span class=\"text-decoration-none text-capitalize\">' + info.event.title + '</span>';\n\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar title = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span>';\n\t\t\t\t}\n\n\t\t\t\tif (!$.isEmptyObject(info.event.extendedProps))\n\t\t\t\t{\n\t\t\t\t\t//triggers if the session has no remaining slots\n\n\t\t\t\t\tif (info.event.extendedProps.remaining_slots <= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\t//change the list element to gray to indicate no available slots are left\n\t\t\t\t\t\t$(info.el).find('.fc-list-event-title').addClass('text-gray-med');\n\t\t\t\t\t\t$(info.el).find('.fc-list-event-time').addClass('text-gray-med');\n\t\t\t\t\t\t$(info.el).find('.fc-list-event-dot').removeClass('fc-list-event-dot');\n\n\t\t\t\t\t\t//prevent mouseover interactions from events that the user cant join\n\t\t\t\t\t\t$(info.el).removeClass('cursor-pointer');\n\t\t\t\t\t\t$(info.el).removeClass('fc-event-session-made_for_you');\n\t\t\t\t\t\t$(info.el).removeClass('fc-event-future');\n\t\t\t\t\t\t$(info.el).removeClass('fc-event');\n\t\t\t\t\t\t$(info.el).removeClass('fc-list-event');\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($.isNumeric(info.event.extendedProps.session_count))\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle = info.event.title + '<span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.session_count + ' session' + ((info.event.extendedProps.session_count != 1) ? 's' : '') + ' available</span></span>';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!$.isEmptyObject(info.event.extendedProps.session_title) && info.event.extendedProps.session_title != info.event.title)\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.session_title + '</span></span>';\n\t\t\t\t\t}\n\n\t\t\t\t\tif ([\n\t\t\t\t\t\t'REMOTE_PICKUP',\n\t\t\t\t\t\t'REMOTE_PICKUP_PRIVATE'\n\t\t\t\t\t].includes(info.event.extendedProps.session_type_true))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (info.event.extendedProps.session_remote_pickup)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (info.event.extendedProps.session_type_true == 'REMOTE_PICKUP_PRIVATE')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\"> Private event hosted by ' + info.event.extendedProps.session_host_informal_name + '</span></span>';\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.session_title + '</span><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.session_remote_pickup + '</span></span>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (['FUNDRAISER'].includes(info.event.extendedProps.session_type_true))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (info.event.extendedProps.fundraiser_name)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">Benefits ' + info.event.extendedProps.fundraiser_name + '</span></span>';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ([\n\t\t\t\t\t\t'DREAM_TASTE',\n\t\t\t\t\t\t'PRIVATE_SESSION'\n\t\t\t\t\t].includes(info.event.extendedProps.session_type_true))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (info.event.extendedProps.session_host_informal_name)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">Hosted by ' + info.event.extendedProps.session_host_informal_name + '</span></span>';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ($.isNumeric(info.event.extendedProps.remaining_slots))\n\t\t\t\t{\n\t\t\t\t\ttitle += '<span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.remaining_slots + ' spot' + ((info.event.extendedProps.remaining_slots != 1) ? 's' : '') + ' remaining</span></span>';\n\n\t\t\t\t\tif ([\n\t\t\t\t\t\t'STANDARD'\n\t\t\t\t\t].includes(info.event.extendedProps.session_type_true))\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle += '<span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.remaining_intro_slots + ' Starter Pack spot' + ((info.event.extendedProps.remaining_intro_slots != 1) ? 's' : '') + ' remaining</span></span>';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (info.event.extendedProps.is_open_for_customization)\n\t\t\t\t{\n\t\t\t\t\ttitle += '&nbsp;<i class=\"dd-icon icon-customize text-orange font-size-small\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Customization options available at checkout\"></i>';\n\t\t\t\t}\n\n\t\t\t\t$(info.el).find('.fc-list-event-title').html(title);\n\t\t\t}\n\t\t}\n\t\t,\n\n\t\teventClick: function (info) {\n\n\t\t\tif (info.event.extendedProps.remaining_slots <= 0)\n\t\t\t{\n\t\t\t\t//disables link clicking on calendar elements\n\t\t\t\tinfo.jsEvent.preventDefault();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (info.event.extendedProps.eventType === 'session')\n\t\t\t\t{\n\t\t\t\t\tif (!info.event.extendedProps.session_has_password)\n\t\t\t\t\t{\n\t\t\t\t\t\twindow.location.href = '/session?ref=store&sid=' + info.event.extendedProps.id;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tbootbox.prompt(\"This event requires an invite code.\", function (result) {\n\n\t\t\t\t\t\t\tif (result)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvar session_id = info.event.extendedProps.id;\n\t\t\t\t\t\t\t\tvar pwd = result.trim();\n\n\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\turl: '/processor',\n\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\ttimeout: 20000,\n\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\tprocessor: 'cart_session_processor',\n\t\t\t\t\t\t\t\t\t\top: 'save',\n\t\t\t\t\t\t\t\t\t\tpwd: pwd,\n\t\t\t\t\t\t\t\t\t\tsid: session_id\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tsuccess: function (json) {\n\t\t\t\t\t\t\t\t\t\tif (json.result_code == 1)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tbounce('/session-menu');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tbootbox.alert(json.processor_message)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\terror: function (objAJAXRequest, strError) {\n\t\t\t\t\t\t\t\t\t\tbootbox.alert('Unexpected error')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t,\n\t\teventMouseEnter: function (info) {\n\t\t\tif (info.view.type == 'listMonth' && info.event.extendedProps.eventType === 'session')\n\t\t\t{\n\t\t\t\t$(info.el).addClass('bg-gray-light');\n\t\t\t}\n\t\t}\n\t\t,\n\t\teventMouseLeave: function (info) {\n\t\t\tif (info.view.type == 'listMonth' && info.event.extendedProps.eventType === 'session')\n\t\t\t{\n\n\t\t\t\t$(info.el).removeClass('bg-gray-light');\n\n\t\t\t}\n\t\t}\n\t\t,\n\n\t\tdateClick: function (info) {\n\t\t\t$('#calendar_results').empty();\n\t\t\t// change the day's background color just for fun\n\t\t\t//info.dayEl.style.backgroundColor = 'red';\n\n\t\t\t//arrays for filtering out the events and properties that we need\n\t\t\tevents = calendar.getEvents();\n\n\t\t\tsavedEvents = [];\n\t\t\tsavedIds = [];\n\t\t\tsavedTypes = [];\n\t\t\tsavedSessionHasPwds = [];\n\t\t\tsavedEventNotes = [];\n\t\t\t//loop through given events to see if dates match the clicked date on calendar\n\t\t\tfor (i = 0; i < events.length; i++)\n\t\t\t{\n\t\t\t\t//comparing dates\n\t\t\t\tif (strcmp(events[i].start.toLocaleDateString().trim(), info.date.toLocaleDateString().trim()) == 0)\n\t\t\t\t{\n\n\t\t\t\t\t//load dates into array\n\t\t\t\t\tsavedEvents.push(events[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\teventsString = '';\n\t\t\tfor (i = 0; i < savedEvents.length; i++)\n\t\t\t{\n\t\t\t\t//2digit time for calendar results appended to the eventsString\n\t\t\t\tdate = savedEvents[i].start.toLocaleTimeString(\"en-gb\", {\n\t\t\t\t\thour: \"2-digit\",\n\t\t\t\t\tminute: \"2-digit\",\n\t\t\t\t\thour12: true\n\t\t\t\t});\n\t\t\t\tif (strcmp(date.charAt(0), '0') == 0)\n\t\t\t\t{\n\t\t\t\t\tdate = date.replace('0', '');\n\n\t\t\t\t}\n\t\t\t\tif (strcmp(date, \"0:00 pm\") == 0)\n\t\t\t\t{\n\n\t\t\t\t\teventsString += \"12:00 pm, \" + savedEvents[i].title;\n\t\t\t\t}\n\t\t\t\telse if (strcmp(date, \"0:00 am\") == 0)\n\t\t\t\t{\n\t\t\t\t\teventsString += \"12:00 am, \" + savedEvents[i].title;\n\t\t\t\t}\n\t\t\t\telse if (strcmp(date, \"0:30 pm\") == 0)\n\t\t\t\t{\n\t\t\t\t\teventsString += \"12:30 pm, \" + savedEvents[i].title;\n\t\t\t\t}\n\t\t\t\telse if (strcmp(date, \"0:30 am\") == 0)\n\t\t\t\t{\n\t\t\t\t\teventsString += \"12:30 am, \" + savedEvents[i].title;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\teventsString += date + \",\" + \" \" + savedEvents[i].title;\n\t\t\t\t}\n\t\t\t\t//need session event id for button link later\n\t\t\t\tsavedIds[i] = savedEvents[i].extendedProps.id;\n\t\t\t\t//need to know if the session has a password for button link later\n\t\t\t\tsavedSessionHasPwds[i] = savedEvents[i].extendedProps.session_has_password;\n\t\t\t\t//need type of event for button link later\n\t\t\t\tsavedTypes[i] = savedEvents[i].extendedProps.eventType;\n\t\t\t\tsavedEventNotes[i] = savedEvents[i].extendedProps.session_title;\n\t\t\t\tif (savedEvents[i].extendedProps.remaining_slots != null)\n\t\t\t\t{\n\t\t\t\t\t//append remaining slots to the eventsString with | character for usage of split() function\n\t\t\t\t\teventsString += \", Remaining Slots: \" + savedEvents[i].extendedProps.remaining_slots + '|';\n\t\t\t\t}\n\t\t\t}\n\t\t\t//split the extracted data from eventsString by defined | character\n\t\t\teventsToList = eventsString.split('|');\n\t\t\tfinalEvents = eventsToList.toString().split(',');\n\n\t\t\t//secondary counting variable\n\t\t\tcounter = 0;\n\t\t\tif (eventsToList.length == 1)\n\t\t\t{\n\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t//remove last index: the array always has 1 too many from the | insertion\n\t\t\t\teventsToList.pop();\n\t\t\t}\n\t\t\t//general Date title for calendar results\n\t\t\tvar output = '<h5 class=\"text-capitalize font-weight-bold mt-4\" >' +\n\t\t\t\tinfo.date.toLocaleDateString(\"en-gb\", {\n\t\t\t\t\tweekday: \"long\",\n\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t\tmonth: \"short\",\n\t\t\t\t\tday: \"numeric\"\n\t\t\t\t}) +\n\t\t\t\t'</h5><br>';\n\t\t\t//this loop counts by 3's since each event has 3 properties that need to be listed and the arrays we've created allow for us to do that\n\t\t\tfor (i = 0; i < finalEvents.length; i += 3)\n\t\t\t{\n\n\t\t\t\t//a check to make sure it is less than 3, which means its the menu announcement event which doesnt follow the same logic as an actual event.\n\t\t\t\tif (finalEvents.length == 2)\n\t\t\t\t{\n\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block w-25\" >' + finalEvents[i] + '</p>';\n\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block w-50\">' + finalEvents[i + 1] + '</p>';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t//this grabs the Date of the event and checks to see if the event is still open to the customer via the extendedProperty.remaining_slots\n\t\t\t\t\tif (finalEvents[i] !== undefined && finalEvents[i + 2] !== undefined)\n\t\t\t\t\t{\n\n\t\t\t\t\t\tif (strcmp(finalEvents[i + 2].trim(), \"Remaining Slots: 0\") == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block text-gray-med w-25\">' + finalEvents[i] + '</p>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block w-25\">' + finalEvents[i] + '</p>';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//this grabs the title of the event and checks to see if the event is still open to the customer via the extendedProperty.remaining_slots\n\t\t\t\t\tif (finalEvents[i + 1] !== undefined && finalEvents[i + 2] !== undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (strcmp(finalEvents[i + 2].trim(), \"Remaining Slots: 0\") == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toutput += '<p href=\"#\" id=\"calendarResultsBtn${counter}\" class=\"h6 text-left d-inline-block text-gray-med btn text-uppercase w-50 disabled\">' + finalEvents[i + 1] + '</p>';\n\t\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (savedEventNotes[counter] === \"\")\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\toutput += `<p id=\"calendarResultsBtn${counter}\" class=\"h6 text-left d-inline-block btn btn-link text-decoration-underline cursor-pointer w-50\">` + finalEvents[i + 1] + `</p>`;\n\t\t\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\toutput += `<p id=\"calendarResultsBtn${counter}\" class=\"h6 text-left d-inline-block btn btn-link text-decoration-underline cursor-pointer w-50\"><br>` + finalEvents[i + 1] + '<br><label class=\"h6 text-capitalize text-dark font-size-small\" id=\"notes\">' + ' ' + savedEventNotes[counter] + '</label>' + `</p>`;\n\t\t\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\t//this grabs the remaining slots for the event and checks if the event is still open to the customer via the extendedProperty.remaining_slots\n\t\t\t\t\tif (finalEvents[i + 2] !== undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (strcmp(finalEvents[i + 2].trim(), \"Remaining Slots: 0\") == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block text-gray-med w-25\">' + finalEvents[i + 2].replace('Slots', 'Spots') + '</p><hr/>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block w-25\">' + finalEvents[i + 2].replace('Slots', 'Spots') + '</p><hr/>';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//output the elements we've created to the calendar_results below the calendar\n\t\t\t$('#calendar_results').html(output);\n\n\t\t\tfor (i = 0; i < counter; i++)\n\t\t\t{\n\t\t\t\t//on click function for the links in calender_results, checks the elements id and matches it to the saved property arrays from the top of function\n\t\t\t\t//and fires the onclick function eventClickCalendar that runs the location to the new page via the event id\n\t\t\t\t$(\"#calendarResultsBtn\" + i).on(\"click\", function () {\n\t\t\t\t\teventClickCalendar(savedTypes[parseInt($(this).attr('id').slice(-1), 10)], savedSessionHasPwds[parseInt($(this).attr('id').slice(-1), 10)], savedIds[parseInt($(this).attr('id').slice(-1), 10)]);\n\t\t\t\t});\n\n\t\t\t}\n\t\t\t$('html, body').animate({\n\t\t\t\tscrollTop: $('#calendar_results').offset().top\n\t\t\t}, 2000);\n\n\t\t}\n\t});\n\n\tcalendar.render();\n\n});\n\n//utility function to compare strings\nfunction strcmp(a, b)\n{\n\tif (a.toString() < b.toString())\n\t{\n\t\treturn -1;\n\t}\n\tif (a.toString() > b.toString())\n\t{\n\t\treturn 1;\n\t}\n\treturn 0;\n}\n\n//derived from eventClick function, altered to allow for variables instead of the info from FullCalendar\nfunction eventClickCalendar(eventType, sessionPassword, id)\n{\n\n\tif (eventType === 'session')\n\t{\n\t\tif (!sessionPassword)\n\t\t{\n\t\t\twindow.location.href = '/session?ref=store&sid=' + id;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbootbox.prompt(\"This event requires an invite code.\", function (result) {\n\t\t\t\tif (result)\n\t\t\t\t{\n\n\t\t\t\t\tvar session_id = id;\n\t\t\t\t\tvar pwd = result.trim();\n\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\turl: '/processor',\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\ttimeout: 20000,\n\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tprocessor: 'cart_session_processor',\n\t\t\t\t\t\t\top: 'save',\n\t\t\t\t\t\t\tpwd: pwd,\n\t\t\t\t\t\t\tsid: session_id\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function (json) {\n\n\t\t\t\t\t\t\tif (json.result_code == 1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbounce('/session-menu');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbootbox.alert(json.processor_message)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function (objAJAXRequest, strError) {\n\t\t\t\t\t\t\tbootbox.alert('Unexpected error')\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t});\n\t\t}\n\t}\n}"],"mappings":"AAkbA,SAASA,OAAOC,EAAGC,GAElB,OAAID,EAAEE,WAAaD,EAAEC,YAEZ,EAELF,EAAEE,WAAaD,EAAEC,WAEb,EAED,CACR,CAGA,SAASC,mBAAmBC,EAAWC,EAAiBC,GAGrC,YAAdF,IAEEC,EAMJE,QAAQC,OAAO,uCAAuC,SAAUC,GAC/D,GAAIA,EACJ,CAEC,IAAIC,EAAaJ,EACbK,EAAMF,EAAOG,OAEjBC,EAAEC,KAAK,CACNC,IAAK,aACLC,KAAM,OACNC,QAAS,IACTC,SAAU,OACVC,KAAM,CACLC,UAAW,yBACXC,GAAI,OACJV,IAAKA,EACLW,IAAKZ,GAENa,QAAS,SAAUC,GAEM,GAApBA,EAAKC,YAERC,OAAO,iBAIPnB,QAAQoB,MAAMH,EAAKI,kBAErB,EACAC,MAAO,SAAUC,EAAgBC,GAChCxB,QAAQoB,MAAM,mBACf,GAEF,CAED,IAvCAK,OAAOC,SAASC,KAAO,0BAA4B5B,EA0CtD,CAhfA6B,SAASC,iBAAiB,oBAAoB,WAE7C,IAAIC,EAAW,IAAIC,aAAaC,SAASJ,SAASK,eAAe,YAAa,CAC7EC,YACK5B,EAAEmB,QAAQU,QAAU,IAEhB,EAIA,KAGTC,YAAa,YACbC,cAAe,CACdC,KAAM,kBACNC,OAAQ,QACRC,MAAO,0BAERC,gBAAgB,EAEhBC,WAAY,CACXC,MAAOC,WAAWD,MAClBE,IAAKD,WAAWC,KAEjBC,YACQ,YAURC,OAAQH,WAAWI,SACnBC,OAAQ,OACRC,SAAU,SAAUC,GACnB7C,EAAE,mBAAmB8C,KAAKD,EAAKE,KAAKC,OACpChD,EAAE,wCAAwCiD,SAAS,qBACnDjD,EAAE,kBAAkBiD,SAAS,kBACI,GAA7BjD,EAAE,iBAAiBkD,QAEtBlD,EAAE,kCAAkCmD,OAAO,gIAE7C,EACAC,aAAc,SAAUC,EAAKC,GAG5B,OAFAtD,EAAE,qBAAqBuD,QAEhBD,EAAc,IAAK,CAAC,EAAG,GAC/B,EACAE,cAAe,SAAUX,GAmBxB,GAjBA7C,EAAE,qBAAqBuD,QAED,gBAAlBV,EAAKE,KAAK5C,OAGbH,EAAE6C,EAAKY,IAAIR,SAAS,UAEhBjD,EAAE,0BAA0B0D,WAAWR,OAAS,IAGnDlD,EAAE,0BAA0B0D,WAAWC,SAASb,KAAK,SACrD9C,EAAE,0BAA0BiD,SAAS,8FAMjB,aAAlBJ,EAAKE,KAAK5C,KACd,CAEC,GAAI0C,EAAKe,MAAMC,cAAcC,iBAAmB,EAE/C,IAAId,EAAQ,sDAAwDH,EAAKe,MAAMZ,MAAQ,eAKnFA,EAAQ,oEAAsEH,EAAKe,MAAMZ,MAAQ,UAGjGhD,EAAE+D,cAAclB,EAAKe,MAAMC,iBAI3BhB,EAAKe,MAAMC,cAAcC,iBAAmB,IAG/C9D,EAAE6C,EAAKY,IAAIO,KAAK,wBAAwBf,SAAS,iBACjDjD,EAAE6C,EAAKY,IAAIO,KAAK,uBAAuBf,SAAS,iBAChDjD,EAAE6C,EAAKY,IAAIO,KAAK,sBAAsBC,YAAY,qBAGlDjE,EAAE6C,EAAKY,IAAIQ,YAAY,kBACvBjE,EAAE6C,EAAKY,IAAIQ,YAAY,iCACvBjE,EAAE6C,EAAKY,IAAIQ,YAAY,mBACvBjE,EAAE6C,EAAKY,IAAIQ,YAAY,YACvBjE,EAAE6C,EAAKY,IAAIQ,YAAY,kBAIpBjE,EAAEkE,UAAUrB,EAAKe,MAAMC,cAAcM,iBAExCnB,EAAQH,EAAKe,MAAMZ,MAAQ,8GAAgHH,EAAKe,MAAMC,cAAcM,cAAgB,YAAyD,GAA1CtB,EAAKe,MAAMC,cAAcM,cAAsB,IAAM,IAAM,4BAG1PnE,EAAE+D,cAAclB,EAAKe,MAAMC,cAAcO,gBAAkBvB,EAAKe,MAAMC,cAAcO,eAAiBvB,EAAKe,MAAMZ,QAEpHA,EAAQ,oEAAsEH,EAAKe,MAAMZ,MAAQ,qHAAuHH,EAAKe,MAAMC,cAAcO,cAAgB,kBAG9P,CACH,gBACA,yBACCC,SAASxB,EAAKe,MAAMC,cAAcS,oBAE/BzB,EAAKe,MAAMC,cAAcU,wBAI3BvB,EAFiD,yBAA9CH,EAAKe,MAAMC,cAAcS,kBAEpB,oEAAsEzB,EAAKe,MAAMZ,MAAQ,8IAAgJH,EAAKe,MAAMC,cAAcW,2BAA6B,iBAK/R,oEAAsE3B,EAAKe,MAAMZ,MAAQ,qHAAuHH,EAAKe,MAAMC,cAAcO,cAAgB,uFAAyFvB,EAAKe,MAAMC,cAAcU,sBAAwB,kBAK1Y,CAAC,cAAcF,SAASxB,EAAKe,MAAMC,cAAcS,oBAEhDzB,EAAKe,MAAMC,cAAcY,kBAE5BzB,EAAQ,oEAAsEH,EAAKe,MAAMZ,MAAQ,8HAAgIH,EAAKe,MAAMC,cAAcY,gBAAkB,kBAI1Q,CACH,cACA,mBACCJ,SAASxB,EAAKe,MAAMC,cAAcS,oBAE/BzB,EAAKe,MAAMC,cAAcW,6BAE5BxB,EAAQ,oEAAsEH,EAAKe,MAAMZ,MAAQ,+HAAiIH,EAAKe,MAAMC,cAAcW,2BAA6B,mBAKvRxE,EAAEkE,UAAUrB,EAAKe,MAAMC,cAAcC,mBAExCd,GAAS,8GAAgHH,EAAKe,MAAMC,cAAcC,gBAAkB,SAAwD,GAA5CjB,EAAKe,MAAMC,cAAcC,gBAAwB,IAAM,IAAM,2BAEzO,CACH,YACCO,SAASxB,EAAKe,MAAMC,cAAcS,qBAEnCtB,GAAS,8GAAgHH,EAAKe,MAAMC,cAAca,sBAAwB,sBAA2E,GAAlD7B,EAAKe,MAAMC,cAAca,sBAA8B,IAAM,IAAM,6BAIpQ7B,EAAKe,MAAMC,cAAcc,4BAE5B3B,GAAS,2KAGVhD,EAAE6C,EAAKY,IAAIO,KAAK,wBAAwBY,KAAK5B,EAC9C,CACD,EAGA6B,WAAY,SAAUhC,GAEjBA,EAAKe,MAAMC,cAAcC,iBAAmB,EAG/CjB,EAAKiC,QAAQC,iBAI8B,YAAvClC,EAAKe,MAAMC,cAActE,YAEvBsD,EAAKe,MAAMC,cAAcmB,qBAM7BtF,QAAQC,OAAO,uCAAuC,SAAUC,GAE/D,GAAIA,EACJ,CACC,IAAIC,EAAagD,EAAKe,MAAMC,cAAcpE,GACtCK,EAAMF,EAAOG,OAEjBC,EAAEC,KAAK,CACNC,IAAK,aACLC,KAAM,OACNC,QAAS,IACTC,SAAU,OACVC,KAAM,CACLC,UAAW,yBACXC,GAAI,OACJV,IAAKA,EACLW,IAAKZ,GAENa,QAAS,SAAUC,GACM,GAApBA,EAAKC,YAERC,OAAO,iBAIPnB,QAAQoB,MAAMH,EAAKI,kBAErB,EACAC,MAAO,SAAUC,EAAgBC,GAChCxB,QAAQoB,MAAM,mBACf,GAEF,CAED,IAtCAK,OAAOC,SAASC,KAAO,0BAA4BwB,EAAKe,MAAMC,cAAcpE,GA0ChF,EAEAwF,gBAAiB,SAAUpC,GACJ,aAAlBA,EAAKE,KAAK5C,MAA8D,YAAvC0C,EAAKe,MAAMC,cAActE,WAE7DS,EAAE6C,EAAKY,IAAIR,SAAS,gBAEtB,EAEAiC,gBAAiB,SAAUrC,GACJ,aAAlBA,EAAKE,KAAK5C,MAA8D,YAAvC0C,EAAKe,MAAMC,cAActE,WAG7DS,EAAE6C,EAAKY,IAAIQ,YAAY,gBAGzB,EAGAkB,UAAW,SAAUtC,GAcpB,IAbA7C,EAAE,qBAAqBuD,QAKvBd,OAASjB,EAAS4D,YAElBC,YAAc,GACdC,SAAW,GACXC,WAAa,GACbC,oBAAsB,GACtBC,gBAAkB,GAEbC,EAAI,EAAGA,EAAIjD,OAAOS,OAAQwC,IAGoE,GAA9FxG,OAAOuD,OAAOiD,GAAGrD,MAAMsD,qBAAqB5F,OAAQ8C,EAAK+C,KAAKD,qBAAqB5F,SAItFsF,YAAYQ,KAAKpD,OAAOiD,IAI1B,IADAI,aAAe,GACVJ,EAAI,EAAGA,EAAIL,YAAYnC,OAAQwC,IAGnCE,KAAOP,YAAYK,GAAGrD,MAAM0D,mBAAmB,QAAS,CACvDC,KAAM,UACNC,OAAQ,UACRC,QAAQ,IAE0B,GAA/BhH,OAAO0G,KAAKO,OAAO,GAAI,OAE1BP,KAAOA,KAAKQ,QAAQ,IAAK,KAGK,GAA3BlH,OAAO0G,KAAM,WAGhBE,cAAgB,aAAeT,YAAYK,GAAG1C,MAEX,GAA3B9D,OAAO0G,KAAM,WAErBE,cAAgB,aAAeT,YAAYK,GAAG1C,MAEX,GAA3B9D,OAAO0G,KAAM,WAErBE,cAAgB,aAAeT,YAAYK,GAAG1C,MAEX,GAA3B9D,OAAO0G,KAAM,WAErBE,cAAgB,aAAeT,YAAYK,GAAG1C,MAI9C8C,cAAgBF,UAAmBP,YAAYK,GAAG1C,MAGnDsC,SAASI,GAAKL,YAAYK,GAAG7B,cAAcpE,GAE3C+F,oBAAoBE,GAAKL,YAAYK,GAAG7B,cAAcmB,qBAEtDO,WAAWG,GAAKL,YAAYK,GAAG7B,cAActE,UAC7CkG,gBAAgBC,GAAKL,YAAYK,GAAG7B,cAAcO,cACE,MAAhDiB,YAAYK,GAAG7B,cAAcC,kBAGhCgC,cAAgB,sBAAwBT,YAAYK,GAAG7B,cAAcC,gBAAkB,KAIzFuC,aAAeP,aAAaQ,MAAM,KAClCC,YAAcF,aAAahH,WAAWiH,MAAM,KAG5CE,QAAU,EACiB,GAAvBH,aAAanD,QAOhBmD,aAAaI,MAGd,IAAIC,EAAS,sDACZ7D,EAAK+C,KAAKD,mBAAmB,QAAS,CACrCgB,QAAS,OACTC,KAAM,UACNC,MAAO,QACPC,IAAK,YAEN,YAED,IAAKpB,EAAI,EAAGA,EAAIa,YAAYrD,OAAQwC,GAAK,EAId,GAAtBa,YAAYrD,QAEfwD,GAAU,gDAAkDH,YAAYb,GAAK,OAC7EgB,GAAU,+CAAiDH,YAAYb,EAAI,GAAK,cAKzDqB,IAAnBR,YAAYb,SAA2CqB,IAAvBR,YAAYb,EAAI,KAGY,GAA3DxG,OAAOqH,YAAYb,EAAI,GAAG3F,OAAQ,sBAErC2G,GAAU,6DAA+DH,YAAYb,GAAK,OAI1FgB,GAAU,+CAAiDH,YAAYb,GAAK,aAInDqB,IAAvBR,YAAYb,EAAI,SAA2CqB,IAAvBR,YAAYb,EAAI,KAEQ,GAA3DxG,OAAOqH,YAAYb,EAAI,GAAG3F,OAAQ,uBAErC2G,GAAU,oIAAsIH,YAAYb,EAAI,GAAK,OACrKc,WAIiC,KAA7Bf,gBAAgBe,UAEnBE,GAAU,4BAA4BF,2GAA6GD,YAAYb,EAAI,GAAK,OACxKc,YAIAE,GAAU,4BAA4BF,+GAAiHD,YAAYb,EAAI,GAA7J,+EAAwPD,gBAAgBe,SAAxQ,eACVA,iBAMwBO,IAAvBR,YAAYb,EAAI,KAE4C,GAA3DxG,OAAOqH,YAAYb,EAAI,GAAG3F,OAAQ,sBAErC2G,GAAU,6DAA+DH,YAAYb,EAAI,GAAGU,QAAQ,QAAS,SAAW,YAIxHM,GAAU,+CAAiDH,YAAYb,EAAI,GAAGU,QAAQ,QAAS,SAAW,cAU9G,IAFApG,EAAE,qBAAqB4E,KAAK8B,GAEvBhB,EAAI,EAAGA,EAAIc,QAASd,IAIxB1F,EAAE,sBAAwB0F,GAAGsB,GAAG,SAAS,WACxC1H,mBAAmBiG,WAAW0B,SAASjH,EAAEkH,MAAMC,KAAK,MAAMC,OAAO,GAAI,KAAM5B,oBAAoByB,SAASjH,EAAEkH,MAAMC,KAAK,MAAMC,OAAO,GAAI,KAAM9B,SAAS2B,SAASjH,EAAEkH,MAAMC,KAAK,MAAMC,OAAO,GAAI,KAC7L,IAGDpH,EAAE,cAAcqH,QAAQ,CACvBC,UAAWtH,EAAE,qBAAqBuH,SAASC,KACzC,IAEJ,IAGDhG,EAASiG,QAEV"}