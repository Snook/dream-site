{"version":3,"file":"store.min.js","names":["strcmp","a","b","toString","eventClickCalendar","eventType","sessionPassword","id","bootbox","prompt","result","session_id","pwd","trim","$","ajax","url","type","timeout","dataType","data","processor","op","sid","success","json","result_code","bounce","alert","processor_message","error","objAJAXRequest","strError","window","location","href","document","addEventListener","calendar","FullCalendar","Calendar","getElementById","aspectRatio","width","themeSystem","headerToolbar","left","center","right","fixedWeekCount","validRange","start","calendarJS","end","initialView","events","sessions","height","datesSet","info","text","view","title","addClass","length","append","eventContent","arg","createElement","empty","eventDidMount","el","children","parent","event","extendedProps","remaining_slots","isEmptyObject","find","removeClass","isNumeric","session_count","session_title","includes","session_type_true","session_remote_pickup","session_host_informal_name","fundraiser_name","remaining_intro_slots","is_open_for_customization","html","eventClick","jsEvent","preventDefault","session_has_password","eventMouseEnter","eventMouseLeave","dateClick","getEvents","savedEvents","savedIds","savedTypes","savedSessionHasPwds","savedEventNotes","i","toLocaleDateString","date","push","eventsString","toLocaleTimeString","hour","minute","hour12","charAt","replace","eventsToList","split","finalEvents","counter","pop","output","weekday","year","month","day","undefined","on","parseInt","this","attr","slice","animate","scrollTop","offset","top","render"],"sourceRoot":"js/src/dreamdinners/customer","sources":["store.js"],"sourcesContent":["// fullcalendar handler\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n\r\n\tvar calendar = new FullCalendar.Calendar(document.getElementById('calendar'), {\r\n\t\taspectRatio: (function () {\r\n\t\t\tif ($(window).width() > 768) {\r\n\t\t\t\treturn 2;\r\n\t\t\t} else {\r\n\t\t\t\treturn 1.35;\r\n\t\t\t}\r\n\t\t})(),\r\n\t\tthemeSystem: 'bootstrap',\r\n\t\theaderToolbar: {\r\n\t\t\tleft: 'prev,today,next',\r\n\t\t\tcenter: 'title',\r\n\t\t\tright: 'listMonth,dayGridMonth'\r\n\t\t},\r\n\t\tfixedWeekCount: false,\r\n\r\n\t\tvalidRange: {\r\n\t\t\tstart: calendarJS.start,\r\n\t\t\tend: calendarJS.end\r\n\t\t},\r\n\t\tinitialView: (function () {\r\n\t\t\treturn 'listMonth';\r\n\t\t\t/* sets default view based on window size\r\n\t\t\tif ($(window).width() <= 768) {\r\n\t\t\t\treturn 'listMonth';\r\n\t\t\t} else {\r\n\t\t\t\treturn 'dayGridMonth';\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t})(),\r\n\r\n\t\tevents: calendarJS.sessions,\r\n\t\theight: \"auto\",\r\n\t\tdatesSet: function (info) {\r\n\t\t\t$('#calendar_month').text(info.view.title);\r\n\t\t\t$('.fc-header-toolbar .fc-toolbar-title').addClass('d-none d-md-block');\r\n\t\t\t$('.fc-list-event').addClass('cursor-pointer');\r\n\t\t\tif($('.title-exists').length == 0)\r\n\t\t\t$('.fc-list-day .fc-list-day-text').append('<span class=\"font-weight-normal font-size-small d-none d-md-inline title-exists\"> - Select a session below to get started</span>');\r\n\t\t},\r\n\t\teventContent: function(arg, createElement){\r\n\t\t\t$('#calendar_results').empty();\r\n\r\n\t\t\treturn createElement('i', {}, '');\r\n\t\t},\r\n\t\teventDidMount: function (info) {\r\n\r\n\t\t\t$('#calendar_results').empty();\r\n\r\n\t\t\tif(info.view.type=='dayGridMonth'){\r\n\r\n\t\t\t\t$(info.el).addClass('d-none');\r\n\r\n\t\t\tif($('.fc-daygrid-day-events').children().length > 0){\r\n\r\n\t\t\t\t$('.fc-daygrid-day-events').children().parent().text('Times');\r\n\t\t\t\t$('.fc-daygrid-day-events').addClass('text-center h6 text-decoration-underline cursor-pointer font-weight-semi-bold text-break');\r\n\r\n\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (info.view.type == 'listMonth') {\r\n\r\n\t\t\t\tif (info.event.extendedProps.remaining_slots <= 0) {\r\n\t\t\t\t\tvar title = '<span class=\"text-decoration-none text-capitalize\">' + info.event.title + '</span>';\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar title = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!$.isEmptyObject(info.event.extendedProps)) {\r\n\t\t\t\t\t//triggers if the session has no remaining slots\r\n\r\n\t\t\t\t\tif (info.event.extendedProps.remaining_slots <= 0) {\r\n\t\t\t\t\t\t//change the list element to gray to indicate no available slots are left\r\n\t\t\t\t\t\t$(info.el).find('.fc-list-event-title').addClass('text-gray-med');\r\n\t\t\t\t\t\t$(info.el).find('.fc-list-event-time').addClass('text-gray-med');\r\n\t\t\t\t\t\t$(info.el).find('.fc-list-event-dot').removeClass('fc-list-event-dot');\r\n\r\n\t\t\t\t\t\t//prevent mouseover interactions from events that the user cant join\r\n\t\t\t\t\t\t$(info.el).removeClass('cursor-pointer');\r\n\t\t\t\t\t\t$(info.el).removeClass('fc-event-session-made_for_you');\r\n\t\t\t\t\t\t$(info.el).removeClass('fc-event-future');\r\n\t\t\t\t\t\t$(info.el).removeClass('fc-event');\r\n\t\t\t\t\t\t$(info.el).removeClass('fc-list-event');\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif ($.isNumeric(info.event.extendedProps.session_count)) {\r\n\t\t\t\t\t\ttitle = info.event.title + '<span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.session_count + ' session' + ((info.event.extendedProps.session_count != 1) ? 's' : '') + ' available</span></span>';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!$.isEmptyObject(info.event.extendedProps.session_title) && info.event.extendedProps.session_title != info.event.title) {\r\n\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.session_title + '</span></span>';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ([\r\n\t\t\t\t\t\t'REMOTE_PICKUP',\r\n\t\t\t\t\t\t'REMOTE_PICKUP_PRIVATE'\r\n\t\t\t\t\t].includes(info.event.extendedProps.session_type_true)) {\r\n\t\t\t\t\t\tif (info.event.extendedProps.session_remote_pickup) {\r\n\t\t\t\t\t\t\tif (info.event.extendedProps.session_type_true == 'REMOTE_PICKUP_PRIVATE') {\r\n\t\t\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\"> Private event hosted by ' + info.event.extendedProps.session_host_informal_name + '</span></span>';\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.session_title + '</span><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.session_remote_pickup + '</span></span>';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (['FUNDRAISER'].includes(info.event.extendedProps.session_type_true)) {\r\n\t\t\t\t\t\tif (info.event.extendedProps.fundraiser_name) {\r\n\t\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">Benefits ' + info.event.extendedProps.fundraiser_name + '</span></span>';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ([\r\n\t\t\t\t\t\t'DREAM_TASTE',\r\n\t\t\t\t\t\t'PRIVATE_SESSION'\r\n\t\t\t\t\t].includes(info.event.extendedProps.session_type_true)) {\r\n\t\t\t\t\t\tif (info.event.extendedProps.session_host_informal_name) {\r\n\t\t\t\t\t\t\ttitle = '<span class=\"btn-link text-decoration-underline text-capitalize\">' + info.event.title + '</span><span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">Hosted by ' + info.event.extendedProps.session_host_informal_name + '</span></span>';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ($.isNumeric(info.event.extendedProps.remaining_slots)) {\r\n\t\t\t\t\ttitle += '<span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.remaining_slots + ' spot' + ((info.event.extendedProps.remaining_slots != 1) ? 's' : '') + ' remaining</span></span>';\r\n\r\n\t\t\t\t\tif ([\r\n\t\t\t\t\t\t'STANDARD'\r\n\t\t\t\t\t].includes(info.event.extendedProps.session_type_true)) {\r\n\t\t\t\t\t\ttitle += '<span class=\"font-size-small\"><span class=\"d-none d-md-inline\"> - </span><span class=\"d-block d-md-inline\">' + info.event.extendedProps.remaining_intro_slots + ' Starter Pack spot' + ((info.event.extendedProps.remaining_intro_slots != 1) ? 's' : '') + ' remaining</span></span>';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (info.event.extendedProps.is_open_for_customization)\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle += '&nbsp;<i class=\"dd-icon icon-customize text-orange font-size-small\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Customization options available at checkout\"></i>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(info.el).find('.fc-list-event-title').html(title);\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t,\r\n\r\n\t\teventClick: function (info) {\r\n\r\n\t\t\tif (info.event.extendedProps.remaining_slots <= 0) {\r\n\t\t\t\t//disables link clicking on calendar elements\r\n\t\t\t\tinfo.jsEvent.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tif (info.event.extendedProps.eventType === 'session') {\r\n\t\t\t\t\tif (!info.event.extendedProps.session_has_password) {\r\n\t\t\t\t\t\twindow.location.href = '/main.php?page=session&ref=store&sid=' + info.event.extendedProps.id;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbootbox.prompt(\"This event requires an invite code.\", function (result) {\r\n\r\n\t\t\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\t\t\tvar session_id = info.event.extendedProps.id;\r\n\t\t\t\t\t\t\t\tvar pwd = result.trim();\r\n\r\n\t\t\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\t\t\turl: 'ddproc.php',\r\n\t\t\t\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tprocessor: 'cart_session_processor',\r\n\t\t\t\t\t\t\t\t\t\top: 'save',\r\n\t\t\t\t\t\t\t\t\t\tpwd: pwd,\r\n\t\t\t\t\t\t\t\t\t\tsid: session_id\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess: function (json) {\r\n\t\t\t\t\t\t\t\t\t\tif (json.result_code == 1) {\r\n\t\t\t\t\t\t\t\t\t\t\tbounce('main.php?page=session_menu');\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tbootbox.alert(json.processor_message)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\terror: function (objAJAXRequest, strError) {\r\n\t\t\t\t\t\t\t\t\t\tbootbox.alert('Unexpected error')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t,\r\n\t\teventMouseEnter: function (info) {\r\n\t\t\tif (info.view.type == 'listMonth' && info.event.extendedProps.eventType === 'session') {\r\n\t\t\t\t$(info.el).addClass('bg-gray-light');\r\n\t\t\t}\r\n\t\t}\r\n\t\t,\r\n\t\teventMouseLeave: function (info) {\r\n\t\t\tif (info.view.type == 'listMonth' && info.event.extendedProps.eventType === 'session') {\r\n\r\n\t\t\t\t$(info.el).removeClass('bg-gray-light');\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\t,\r\n\r\n\t\tdateClick: function (info) {\r\n\t\t\t$('#calendar_results').empty();\r\n\t\t\t// change the day's background color just for fun\r\n\t\t\t//info.dayEl.style.backgroundColor = 'red';\r\n\r\n\t\t\t//arrays for filtering out the events and properties that we need\r\n\t\t\tevents = calendar.getEvents();\r\n\r\n\t\t\tsavedEvents = [];\r\n\t\t\tsavedIds = [];\r\n\t\t\tsavedTypes = [];\r\n\t\t\tsavedSessionHasPwds = [];\r\n\t\t\tsavedEventNotes = [];\r\n\t\t\t//loop through given events to see if dates match the clicked date on calendar\r\n\t\t\tfor(i =0; i<events.length; i++){\r\n\t\t\t\t//comparing dates\r\n\t\t\t\tif(strcmp(events[i].start.toLocaleDateString().trim(), info.date.toLocaleDateString().trim())==0){\r\n\r\n\t\t\t\t\t//load dates into array\r\n\t\t\t\t\t\tsavedEvents.push(events[i]);\r\n\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\teventsString = '';\r\n\t\t\tfor(i = 0; i< savedEvents.length; i++){\r\n\t\t\t\t//2digit time for calendar results appended to the eventsString\r\n\t\t\t\tdate = savedEvents[i].start.toLocaleTimeString(\"en-gb\", {  hour: \"2-digit\", minute: \"2-digit\", hour12:true });\r\n\t\t\t\tif(strcmp(date.charAt(0),'0')==0){\r\n\t\t\t\t\tdate = date.replace('0', '');\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif(strcmp(date,\"0:00 pm\") == 0){\r\n\r\n\t\t\t\t\teventsString += \"12:00 pm, \" + savedEvents[i].title;\r\n\t\t\t\t}else if(strcmp(date,\"0:00 am\") == 0){\r\n\t\t\t\t\teventsString += \"12:00 am, \" + savedEvents[i].title;\r\n\t\t\t\t}else if(strcmp(date,\"0:30 pm\") == 0){\r\n\t\t\t\t\teventsString += \"12:30 pm, \" + savedEvents[i].title;\r\n\t\t\t\t}else if(strcmp(date,\"0:30 am\") == 0){\r\n\t\t\t\t\teventsString += \"12:30 am, \" + savedEvents[i].title;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\teventsString += date + \",\" + \" \" + savedEvents[i].title;\r\n\t\t\t\t}\r\n\t\t\t\t//need session event id for button link later\r\n\t\t\t\tsavedIds[i] = savedEvents[i].extendedProps.id;\r\n\t\t\t\t//need to know if the session has a password for button link later\r\n\t\t\t\tsavedSessionHasPwds[i] = savedEvents[i].extendedProps.session_has_password;\r\n\t\t\t\t//need type of event for button link later\r\n\t\t\t\tsavedTypes[i] = savedEvents[i].extendedProps.eventType;\r\n\t\t\t\tsavedEventNotes[i] = savedEvents[i].extendedProps.session_title;\r\n\t\t\t\tif(savedEvents[i].extendedProps.remaining_slots!= null){\r\n\t\t\t\t\t//append remaining slots to the eventsString with | character for usage of split() function\r\n\t\t\t\t\teventsString+= \", Remaining Slots: \" + savedEvents[i].extendedProps.remaining_slots + '|';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//split the extracted data from eventsString by defined | character\r\n\t\t\teventsToList = eventsString.split('|');\r\n\t\t\tfinalEvents= eventsToList.toString().split(',');\r\n\r\n\t\t\t//secondary counting variable\r\n\t\t\tcounter = 0;\r\n\t\t\tif(eventsToList.length==1){\r\n\r\n\t\t\t}else {\r\n\t\t\t\t//remove last index: the array always has 1 too many from the | insertion\r\n\t\t\t\teventsToList.pop();\r\n\t\t\t}\r\n\t\t\t//general Date title for calendar results\r\n\t\t\tvar output = '<h5 class=\"text-capitalize font-weight-bold mt-4\" >'+\r\n\t\t\t\tinfo.date.toLocaleDateString(\"en-gb\", { weekday: \"long\", year: \"numeric\", month: \"short\", day: \"numeric\" }) +\r\n\t\t\t\t'</h5><br>';\r\n\t\t\t//this loop counts by 3's since each event has 3 properties that need to be listed and the arrays we've created allow for us to do that\r\n\t\t\tfor(i = 0; i<finalEvents.length; i+=3){\r\n\r\n\t\t\t\t//a check to make sure it is less than 3, which means its the menu announcement event which doesnt follow the same logic as an actual event.\r\n\t\t\t\tif(finalEvents.length == 2){\r\n\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block w-25\" >' + finalEvents[i] + '</p>';\r\n\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block w-50\">' + finalEvents[i + 1] + '</p>';\r\n\t\t\t\t}else {\r\n\t\t\t\t\t//this grabs the Date of the event and checks to see if the event is still open to the customer via the extendedProperty.remaining_slots\r\n\t\t\t\t\tif (finalEvents[i] !== undefined && finalEvents[i + 2] !== undefined) {\r\n\r\n\t\t\t\t\t\tif (strcmp(finalEvents[i + 2].trim(), \"Remaining Slots: 0\") == 0) {\r\n\t\t\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block text-gray-med w-25\">' + finalEvents[i] + '</p>';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block w-25\">' + finalEvents[i] + '</p>';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//this grabs the title of the event and checks to see if the event is still open to the customer via the extendedProperty.remaining_slots\r\n\t\t\t\t\tif (finalEvents[i + 1] !== undefined && finalEvents[i + 2] !== undefined) {\r\n\t\t\t\t\t\tif (strcmp(finalEvents[i + 2].trim(), \"Remaining Slots: 0\") == 0) {\r\n\t\t\t\t\t\t\toutput += '<p href=\"#\" id=\"calendarResultsBtn${counter}\" class=\"h6 text-left d-inline-block text-gray-med btn text-uppercase w-50 disabled\">' + finalEvents[i + 1] + '</p>';\r\n\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif(savedEventNotes[counter]===\"\"){\r\n\t\t\t\t\t\t\t\toutput += `<p id=\"calendarResultsBtn${counter}\" class=\"h6 text-left d-inline-block btn btn-link text-decoration-underline cursor-pointer w-50\">` + finalEvents[i+1]+`</p>`;\r\n\t\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\toutput += `<p id=\"calendarResultsBtn${counter}\" class=\"h6 text-left d-inline-block btn btn-link text-decoration-underline cursor-pointer w-50\"><br>` + finalEvents[i + 1] + '<br><label class=\"h6 text-capitalize text-dark font-size-small\" id=\"notes\">' + ' ' + savedEventNotes[counter] + '</label>' + `</p>`;\r\n\t\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//this grabs the remaining slots for the event and checks if the event is still open to the customer via the extendedProperty.remaining_slots\r\n\t\t\t\t\tif (finalEvents[i + 2] !== undefined) {\r\n\t\t\t\t\t\tif (strcmp(finalEvents[i + 2].trim(), \"Remaining Slots: 0\") == 0) {\r\n\t\t\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block text-gray-med w-25\">' + finalEvents[i + 2].replace('Slots', 'Spots') + '</p><hr/>';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toutput += '<p class=\"h6 text-left d-inline-block w-25\">' + finalEvents[i + 2].replace('Slots', 'Spots') + '</p><hr/>';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//output the elements we've created to the calendar_results below the calendar\r\n\t\t\t$('#calendar_results').html(output);\r\n\r\n\t\t\tfor(i = 0; i<counter; i++) {\r\n\t\t\t\t//on click function for the links in calender_results, checks the elements id and matches it to the saved property arrays from the top of function\r\n\t\t\t\t//and fires the onclick function eventClickCalendar that runs the location to the new page via the event id\r\n\t\t\t\t$(\"#calendarResultsBtn\"+i).on(\"click\", function (){\r\n\t\t\t\t\teventClickCalendar(savedTypes[parseInt($(this).attr('id').slice(-1),10)], savedSessionHasPwds[parseInt($(this).attr('id').slice(-1),10)], savedIds[parseInt($(this).attr('id').slice(-1),10)]);\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t\t$('html, body').animate({\r\n\t\t\t\tscrollTop: $('#calendar_results').offset().top\r\n\t\t\t}, 2000);\r\n\r\n\r\n\t\t}});\r\n\r\n\tcalendar.render();\r\n\r\n});\r\n\r\n\r\n//utility function to compare strings\r\nfunction strcmp(a, b) {\r\n\tif (a.toString() < b.toString()) return -1;\r\n\tif (a.toString() > b.toString()) return 1;\r\n\treturn 0;\r\n}\r\n\r\n//derived from eventClick function, altered to allow for variables instead of the info from FullCalendar\r\nfunction eventClickCalendar(eventType, sessionPassword, id) {\r\n\r\n\t\tif (eventType === 'session') {\r\n\t\t\tif (!sessionPassword) {\r\n\t\t\t\twindow.location.href = '/main.php?page=session&ref=store&sid=' + id;\r\n\t\t\t} else {\r\n\t\t\t\tbootbox.prompt(\"This event requires an invite code.\", function (result) {\r\n\t\t\t\t\tif (result) {\r\n\r\n\t\t\t\t\t\tvar session_id = id;\r\n\t\t\t\t\t\tvar pwd = result.trim();\r\n\r\n\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\turl: 'ddproc.php',\r\n\t\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tprocessor: 'cart_session_processor',\r\n\t\t\t\t\t\t\t\top: 'save',\r\n\t\t\t\t\t\t\t\tpwd: pwd,\r\n\t\t\t\t\t\t\t\tsid: session_id\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: function (json) {\r\n\r\n\t\t\t\t\t\t\t\tif (json.result_code == 1) {\r\n\t\t\t\t\t\t\t\t\tbounce('main.php?page=session_menu');\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tbootbox.alert(json.processor_message)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function (objAJAXRequest, strError) {\r\n\t\t\t\t\t\t\t\tbootbox.alert('Unexpected error')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n}"],"mappings":"AAgWA,SAASA,OAAOC,EAAGC,GAClB,OAAID,EAAEE,WAAaD,EAAEC,YAAoB,EACrCF,EAAEE,WAAaD,EAAEC,WAAmB,EACjC,CACR,CAGA,SAASC,mBAAmBC,EAAWC,EAAiBC,GAEpC,YAAdF,IACEC,EAGJE,QAAQC,OAAO,uCAAuC,SAAUC,GAC/D,GAAIA,EAAQ,CAEX,IAAIC,EAAaJ,EACbK,EAAMF,EAAOG,OAEjBC,EAAEC,KAAK,CACNC,IAAK,aACLC,KAAM,OACNC,QAAS,IACTC,SAAU,OACVC,KAAM,CACLC,UAAW,yBACXC,GAAI,OACJV,IAAKA,EACLW,IAAKZ,GAENa,QAAS,SAAUC,GAEM,GAApBA,EAAKC,YACRC,OAAO,8BAEPnB,QAAQoB,MAAMH,EAAKI,kBAErB,EACAC,MAAO,SAAUC,EAAgBC,GAChCxB,QAAQoB,MAAM,mBACf,GAEF,CAED,IAjCAK,OAAOC,SAASC,KAAO,wCAA0C5B,EAoCrE,CA9YA6B,SAASC,iBAAiB,oBAAoB,WAE7C,IAAIC,EAAW,IAAIC,aAAaC,SAASJ,SAASK,eAAe,YAAa,CAC7EC,YACK5B,EAAEmB,QAAQU,QAAU,IAChB,EAEA,KAGTC,YAAa,YACbC,cAAe,CACdC,KAAM,kBACNC,OAAQ,QACRC,MAAO,0BAERC,gBAAgB,EAEhBC,WAAY,CACXC,MAAOC,WAAWD,MAClBE,IAAKD,WAAWC,KAEjBC,YACQ,YAURC,OAAQH,WAAWI,SACnBC,OAAQ,OACRC,SAAU,SAAUC,GACnB7C,EAAE,mBAAmB8C,KAAKD,EAAKE,KAAKC,OACpChD,EAAE,wCAAwCiD,SAAS,qBACnDjD,EAAE,kBAAkBiD,SAAS,kBACG,GAA7BjD,EAAE,iBAAiBkD,QACtBlD,EAAE,kCAAkCmD,OAAO,mIAC5C,EACAC,aAAc,SAASC,EAAKC,GAG3B,OAFAtD,EAAE,qBAAqBuD,QAEhBD,EAAc,IAAK,CAAC,EAAG,GAC/B,EACAE,cAAe,SAAUX,GAiBxB,GAfA7C,EAAE,qBAAqBuD,QAEJ,gBAAhBV,EAAKE,KAAK5C,OAEZH,EAAE6C,EAAKY,IAAIR,SAAS,UAElBjD,EAAE,0BAA0B0D,WAAWR,OAAS,IAElDlD,EAAE,0BAA0B0D,WAAWC,SAASb,KAAK,SACrD9C,EAAE,0BAA0BiD,SAAS,8FAMhB,aAAlBJ,EAAKE,KAAK5C,KAAqB,CAElC,GAAI0C,EAAKe,MAAMC,cAAcC,iBAAmB,EAC/C,IAAId,EAAQ,sDAAwDH,EAAKe,MAAMZ,MAAQ,eAGnFA,EAAQ,oEAAsEH,EAAKe,MAAMZ,MAAQ,UAGjGhD,EAAE+D,cAAclB,EAAKe,MAAMC,iBAG3BhB,EAAKe,MAAMC,cAAcC,iBAAmB,IAE/C9D,EAAE6C,EAAKY,IAAIO,KAAK,wBAAwBf,SAAS,iBACjDjD,EAAE6C,EAAKY,IAAIO,KAAK,uBAAuBf,SAAS,iBAChDjD,EAAE6C,EAAKY,IAAIO,KAAK,sBAAsBC,YAAY,qBAGlDjE,EAAE6C,EAAKY,IAAIQ,YAAY,kBACvBjE,EAAE6C,EAAKY,IAAIQ,YAAY,iCACvBjE,EAAE6C,EAAKY,IAAIQ,YAAY,mBACvBjE,EAAE6C,EAAKY,IAAIQ,YAAY,YACvBjE,EAAE6C,EAAKY,IAAIQ,YAAY,kBAKpBjE,EAAEkE,UAAUrB,EAAKe,MAAMC,cAAcM,iBACxCnB,EAAQH,EAAKe,MAAMZ,MAAQ,8GAAgHH,EAAKe,MAAMC,cAAcM,cAAgB,YAAyD,GAA1CtB,EAAKe,MAAMC,cAAcM,cAAsB,IAAM,IAAM,4BAG1PnE,EAAE+D,cAAclB,EAAKe,MAAMC,cAAcO,gBAAkBvB,EAAKe,MAAMC,cAAcO,eAAiBvB,EAAKe,MAAMZ,QACpHA,EAAQ,oEAAsEH,EAAKe,MAAMZ,MAAQ,qHAAuHH,EAAKe,MAAMC,cAAcO,cAAgB,kBAG9P,CACH,gBACA,yBACCC,SAASxB,EAAKe,MAAMC,cAAcS,oBAC/BzB,EAAKe,MAAMC,cAAcU,wBAE3BvB,EADiD,yBAA9CH,EAAKe,MAAMC,cAAcS,kBACpB,oEAAsEzB,EAAKe,MAAMZ,MAAQ,8IAAgJH,EAAKe,MAAMC,cAAcW,2BAA6B,iBAG/R,oEAAsE3B,EAAKe,MAAMZ,MAAQ,qHAAuHH,EAAKe,MAAMC,cAAcO,cAAgB,uFAAyFvB,EAAKe,MAAMC,cAAcU,sBAAwB,kBAK1Y,CAAC,cAAcF,SAASxB,EAAKe,MAAMC,cAAcS,oBAChDzB,EAAKe,MAAMC,cAAcY,kBAC5BzB,EAAQ,oEAAsEH,EAAKe,MAAMZ,MAAQ,8HAAgIH,EAAKe,MAAMC,cAAcY,gBAAkB,kBAI1Q,CACH,cACA,mBACCJ,SAASxB,EAAKe,MAAMC,cAAcS,oBAC/BzB,EAAKe,MAAMC,cAAcW,6BAC5BxB,EAAQ,oEAAsEH,EAAKe,MAAMZ,MAAQ,+HAAiIH,EAAKe,MAAMC,cAAcW,2BAA6B,mBAKvRxE,EAAEkE,UAAUrB,EAAKe,MAAMC,cAAcC,mBACxCd,GAAS,8GAAgHH,EAAKe,MAAMC,cAAcC,gBAAkB,SAAwD,GAA5CjB,EAAKe,MAAMC,cAAcC,gBAAwB,IAAM,IAAM,2BAEzO,CACH,YACCO,SAASxB,EAAKe,MAAMC,cAAcS,qBACnCtB,GAAS,8GAAgHH,EAAKe,MAAMC,cAAca,sBAAwB,sBAA2E,GAAlD7B,EAAKe,MAAMC,cAAca,sBAA8B,IAAM,IAAM,6BAIpQ7B,EAAKe,MAAMC,cAAcc,4BAE5B3B,GAAS,2KAGVhD,EAAE6C,EAAKY,IAAIO,KAAK,wBAAwBY,KAAK5B,EAC9C,CACA,EAGD6B,WAAY,SAAUhC,GAEjBA,EAAKe,MAAMC,cAAcC,iBAAmB,EAE/CjB,EAAKiC,QAAQC,iBAE8B,YAAvClC,EAAKe,MAAMC,cAActE,YACvBsD,EAAKe,MAAMC,cAAcmB,qBAG7BtF,QAAQC,OAAO,uCAAuC,SAAUC,GAE/D,GAAIA,EAAQ,CACX,IAAIC,EAAagD,EAAKe,MAAMC,cAAcpE,GACtCK,EAAMF,EAAOG,OAEjBC,EAAEC,KAAK,CACNC,IAAK,aACLC,KAAM,OACNC,QAAS,IACTC,SAAU,OACVC,KAAM,CACLC,UAAW,yBACXC,GAAI,OACJV,IAAKA,EACLW,IAAKZ,GAENa,QAAS,SAAUC,GACM,GAApBA,EAAKC,YACRC,OAAO,8BAEPnB,QAAQoB,MAAMH,EAAKI,kBAErB,EACAC,MAAO,SAAUC,EAAgBC,GAChCxB,QAAQoB,MAAM,mBACf,GAEF,CAED,IAhCAK,OAAOC,SAASC,KAAO,wCAA0CwB,EAAKe,MAAMC,cAAcpE,GAoC9F,EAEAwF,gBAAiB,SAAUpC,GACJ,aAAlBA,EAAKE,KAAK5C,MAA8D,YAAvC0C,EAAKe,MAAMC,cAActE,WAC7DS,EAAE6C,EAAKY,IAAIR,SAAS,gBAEtB,EAEAiC,gBAAiB,SAAUrC,GACJ,aAAlBA,EAAKE,KAAK5C,MAA8D,YAAvC0C,EAAKe,MAAMC,cAActE,WAE7DS,EAAE6C,EAAKY,IAAIQ,YAAY,gBAGzB,EAGAkB,UAAW,SAAUtC,GAcpB,IAbA7C,EAAE,qBAAqBuD,QAKvBd,OAASjB,EAAS4D,YAElBC,YAAc,GACdC,SAAW,GACXC,WAAa,GACbC,oBAAsB,GACtBC,gBAAkB,GAEdC,EAAG,EAAGA,EAAEjD,OAAOS,OAAQwC,IAEqE,GAA5FxG,OAAOuD,OAAOiD,GAAGrD,MAAMsD,qBAAqB5F,OAAQ8C,EAAK+C,KAAKD,qBAAqB5F,SAGpFsF,YAAYQ,KAAKpD,OAAOiD,IAI3B,IADAI,aAAe,GACXJ,EAAI,EAAGA,EAAGL,YAAYnC,OAAQwC,IAEjCE,KAAOP,YAAYK,GAAGrD,MAAM0D,mBAAmB,QAAS,CAAGC,KAAM,UAAWC,OAAQ,UAAWC,QAAO,IACvE,GAA5BhH,OAAO0G,KAAKO,OAAO,GAAG,OACxBP,KAAOA,KAAKQ,QAAQ,IAAK,KAGG,GAA1BlH,OAAO0G,KAAK,WAEdE,cAAgB,aAAeT,YAAYK,GAAG1C,MACZ,GAA1B9D,OAAO0G,KAAK,WACpBE,cAAgB,aAAeT,YAAYK,GAAG1C,MACZ,GAA1B9D,OAAO0G,KAAK,WACpBE,cAAgB,aAAeT,YAAYK,GAAG1C,MACZ,GAA1B9D,OAAO0G,KAAK,WACpBE,cAAgB,aAAeT,YAAYK,GAAG1C,MAG9C8C,cAAgBF,UAAmBP,YAAYK,GAAG1C,MAGnDsC,SAASI,GAAKL,YAAYK,GAAG7B,cAAcpE,GAE3C+F,oBAAoBE,GAAKL,YAAYK,GAAG7B,cAAcmB,qBAEtDO,WAAWG,GAAKL,YAAYK,GAAG7B,cAActE,UAC7CkG,gBAAgBC,GAAKL,YAAYK,GAAG7B,cAAcO,cACA,MAA/CiB,YAAYK,GAAG7B,cAAcC,kBAE/BgC,cAAe,sBAAwBT,YAAYK,GAAG7B,cAAcC,gBAAkB,KAIxFuC,aAAeP,aAAaQ,MAAM,KAClCC,YAAaF,aAAahH,WAAWiH,MAAM,KAG3CE,QAAU,EACc,GAArBH,aAAanD,QAIfmD,aAAaI,MAGd,IAAIC,EAAS,sDACZ7D,EAAK+C,KAAKD,mBAAmB,QAAS,CAAEgB,QAAS,OAAQC,KAAM,UAAWC,MAAO,QAASC,IAAK,YAC/F,YAED,IAAIpB,EAAI,EAAGA,EAAEa,YAAYrD,OAAQwC,GAAG,EAGV,GAAtBa,YAAYrD,QACdwD,GAAU,gDAAkDH,YAAYb,GAAK,OAC7EgB,GAAU,+CAAiDH,YAAYb,EAAI,GAAK,cAGzDqB,IAAnBR,YAAYb,SAA2CqB,IAAvBR,YAAYb,EAAI,KAEY,GAA3DxG,OAAOqH,YAAYb,EAAI,GAAG3F,OAAQ,sBACrC2G,GAAU,6DAA+DH,YAAYb,GAAK,OAE1FgB,GAAU,+CAAiDH,YAAYb,GAAK,aAInDqB,IAAvBR,YAAYb,EAAI,SAA2CqB,IAAvBR,YAAYb,EAAI,KACQ,GAA3DxG,OAAOqH,YAAYb,EAAI,GAAG3F,OAAQ,uBACrC2G,GAAU,oIAAsIH,YAAYb,EAAI,GAAK,OACrKc,WAE8B,KAA3Bf,gBAAgBe,UAClBE,GAAU,4BAA4BF,2GAA6GD,YAAYb,EAAE,GAAG,OACpKc,YAEAE,GAAU,4BAA4BF,+GAAiHD,YAAYb,EAAI,GAA7J,+EAAwPD,gBAAgBe,SAAxQ,eACVA,iBAMwBO,IAAvBR,YAAYb,EAAI,KAC4C,GAA3DxG,OAAOqH,YAAYb,EAAI,GAAG3F,OAAQ,sBACrC2G,GAAU,6DAA+DH,YAAYb,EAAI,GAAGU,QAAQ,QAAS,SAAW,YAExHM,GAAU,+CAAiDH,YAAYb,EAAI,GAAGU,QAAQ,QAAS,SAAW,cAU9G,IAFApG,EAAE,qBAAqB4E,KAAK8B,GAExBhB,EAAI,EAAGA,EAAEc,QAASd,IAGrB1F,EAAE,sBAAsB0F,GAAGsB,GAAG,SAAS,WACtC1H,mBAAmBiG,WAAW0B,SAASjH,EAAEkH,MAAMC,KAAK,MAAMC,OAAO,GAAG,KAAM5B,oBAAoByB,SAASjH,EAAEkH,MAAMC,KAAK,MAAMC,OAAO,GAAG,KAAM9B,SAAS2B,SAASjH,EAAEkH,MAAMC,KAAK,MAAMC,OAAO,GAAG,KAC1L,IAGDpH,EAAE,cAAcqH,QAAQ,CACvBC,UAAWtH,EAAE,qBAAqBuH,SAASC,KACzC,IAGJ,IAEDhG,EAASiG,QAEV"}