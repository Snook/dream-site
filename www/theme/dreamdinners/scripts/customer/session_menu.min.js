var neededQuantity=36;function canIncrementBundleSubItem(e,t){let n=menuItemInfo.mid[$(e).data("parent_item")],i=parseInt(n.number_items_required),o=menuItemInfo.mid[n.menu_item_id].sub_item[$(e).data("menu_item_id")],a=parseInt(o.bundle_to_menu_item_group_id)||0,r=0,s=0,d=[];return $(t+'[data-parent_item="'+n.menu_item_id+'"]').each((function(){let e=menuItemInfo.mid[n.menu_item_id].sub_item[$(this).data("menu_item_id")],t=parseInt(e.bundle_to_menu_item_group_id)||0,i=parseInt($(this).data("org_val"))||0,o=parseInt($(this).val())||0;r+=i,s+=o,void 0===d[t]&&(d[t]={total_org:0,total_current:0}),d[t].total_org+=i,d[t].total_current+=o})),s>i?"Number of items for the bundle has been reached":!(n.bundle_groups.length>0&&d[a].total_current>n.bundle_groups[a].number_items_required)||"Number of items for the group has been reached"}function restoreButtonState(e){var t=menuItemInfo.mid[e].entree_id,n=0,i=menuItemInfo.entree[t];for(key in i){var o=1*(r=menuItemInfo.mid[key]).servings_per_item;n+=r.qty_in_cart*o}var a=menuItemInfo.mid[e].remaining_servings-n;for(key in i){var r;(o=1*(r=menuItemInfo.mid[key]).servings_per_item)<=a&&($('.add-to-cart[data-menu_item_id="'+key+'"]').removeClass("disabled"),$('.add-to-cart[data-menu_item_id="'+key+'"] > .price').html(menuItemInfo.mid[key].price),key!=e&&$('.add-to-cart[data-menu_item_id="'+key+'"] > .fas').show())}}function inventoryCheck(e){var t=!0;menuItemInfo.mid[e].qty_in_cart<0&&(menuItemInfo.mid[e].qty_in_cart=0);var n=menuItemInfo.mid[e].entree_id,i=0,o=1*menuItemInfo.mid[e].servings_per_item,a=menuItemInfo.entree[n];for(key in a){var r=1*(d=menuItemInfo.mid[key]).servings_per_item;i+=d.qty_in_cart*r}i+o>menuItemInfo.mid[e].remaining_servings?(modal_message({title:"Inventory Limit Reached",message:"Please contact your store if you wish to purchase more of this item. The store's available inventory limit has been reached."}),menuItemInfo.mid[e].qty_in_cart+=1,t=!1):menuItemInfo.mid[e].qty_in_cart+=1;var s=menuItemInfo.mid[e].remaining_servings-(i+o);for(key in a){var d;(r=1*(d=menuItemInfo.mid[key]).servings_per_item)>s&&($('.add-to-cart[data-menu_item_id="'+key+'"]').addClass("disabled"),$('.add-to-cart[data-menu_item_id="'+key+'"] > .price').text("Sold out"),$('.add-to-cart[data-menu_item_id="'+key+'"] > .fas').hide())}return t}function countCoreItemsServings(){var e=0;return $.each(menuItemInfo.mid,(function(t,n){n.qty_in_cart<0&&(n.qty_in_cart=0,menuItemInfo.mid[t].qty_in_cart=0),n.qty_in_cart>0&&"9"!=n.category_id&&n.item_contributes_to_minimum_order&&(e+=Number(n.servings_per_item)*Number(n.qty_in_cart))})),e}function countItemsServings(e){var t=0,n=0;return void 0===e&&(e=!1),$.each(menuItemInfo.mid,(function(i,o){o.qty_in_cart<0&&(o.qty_in_cart=0,menuItemInfo.mid[i].qty_in_cart=0),o.qty_in_cart>0&&(e?t+=Number(o.servings_per_item*o.qty_in_cart):9!=o.category_id&&o.item_contributes_to_minimum_order&&("1"===o.is_bundle?t+=Number(o.qty_in_cart)*Number(o.servings_per_item):t=Number(o.servings_per_item)*Number(o.qty_in_cart)),9!=o.category_id&&o.item_contributes_to_minimum_order&&(n+=Number(o.qty_in_cart)))})),n>0?($(".total-meal-nights-plural").show(),$(".total-meal-nights").text(n),1==n&&$(".total-meal-nights-plural").hide(),$(".meal-nights").show(),$(".meal-select").hide()):($(".total-meal-nights").text("0"),$(".total-meal-nights-plural").show(),$(".meal-select").show(),$(".meal-nights").hide()),t}function countItems(e){var t=0,n=0;return void 0===e&&(e=!1),$.each(menuItemInfo.mid,(function(i,o){o.qty_in_cart<0&&(o.qty_in_cart=0,menuItemInfo.mid[i].qty_in_cart=0),o.qty_in_cart>0&&(e?t+=Number(o.qty_in_cart):9!=o.category_id&&o.item_contributes_to_minimum_order&&(t+=Number(o.qty_in_cart)*Number(o.item_count_per_item)),9!=o.category_id&&o.item_contributes_to_minimum_order&&(n+=Number(o.qty_in_cart)*Number(o.item_count_per_item)))})),n>0?($(".total-meal-nights-plural").show(),$(".total-meal-nights").text(n),1==n&&$(".total-meal-nights-plural").hide(),$(".meal-nights").show(),$(".meal-select").hide()):($(".total-meal-nights").text("0"),$(".total-meal-nights-plural").show(),$(".meal-select").show(),$(".meal-nights").hide()),t}function countCoreItems(){var e=0;return $.each(menuItemInfo.mid,(function(t,n){n.qty_in_cart<0&&(n.qty_in_cart=0,menuItemInfo.mid[t].qty_in_cart=0),n.qty_in_cart>0&&9!=n.category_id&&n.item_contributes_to_minimum_order&&(e+=Number(n.qty_in_cart)*Number(n.item_count_per_item))})),e}function updateServingsCountAndCheckoutButton(){if($(".add-bundle-to-cart").each((function(){$(this).addClass("disabled");let e=$(this).data("menu_item_id"),t=menuItemInfo.mid[e],n=parseInt(t.number_items_required),i=0;$('.bundle-subitem-qty[data-parent_item="'+e+'"]').each((function(){let e=parseInt($(this).val())||0;i+=e})),$('.bundle-subitem-total[data-menu_item_id="'+e+'"]').text(i),n==i&&$(this).removeClass("disabled")})),"undefined"!=typeof menuItemInfo){var e=0,t=0;"undefined"!=typeof menu_view&&null!=menu_view||(menu_view=""),"undefined"!=typeof order_minimum&&void 0!==order_minimum.minimum&&"ITEM"==order_minimum.minimum_type?(e=countItems("session_menu_freezer"==menu_view),t=countCoreItems()):(e=countItemsServings("session_menu_freezer"==menu_view),t=countCoreItemsServings());var n=!1;"undefined"==typeof order_minimum&&(order_minimum={});var i=void 0===order_minimum.minimum?36:order_minimum.minimum;"INTRO"==order_type||"DREAM_TASTE"==order_type||"FUNDRAISER"==order_type?i=number_servings_required:0==order_minimum.is_applicable&&(i=1==order_minimum.has_freezer_inventory?"session_menu_freezer"==menu_view?1:0:1);var o=(void 0===order_minimum.minimum?36:order_minimum.minimum)-e,a=" more ";return 0==e&&(a=" "),o>0?($(".remaining-note").showFlex(),$(".remaining").text(o+a),1==o?$(".plural").hide():$(".plural").show()):$(".remaining-note").hideFlex(),neededQuantity="session_menu_freezer"==menu_view&&0==order_minimum.is_applicable?i-e:i-t,0==order_minimum.is_applicable&&1==order_minimum.has_freezer_inventory&&("session_menu_freezer"==menu_view||(neededQuantity=0),$(".meals-list, .cart-total-div").slideDown(),$(".progress-star").hide()),neededQuantity<=0&&(neededQuantity=0,n=!0),n?($(".continue-btn").removeClass("disabled"),$(".continue-btn-div").slideDown()):($(".continue-btn").addClass("disabled"),$(".continue-btn-div").slideUp()),""==e&&(e="0"),1==coupon.limit_to_mfy_fee||1==coupon.limit_to_delivery_fee?($(".coupon-code-total-service-div").show(),$(".coupon-code-total-div").hide()):($(".coupon-code-total-service-div").hide(),$(".coupon-code-total-div").show()),e}}function update_cart(e,t){"del"==t&&(menuItemInfo.mid[e].qty_in_cart-=1,menuItemInfo.mid[e].qty_in_cart<0&&(menuItemInfo.mid[e].qty_in_cart=0),restoreButtonState(e));let n=menuItemInfo.mid[e],i=menuItemInfo.entree[n.entree_id],o={};$.isNumeric(n.qty_in_cart)||(n.qty_in_cart=0),"1"==n.is_bundle&&$('.bundle-subitem-qty[data-parent_item="'+e+'"]').each((function(){let t=$(this).data("menu_item_id"),n=parseInt($(this).val())||0;menuItemInfo.mid[e].sub_item[t].qty_in_cart+=parseInt($(this).val())||0,n>0&&(o[t]=n)})),$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"cart_item_processor",op:"update",item:e,is_bundle:o,qty:n.qty_in_cart,order_type:order_type},success:function(o){if(o.processor_success)order_type!=o.order_type&&(order_type=o.order_type),$(".coupon-code-total").text(o.coupon_code_discount_total),$(".cart-total").text(o.grand_total),$(".cost-per-serving").text(o.cost_per_serving),"INTRO"!=order_type?(updateServingsCountAndCheckoutButton(),n.qty_in_cart>0?($('.add-to-cart[data-menu_item_id="'+e+'"] > .fas, .configure-bundle[data-menu_item_id="'+e+'"] > .fas').hide(),$('.add-to-cart[data-menu_item_id="'+e+'"] > .cart-amount, .configure-bundle[data-menu_item_id="'+e+'"] > .cart-amount').text("("+n.qty_in_cart+")").show()):($('.add-to-cart[data-menu_item_id="'+e+'"] > .fas, .configure-bundle[data-menu_item_id="'+e+'"] > .fas').show(),$('.add-to-cart[data-menu_item_id="'+e+'"] > .cart-amount, .configure-bundle[data-menu_item_id="'+e+'"] > .cart-amount').text("0").hide())):"INTRO"==order_type&&$.each(i,(function(t,i){n.qty_in_cart>0?($('.add-to-cart[data-menu_item_id="'+t+'"]').addClass("disabled"),$('.add-to-cart[data-menu_item_id="'+t+'"] > .fas').removeClass("fa-plus text-white"),$('.add-to-cart[data-menu_item_id="'+e+'"] .fas').addClass("fa-check text-dark")):($('.add-to-cart[data-menu_item_id="'+t+'"]').removeClass("disabled"),$('.add-to-cart[data-menu_item_id="'+t+'"] > .fas').removeClass("fa-check text-dark").addClass("fa-plus text-white"))})),n.qty_in_cart>0?($('[data-cart_menu_item="'+e+'"]').length?$('[data-cart_menu_item="'+e+'"]').replaceWith(o.cart_update):($(o.cart_update).appendTo($(".meals-list")).hide().slideDown(),$(".meals-list, .cart-total-div").slideDown()),$(".clear-all-cart-items-div").show()):($('.add-to-cart[data-menu_item_id="'+e+'"] > .fas').show(),$('[data-cart_menu_item="'+e+'"]').slideUp("slow",(function(){$(this).remove(),$(".meals-list").html().trim().length||0==order_minimum.is_applicable&&1!=order_minimum.has_freezer_inventory&&$(".meals-list, .cart-total-div").slideUp("slow",(function(){$(".msg_empty_cart").slideDown()}))}))),$(".meals-list").html().trim().length&&$(".msg_empty_cart").slideUp("slow",(function(){$(".meals-list, .cart-total-div").slideDown()})),$(".btn-spinning").removeClass("btn-spinning"),$(".ld-spin").remove(),updateServingsCountAndCheckoutButton();else{"del"==t?menuItemInfo.mid[e].qty_in_cart+=1:(menuItemInfo.mid[e].qty_in_cart-=1,menuItemInfo.mid[e].qty_in_cart<0&&(menuItemInfo.mid[e].qty_in_cart=0)),$(".btn-spinning").removeClass("btn-spinning"),$(".ld-spin").remove();var a="Error Adding item to cart. If you continue to receive this message please contact your store.";5==o.result_code&&(a="You have added the number of dinners allowed for this special event or session type. Please remove a dinner from your cart to add this dinner."),modal_message({title:"Error",message:a,callback:function(){bounce(window.location.href)}})}},error:function(n,i){"del"==t?menuItemInfo.mid[e].qty_in_cart+=1:(menuItemInfo.mid[e].qty_in_cart-=1,menuItemInfo.mid[e].qty_in_cart<0&&(menuItemInfo.mid[e].qty_in_cart=0)),$(".btn-spinning").removeClass("btn-spinning"),$(".ld-spin").remove(),modal_message({title:"Error",message:"Unexpected error, if you continue to receive this message please contact your store."})}})}"undefined"!=typeof order_minimum&&void 0!==order_minimum.minimum&&(neededQuantity=order_minimum.minimum),$((function(){"undefined"!=typeof menuItemInfo&&null!=menuItemInfo&&$.each(menuItemInfo.entree,(function(e,t){var n=0,i=menuItemInfo.entree[e];for(itemkey in i){"HALF"==i[itemkey]&&(!0,itemkey),"FULL"==i[itemkey]&&(!0,itemkey);var o=1*(r=menuItemInfo.mid[itemkey]).servings_per_item;n+=r.qty_in_cart*o}let a=menuItemInfo.mid[itemkey].remaining_servings-n;for(itemkey in i){var r;a<(o=1*(r=menuItemInfo.mid[itemkey]).servings_per_item)&&($('.add-to-cart[data-menu_item_id="'+itemkey+'"]').addClass("disabled"),$('.add-to-cart[data-menu_item_id="'+itemkey+'"] > .price').text("Sold out"))}})),updateServingsCountAndCheckoutButton(),$(document).on("click change",".add-to-cart:not(.disabled)",(function(e){var t=$(this).data("menu_item_id"),n=menuItemInfo.mid[t],i=menuItemInfo.entree[n.entree_id];if(inventoryCheck(t)){if(continue_process=!0,"DREAM_TASTE"!=order_type&&"FUNDRAISER"!=order_type||(servings=countItemsServings(),servings>number_servings_required&&(this.checked=!1,"DREAM_TASTE"==order_type?modal_message({title:"Event Offer",message:"You have completed your Meal Prep Workshop order and are ready to checkout."}):modal_message({title:"Event Offer",message:"You have completed your Fundraiser order and are ready to checkout."}),menuItemInfo.mid[t].qty_in_cart-=1,servings=countItemsServings(),continue_process=!1)),"INTRO"==order_type){var o=0;$.each(i,(function(e,t){o+=menuItemInfo.mid[e].qty_in_cart})),o>=2&&(modal_message({title:"Meal Prep Starter Pack",message:"Meal Prep Starter Pack orders are limited to only 1 large or 1 medium selection per meal."}),menuItemInfo.mid[t].qty_in_cart-=1,continue_process=!1),servings=countItemsServings(),servings_before=servings-menuItemInfo.mid[t].servings_per_item,servings_before==number_servings_required?($(this).removeClass("disabled"),modal_message({title:"Meal Prep Starter Pack",message:"You have completed your Meal Prep Starter Pack and are ready to checkout."}),menuItemInfo.mid[t].qty_in_cart-=1,continue_process=!1):servings>number_servings_required&&(modal_message({title:"Meal Prep Starter Pack",message:"You have 1 medium meal left to complete your Meal Prep Starter Pack. You may order six medium dinners or three large dinners (or a combination of both sizes)."}),menuItemInfo.mid[t].qty_in_cart-=1,continue_process=!1)}if(continue_process){if(update_cart(t,"add"),(!USER_PREFERENCES||USER_PREFERENCES.SESSION_MENU_CART_FLY_TO.value>0)&&9!=menuItemInfo.mid[t].category_id){var a=!1;if($(".progress-min").each((function(e){$(this).is(":visible")&&(a=$(this).parent())})),a){var r=$('[data-recipe_img="'+menuItemInfo.mid[t].recipe_id+'"]').eq(0);if(r){var s=r.clone();$(s).removeClass("card-img-top").addClass("shadow border-green-light"),s.offset({top:e.pageY-20,left:e.pageX-40}).css({position:"absolute",width:80,border:"2px solid","z-index":"1500","pointer-events":"none"}).appendTo($("body")).animate({top:a.offset().top+1,left:a.offset().left+(a.width()/2-20),width:40},1e3,"easeInOutExpo"),s.hide("puff",{},500,(function(){$(this).detach()}))}}}}else $(".btn-spinning").removeClass("btn-spinning"),$(".ld-spin").remove()}})),$(document).on("click",".remove-from-cart",(function(e){var t=$(this).data("menu_item_id");"1"==menuItemInfo.mid[t].is_bundle&&menuItemInfo.mid[t].qty_in_cart>1?bootbox.confirm("Due to the complexity of this menu item you will need to re-add this menu item with your desired selections. Do you wish to continue?",(function(e){1==e&&(menuItemInfo.mid[t].qty_in_cart=0,$('.bundle-subitem-qty[data-parent_item="'+t+'"]').each((function(){let e=$(this).data("menu_item_id");menuItemInfo.mid[e].qty_in_cart=0})),update_cart(t,"del"))})):update_cart(t,"del"),$(".session_menu-meals-list").children().length<=2&&$(".clear-all-cart-items-div").hide()})),$(document).on("click",".sm-change-menu",(function(e){$(".sm-row-change-menu").toggleFlex()})),$(document).on("click",".sm-change-menu-starter",(function(e){$(".sm-row-change-menu-starter").toggleFlex()})),$(document).on("click",".sm-customization-available",(function(e){$(".sm-row-customization-available").toggleFlex()})),$(document).on("click",".pp-view-intro, .pp-view-standard",(function(e){var t=$(this).data("view_menu");create_and_submit_form({action:"/processor?processor=session_type",input:{type:t}})})),$(document).on("click",".play-video",(function(e){$("html, body").animate({scrollTop:$("#video-tab").offset().top},2e3),$("#video-tab").tab("show")})),$(document).on("click",'input[name="sessionRadio"]',(function(e){var t=$(this).val();$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"cart_session_processor",op:"save",sid:t},success:function(e){1==e.result_code?($('[for^="sessionRadio-"]').removeClass("bg-green font-weight-bold text-white"),$("[data-day]").removeClass("bg-green font-weight-bold text-white").addClass("bg-gray-light"),$('[for="sessionRadio-'+t+'"]').addClass("bg-green font-weight-bold text-white"),$('[data-day="'+e.result_day+'"]').removeClass("bg-gray-light").addClass("bg-green text-white"),bounce(e.bounce_to)):modal_message({title:"Error",message:e.processor_message})},error:function(e,t){response="Unexpected error"}})})),$(document).on("change",'input[name^="filter-show_"]',(function(e){$("[data-row_session_types]").hideFlex(),$(".no-filter-selected").showFlex(),$('input[name^="filter-show_"]').each((function(e){var t=$(this).data("filter");$(this).is(":checked")?($(".no-filter-selected").hideFlex(),$('[data-filter_session_type="'+t+'"]').showFlex(),$("[data-row_session_types]").each((function(e){var n=$(this).data("row_session_types").split(",");-1!==$.inArray(t,n)&&$(this).showFlex()}))):$('[data-filter_session_type="'+t+'"]').hideFlex()}))})),$(document).on("click",'input[name="sessionRescheduleRadio"]',(function(e){if("true"!=$("#rescheduleSessionDialog").data("is_posed")){var t=$(this).val(),n=$(this).data("friendly_date_time"),i=$("#sessionRescheduleRadio-"+current_session_id).data("friendly_date_time");$("#rescheduleSessionDialog").find("#reschedule_from_session").html(i),$("#rescheduleSessionDialog").find("#reschedule_to_session").html(n);$("#rescheduleSessionDialog").data("target_session_id",t),$("#rescheduleSessionDialog").data("is_posed","true"),$("#rescheduleSessionDialog").modal({}),$("#rescheduleSessionDialog").on("hide.bs.modal",(function(e){$('input[name="sessionRescheduleRadio"]').prop("checked",!1),$("#rescheduleSessionDialog").data("is_posed","false")}))}})),$(document).on("click","#do_reschedule",(function(e){var t=$("#rescheduleSessionDialog").data("target_session_id");$("#do_reschedule").attr("disabled","true"),create_and_submit_form({action:"/session?reschedule="+current_order_id,input:{target:t}})})),$(document).on("click",".add_event_session",(function(e){var t=$(this).data("session"),n=$('[data-event_session="'+t+'"]'),i=null;$(n).val()&&(i=$(n).val().trim()),$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"cart_session_processor",op:"save",pwd:i,sid:t},success:function(e){1==e.result_code?bounce("/session-menu"):($(n).addClass("is-invalid").parent().find(".invalid-feedback").text(e.processor_message),$(".btn-spinning").removeClass("btn-spinning"),$(".ld-spin").remove())},error:function(e,t){response="Unexpected error",$(".btn-spinning").removeClass("btn-spinning"),$(".ld-spin").remove()}})})),$(document).on("keyup","[data-event_session]",(function(e){""!=$(this).val().trim()&&13==e.which?$(this).parent().find(".add_event_session").trigger("click"):$(this).removeClass("is-invalid").parent().find(".invalid-feedback").text("Invalid code")})),$(document).on("click",".change_session_type",(function(e){var t=$(this).data("session_type"),n=$(this).data("bounce");create_and_submit_form({action:"/processor?processor=session_type",input:{type:t,bounce_to:n}})})),$(document).on("click",".rsvp_upgrade_btn",(function(e){$(".session_menu_div").slideDown(),$("html, body").animate({scrollTop:$(".session_menu_div").offset().top},2e3)})),$(document).on("keyup change",".add-coupon-code",(function(e){let t=$(this).val();$(".add-coupon-code").val(t)})),$(document).on("click",".configure-bundle:not(.disabled)",(function(e){let t=$(this).data("menu_item_id");$("[data-master_item_id]").not('[data-master_item_id="'+t+'"]').slideUp(),$('[data-master_item_id="'+t+'"]').slideToggle()})),$(document).on("focusin",".bundle-subitem-qty",(function(e){$(this).data("org_val",$(this).val())})).on("keyup change",".bundle-subitem-qty",(function(e){let t=$(this).data("menu_item_id"),n=canIncrementBundleSubItem($(this),".bundle-subitem-qty");inventoryCheck(t)&&!0===n?$(this).data("org_val",$(this).val()):($(this).val($(this).data("org_val")),!0!==n&&modal_message({title:"Max Items Reached",message:n})),updateServingsCountAndCheckoutButton()})),$(document).on("click",".add-bundle-to-cart:not(.disabled)",(function(e){let t=$(this).data("menu_item_id");inventoryCheck(t)&&update_cart(t,"add"),$('.bundle-subitem-qty[data-parent_item="'+t+'"]:not([readonly])').val(0),$('[data-master_item_id="'+t+'"]').slideToggle(),updateServingsCountAndCheckoutButton()})),$(document).on("click",".add-coupon-add:not(.disabled)",(function(e){let t=$(this).parent().parent().find(".add-coupon-code").val();t?$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"cart_add_payment",payment_type:"coupon",coupon_code:t},success:function(e){e.processor_success?(coupon=e.coupon,$(".cart-total").text(e.orderInfo.grand_total),$(".add-coupon-code").prop("disabled",!0),$(".add-coupon-add").addClass("disabled"),$(".coupon-code-title").text(e.coupon.coupon_code_short_title),$(".coupon-code-total").text(formatAsMoney(e.coupon.coupon_code_discount_total)),$(".coupon-code-row").showFlex(),e.cart_update&&($('[data-cart_menu_item="'+e.menu_item_id+'"]').length?$('[data-cart_menu_item="'+e.menu_item_id+'"]').replaceWith(e.cart_update):($(e.cart_update).appendTo($(".meals-list")).hide().slideDown(),$(".meals-list, .cart-total-div").slideDown()),$(".clear-all-cart-items-div").show(),menuItemInfo.mid[e.menu_item_id].qty_in_cart=e.qty_in_cart),updateServingsCountAndCheckoutButton()):modal_message({title:"Error",message:e.processor_message})},error:function(e,t){modal_message({title:"Error",message:"Unexpected error: "+t})}}):modal_message({title:"Error",message:"Please enter a promo code."})})),$(document).on("click",".clear-cart-session",(function(e){e.preventDefault(),$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"cart_clear_category",op:"do_clear_session",output:"json"},success:function(e){window.location.reload()},error:function(e,t){response="Unexpected error"}})})),$(document).on("click",".clear-all-cart-items",(function(e){window.location.href.indexOf("gift_card_cart"),$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"cart_clear_category",op:"get_clear_form",output:"json"},success:function(e){modal_message({title:"Clear your Cart",message:e.html,height:300,width:300,resizable:!1,confirm:function(){$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"cart_item_processor",op:"remove_all_items",output:"json"},success:function(e){window.location.reload()},error:function(e,t){response="Unexpected error"}})},cancel:function(){}})},error:function(e,t){response="Unexpected error"}})})),$(document).on("click",".add-coupon-remove",(function(e){$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"cart_remove_payment",payment_type:"coupon"},success:function(e){e.processor_success?($(".cart-total").text(e.orderInfo.grand_total),$(".add-coupon-code").prop("disabled",!1),$(".add-coupon-add").removeClass("disabled"),coupon=!1,$(".coupon-code-title").text(""),$(".coupon-code-total").text(formatAsMoney(0)),$(".coupon-code-row").hideFlex(),e.limit_to_recipe_id&&(menuItemInfo.mid[e.limit_to_recipe_id].qty_in_cart=e.qty_in_cart,e.qty_in_cart>0?($('[data-cart_menu_item="'+e.limit_to_recipe_id+'"]').length?$('[data-cart_menu_item="'+e.limit_to_recipe_id+'"]').replaceWith(e.cart_update):($(e.cart_update).appendTo($(".meals-list")).hide().slideDown(),$(".meals-list, .cart-total-div").slideDown()),$(".clear-all-cart-items-div").show()):($('.add-to-cart[data-menu_item_id="'+e.limit_to_recipe_id+'"] > .fas').show(),$('[data-cart_menu_item="'+e.limit_to_recipe_id+'"]').slideUp("slow",(function(){$(this).remove(),$(".meals-list").html().trim().length||0==order_minimum.is_applicable&&1!=order_minimum.has_freezer_inventory&&$(".meals-list, .cart-total-div").slideUp("slow",(function(){$(".msg_empty_cart").slideDown()}))})))),updateServingsCountAndCheckoutButton()):modal_message({title:"Error",message:e.processor_message})},error:function(e,t){modal_message({title:"Error",message:"Unexpected error: "+t})}})})),$(document).on("click",".rsvp_submit_btn",(function(e){e.preventDefault(),!1===$("#rsvp_only_form")[0].checkValidity()?(e.stopPropagation(),$(".btn-spinning").removeClass("btn-spinning"),$(".ld-spin").remove()):$.ajax({url:"/processor",type:"POST",timeout:2e4,dataType:"json",data:{processor:"session_rsvp",op:"rsvp_dream_taste",primary_email_login:$("#rsvp_primary_email_login").val(),password_login:$("#rsvp_password_login").val(),firstname:$("#rsvp_firstname").val(),lastname:$("#rsvp_lastname").val(),telephone_1:$("#rsvp_telephone_1").val(),sms_opt_in:$("#rsvp_sms_opt_in").is(":checked"),nobo:1,submit_login:1,remember_login:1},success:function(e){e.processor_success?($(".rsvp_only_form_incomplete").slideUp(),$(".rsvp_only_form_complete").slideDown(),$(".login_first_name").text($("#rsvp_firstname").val()),$(".login_sign_in").hide(),$(".login_signed_in").show(),$(".btn-spinning").removeClass("btn-spinning"),$(".ld-spin").remove()):!e.processor_success&&e.processor_message&&(modal_message({message:e.processor_message}),$(".btn-spinning").removeClass("btn-spinning"),$(".ld-spin").remove())},error:function(e,t){response="Unexpected error"}}),$("#rsvp_only_form").addClass("was-validated")})),$(".mobile-cart-div").find(".menuCart").on("show.bs.collapse",(function(){$(".show-cart-button > .fas").removeClass("fa-shopping-cart"),$(".show-cart-button > .fas").addClass("fa-chevron-up"),$("body").addClass("modal-open"),$(".menuCart").addClass(".panel-fullscreen"),updateServingsCountAndCheckoutButton()})),$(".mobile-cart-div").find(".menuCart").on("shown.bs.collapse",(function(){$(".mobile-cart-div")[0].scrollIntoView({behavior:"smooth",block:"start"})})),$(document).on("click",".menuCart-modal, .mobile-cart-div > * .msg_empty_cart",(function(e){$(".show-cart-button").trigger("click")})),$(".mobile-cart-div").find(".menuCart").on("hide.bs.collapse",(function(){$(".show-cart-button > .fas").removeClass("fa-chevron-up"),$(".show-cart-button > .fas").addClass("fa-shopping-cart"),$(".continue-btn-div").toggle(),$("body").removeClass("modal-open"),$(".menuCart-modal").remove(),updateServingsCountAndCheckoutButton()})),$("[data-unix_expiry]").length>0&&($.doTimeout("unix_expiry_timer"),$.doTimeout("unix_expiry_timer",6e4,(function(){var e=Math.round((new Date).getTime()/1e3);return $("[data-unix_expiry]").filter((function(){return $(this).data("unix_expiry")<e&&!$(this).hasClass("disabled")})).addClass("disabled"),!0})),$.doTimeout("unix_expiry_timer",!0))}));
//# sourceMappingURL=session_menu.min.js.map