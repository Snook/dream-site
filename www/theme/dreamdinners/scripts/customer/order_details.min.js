$(document).on("click","#enroll_in_plate_points",(function(e){$("#plate-points-fields").hasClass("collapse")?$("#plate-points-fields").removeClass("collapse"):$("#plate-points-fields").addClass("collapse")})),$(document).on("click","#handle-plate-points-enroll",(function(e){let s=$(this).data("user_id");$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"plate_points_processor",user_id:s,birth_month:$("#birthday_month").find(":selected").val(),birth_year:$("#birthday_year").find(":selected").val(),op:"opt_in_with_birthday"},success:function(e,s){e.processor_success?($("#plate-points-fields").addClass("collapse"),$("#plate-points-checkbox").addClass("collapse"),modal_message({title:"PlatePoints Enrollment Complete",message:"You are now enrolled in the PlatePoints program."})):modal_message({title:"Error",message:"There was a problem opting into the PlatePoints program."})},error:function(e,s){response="Unexpected error"}})})),$(document).on("click","#handle-cancel-delivered-order",(function(e){var s,a=$(this).data("session_id"),o=$(this).data("order_id"),r=$(this).data("store_id"),t=$(this).data("user_id");$(this).data("bounce");$.ajax({url:"ddproc.php",type:"POST",timeout:2e4,dataType:"json",data:{processor:"delivered_cancel_order",op:"cancel_preflight",store_id:r,session_id:a,user_id:t,order_id:o},success:function(e,n){e.processor_success&&e.data?modal_message({title:"Cancel Order?",message:e.data,size:"large",modal:!0,confirm:function(e,n){if(""==(i=$("#cancellation_reason").val()))return modal_message({title:"",div_id:"Uneek262020",message:"Please select a reason for cancelling"}),!1;var l={};$("#cancel_parent input:hidden").each((function(){l[this.id]=$(this).val()}));var i=$("#cancellation_reason").val();s=bootbox.dialog({message:'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> Cancelling the order...</p>',closeButton:!1}),$.ajax({url:"ddproc.php",type:"POST",timeout:3e4,dataType:"json",data:{processor:"delivered_cancel_order",op:"cancel",store_id:r,session_id:a,user_id:t,order_id:o,paymentList:l,reason:i},success:function(e){s.remove(),e.processor_success?modal_message({title:"Order was Canceled",message:e.data,div_id:"cancel_order",closeOnEscape:!1,closeButton:!1,modal:!0,noOk:!0,buttons:{OK:function(){bounce("/my-meals?tab=nav-past_orders")}}}):modal_message({title:"Error Cancelling Order",message:e.processor_message})},error:function(e,a){console.log("Unexpected error: "+a),s.remove(),modal_message({title:"Error Cancelling Order",message:"Sorry, their was an error processing your order cancellation.",buttons:{OK:function(){bounce("/my-meals?tab=nav-past_orders")}}})}})}}):modal_message({title:"Error",message:e.processor_message})},error:function(e,s){response="Unexpected error: "+s,modal_message({title:"Error",message:response})}})}));
//# sourceMappingURL=order_details.min.js.map