var curZipCodeLength=5;function designClick(e){$("#virt_design_type_div_expanded").slideUp(),$("#phys_design_type_div_expanded").slideUp(),$("#design_type_div_collapsed").slideDown(),currentDesignType=$(e).data("design_id"),"virt"==currentMediaType?($("#virtual_card_form").slideDown(),$("#selectedDesignImg").html('<img class="img-fluid" style="height: 2rem;" src="'+PATH.image+"/gift_cards/"+card_designs[currentDesignType].image_path_egift+'">'),$("#selected_design_desc").text(card_designs[currentDesignType].title),$("#expanded_virt_design_message").text("Currently Selected > "+card_designs[currentDesignType].title),$("#expanded_phys_design_message").text("Currently Selected > "+card_designs[currentDesignType].title)):($("#physical_card_form").slideDown(),$("#selectedDesignImg").html('<img class="img-fluid" style="height: 2rem;" src="'+PATH.image+"/gift_cards/"+card_designs[currentDesignType].image_path+'">'),$("#selected_design_desc").text(card_designs[currentDesignType].title),$("#expanded_virt_design_message").text("Currently Selected > "+card_designs[currentDesignType].title),$("#expanded_phys_design_message").text("Currently Selected > "+card_designs[currentDesignType].title)),$("#card_details_form").show(),is_edit?$("#edit_submit").show():$("#add_submit").show(),update_required(currentMediaType)}function mediaClick(e){$("#media_type_div_expanded").slideUp(),$("#media_type_div_collapsed").show(),(!currentDesignType||"none"==currentDesignType||$("#phys_design_type_div_expanded").is(":visible")||$("#virt_design_type_div_expanded").is(":visible"))&&("physical_card"==e.id||"physical_card_img"==e.id?($("#phys_design_type_div_expanded").slideDown(),$("#virt_design_type_div_expanded").slideUp()):($("#virt_design_type_div_expanded").slideDown(),$("#phys_design_type_div_expanded").slideUp())),"physical_card"==e.id||"physical_card_img"==e.id?($("#selected_media_desc").text("Traditional Card (Sent via standard mail)"),currentMediaType="phys",$("#expanded_type_message").text("Currently Selected > Traditional Card"),currentDesignType&&"none"!=currentDesignType&&($("#physical_card_form").show(),$("#virtual_card_form").hide(),is_edit?$("#edit_submit").show():$("#add_submit").show(),card_designs[currentDesignType]?(document.getElementById("selectedDesignImg").src=PATH.image+"/gift_cards/"+card_designs[currentDesignType].image_path,$("#selected_design_desc").text(card_designs[currentDesignType].title)):(currentDesignType=!1,$("#phys_design_type_div_expanded").show(),$("#virt_design_type_div_expanded").hide(),$("#design_type_div_collapsed").hide(),$("#physical_card_form").hide(),$("#card_details_form").hide(),is_edit?$("#edit_submit").show():$("#add_submit").show()))):($("#selected_media_desc").text("Virtual eGift Card (Sent via email)"),currentMediaType="virt",$("#expanded_type_message").text("Currently Selected > Virtual eGift Card"),currentDesignType&&"none"!=currentDesignType&&(document.getElementById("physical_card_form").style.display="none",document.getElementById("virtual_card_form").style.display="block",is_edit?document.getElementById("edit_submit").style.display="block":document.getElementById("add_submit").style.display="block",document.getElementById("selectedDesignImg").src=PATH.image+"/gift_cards/"+card_designs[currentDesignType].image_path,document.getElementById("selected_design_desc").innerHTML=card_designs[currentDesignType].title,card_designs[currentDesignType].image_path_egift?(document.getElementById("selectedDesignImg").src=PATH.image+"/gift_cards/"+card_designs[currentDesignType].image_path_egift,document.getElementById("selected_design_desc").innerHTML=card_designs[currentDesignType].title):(currentDesignType=!1,document.getElementById("virt_design_type_div_expanded").style.display="block",document.getElementById("phys_design_type_div_expanded").style.display="none",document.getElementById("design_type_div_collapsed").style.display="none",document.getElementById("virtual_card_form").style.display="none",document.getElementById("card_details_form").style.display="none",is_edit?document.getElementById("edit_submit").style.display="block":document.getElementById("add_submit").style.display="block")))}function modifyDesign(e){"virt"==currentMediaType?document.getElementById("virt_design_type_div_expanded").style.display="block":document.getElementById("phys_design_type_div_expanded").style.display="block",document.getElementById("design_type_div_collapsed").style.display="none"}function modifyMedia(e){$("#card_details_form").slideUp(),$("#physical_card_form").slideUp(),$("#virt_design_type_div_expanded").slideUp(),$("#phys_design_type_div_expanded").slideUp(),$("#media_type_div_expanded").slideDown(),$("#media_type_div_collapsed").slideUp()}function handleStateSelection(e){switch(e.value){case"AB":case"BC":case"MB":case"NB":case"NL":case"NS":case"NT":case"NU":case"ON":case"PE":case"QC":case"SK":case"YT":curZipCodeLength=6;break;default:curZipCodeLength=5}$("#numZipDigits").html(curZipCodeLength),$("#shipping_zip").attr("maxlength",curZipCodeLength),6==curZipCodeLength?$("#shipping_zip").removeAttr("data-number"):$("#shipping_zip").attr("data-number","true")}function update_required(e){("phys"==e?($("#shipping_address_1").prop("required",!0),$("#shipping_city").prop("required",!0),$("#shipping_state").prop("required",!0),$("#shipping_zip").prop("required",!0),$("#shipping_first_name").prop("required",!0),$("#shipping_last_name").prop("required",!0),$("#physical_card").prop("required",!0),$("#shipping_zip").prop("required",!0),$("#recipient_email").prop("required",!1),$("#confirm_recipient_email").prop("required",!1)):($("#shipping_address_1").prop("required",!1),$("#shipping_city").prop("required",!1),$("#shipping_state").prop("required",!1),$("#shipping_zip").prop("required",!1),$("#shipping_first_name").prop("required",!1),$("#shipping_last_name").prop("required",!1),$("#physical_card").prop("required",!1),$("#shipping_zip").prop("required",!1),$("#recipient_email").prop("required",!0),$("#confirm_recipient_email").prop("required",!0)),e&&(document.getElementById("media_type").value=e),currentDesignType&&(document.getElementById("design_id").value=currentDesignType),"phys"==e)&&document.getElementById("shipping_zip").value.length}function quantityClick(e){e>50&&(document.getElementById("quantity").value=50,alert("You can only order 50 gift cards at a time. To order more than 50 gift cards at once please contact Dream Dinners Customer Support."))}function updateInfo(){1==document.getElementById("sameInfo").checked?(document.getElementById("name_credit_card").value=document.getElementById("shipping_first_name").value+" "+document.getElementById("shipping_last_name").value,document.getElementById("billing_address").value=document.getElementById("shipping_address_1").value+" "+document.getElementById("shipping_address_2").value,document.getElementById("billing_zip").value=document.getElementById("shipping_zip").value):(document.getElementById("name_credit_card").value="",document.getElementById("billing_address").value="",document.getElementById("billing_zip").value="")}var codes="",i=0,x=0,browser=navigator.appName,charCode="";function keyHandler(e){return 13!=(charCode="Microsoft Internet Explorer"==browser?document.all?event.keyCode:e.keyCode:e.keyCode?e.keyCode:e.charCode)&&(94==charCode?(codes.length>=15?(document.getElementById("gift_card_number").value=codes,codes="",i=0):(codes="",i=0),!1):!(2==i&&(parseInt(charCode)>57||parseInt(charCode)<48)&&codes.length<15&&94!=charCode&&8!=charCode)&&((parseInt(charCode)>57||parseInt(charCode)<48)&&i<2&&94!=charCode&&String.fromCharCode(charCode),"%"==String.fromCharCode(charCode)&&0==i?i=1:"B"==String.fromCharCode(charCode)&&1==i&&(i=2),void("B"!=String.fromCharCode(charCode)&&2==i&&"^"!=String.fromCharCode(charCode)&&(codes+=String.fromCharCode(charCode)))))}document.onkeypress=keyHandler,$((function(){if($(".choose_media:not(.disabled)").on("click",(function(e){mediaClick(this),e.preventDefault()})),$(".choose_design").on("click",(function(e){designClick(this),e.preventDefault()})),$(".modify_media").on("click",(function(e){modifyMedia(),e.preventDefault()})),$(".modify_design").on("click",(function(e){modifyDesign(),e.preventDefault()})),is_edit||is_error){$("#media_type_div_collapsed").show(),$("#design_type_div_collapsed").show(),$("#card_details_form").show(),"virt"==currentMediaType?($("#virtual_card_form").show(),mediaClick(document.getElementById("virtual_card"))):($("#physical_card_form").show(),mediaClick(document.getElementById("physical_card")));var e="cd_"+currentDesignType;designClick(document.getElementById(e))}else $("#media_type_div_expanded").show(),$("#add_submit").hide();handleStateSelection($("#shipping_state")[0])}));
//# sourceMappingURL=gift_card_order.min.js.map